!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r,a,o,i,u,s,l,c,f,d,h,p=n(9),g=n(29);o=crossfilter(g.loadDateFixture()),r="filter-builder",i="state-chart",c="regionChart",u=o.dimension(function(t){return t.state}),s=u.group(),f=o.dimension(function(t){return t.region}),d=f.group(),l=p.rowChart("#"+i),l.dimension(u).group(s).width(600).height(200).gap(10).transitionDuration(0),h=p.rowChart("#"+c),h.dimension(f).group(d).width(600).height(200).gap(10).transitionDuration(0),a=p.filterBuilder("#"+r),a.filterSources([{chart:h,label:"Region"},{chart:l,label:"State"}]),p.renderAll()},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(t,e,n){d3=n(4),crossfilter=n(16),t.exports=n(14)},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=f[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(u(r.parts[o],e))}else{for(var i=[],o=0;o<r.parts.length;o++)i.push(u(r.parts[o],e));f[r.id]={id:r.id,refs:1,parts:i}}}}function a(t){for(var e=[],n={},r=0;r<t.length;r++){var a=t[r],o=a[0],i=a[1],u=a[2],s=a[3],l={css:i,media:u,sourceMap:s};n[o]?n[o].parts.push(l):e.push(n[o]={id:o,parts:[l]})}return e}function o(){var t=document.createElement("style"),e=p();return t.type="text/css",e.appendChild(t),t}function i(){var t=document.createElement("link"),e=p();return t.rel="stylesheet",e.appendChild(t),t}function u(t,e){var n,r,a;if(e.singleton){var u=m++;n=g||(g=o()),r=s.bind(null,n,u,!1),a=s.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=i(),r=c.bind(null,n),a=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(),r=l.bind(null,n),a=function(){n.parentNode.removeChild(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}function s(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=v(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function l(t,e){var n=e.css,r=e.media;e.sourceMap;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function c(t,e){var n=e.css,r=(e.media,e.sourceMap);r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h());var n=a(t);return r(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var u=n[i],s=f[u.id];s.refs--,o.push(s)}if(t){var l=a(t);r(l,e)}for(var i=0;i<o.length;i++){var s=o[i];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}};var v=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){var r,a;!function(){function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function i(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function u(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function s(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function c(t){return{left:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);a>r;){var o=r+a>>>1;t(e[o],n)<0?r=o+1:a=o}return r},right:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);a>r;){var o=r+a>>>1;t(e[o],n)>0?a=o:r=o+1}return r}}}function f(t){return t.length}function d(t){for(var e=1;t*e%1;)e*=10;return e}function h(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function p(){this._=Object.create(null)}function g(t){return(t+="")===xi||t[0]===wi?wi+t:t}function m(t){return(t+="")[0]===wi?t.slice(1):t}function v(t){return g(t)in this._}function y(t){return(t=g(t))in this._&&delete this._[t]}function b(){var t=[];for(var e in this._)t.push(m(e));return t}function x(){var t=0;for(var e in this._)++t;return t}function w(){for(var t in this._)return!1;return!0}function k(){this._=Object.create(null)}function A(t){return t}function F(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function M(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ki.length;r>n;++n){var a=ki[n]+e;if(a in t)return a}}function C(){}function E(){}function _(t){function e(){for(var e,r=n,a=-1,o=r.length;++a<o;)(e=r[a].on)&&e.apply(this,arguments);return t}var n=[],r=new p;return e.on=function(e,a){var o,i=r.get(e);return arguments.length<2?i&&i.on:(i&&(i.on=null,n=n.slice(0,o=n.indexOf(i)).concat(n.slice(o+1)),r.remove(e)),a&&n.push(r.set(e,{on:a})),t)},e}function S(){ui.event.preventDefault()}function D(){for(var t,e=ui.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new E,n=0,r=arguments.length;++n<r;)e[arguments[n]]=_(e);return e.of=function(n,r){return function(a){try{var o=a.sourceEvent=ui.event;a.target=t,ui.event=a,e[a.type].apply(n,r)}finally{ui.event=o}}},e}function N(t){return Fi(t,_i),t}function R(t){return"function"==typeof t?t:function(){return Mi(t,this)}}function L(t){return"function"==typeof t?t:function(){return Ci(t,this)}}function q(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function i(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function u(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ui.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?u:i:t.local?o:a}function O(t){return t.trim().replace(/\s+/g," ")}function P(t){return new RegExp("(?:^|\\s+)"+ui.requote(t)+"(?:\\s+|$)","g")}function j(t){return(t+"").trim().split(/^|\s+/)}function z(t,e){function n(){for(var n=-1;++n<a;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<a;)t[n](this,r)}t=j(t).map(B);var a=t.length;return"function"==typeof e?r:n}function B(t){var e=P(t);return function(n,r){if(a=n.classList)return r?a.add(t):a.remove(t);var a=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(a)||n.setAttribute("class",O(a+" "+t))):n.setAttribute("class",O(a.replace(e," ")))}}function $(t,e,n){function r(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:a}function H(t,e){function n(){delete this[t]}function r(){this[t]=e}function a(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?a:r}function U(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ui.ns.qualify(t)).local?n:e}function I(){var t=this.parentNode;t&&t.removeChild(this)}function W(t){return{__data__:t}}function G(t){return function(){return Ei(this,t)}}function Y(t){return arguments.length||(t=u),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function V(t,e){for(var n=0,r=t.length;r>n;n++)for(var a,o=t[n],i=0,u=o.length;u>i;i++)(a=o[i])&&e(a,i,n);return t}function X(t){return Fi(t,Di),t}function Z(t){var e,n;return function(r,a,o){var i,u=t[o].update,s=u.length;for(o!=n&&(n=o,e=0),a>=e&&(e=a+1);!(i=u[e])&&++e<s;);return i}}function K(t,e,n){function r(){var e=this[i];e&&(this.removeEventListener(t,e,e.$),delete this[i])}function a(){var a=s(e,li(arguments));r.call(this),this.addEventListener(t,this[i]=a,a.$=n),a._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ui.requote(t)+"$");for(var r in this)if(e=r.match(n)){var a=this[r];this.removeEventListener(e[1],a,a.$),delete this[r]}}var i="__on"+t,u=t.indexOf("."),s=J;u>0&&(t=t.slice(0,u));var l=Ti.get(t);return l&&(t=l,s=Q),u?e?a:r:e?C:o}function J(t,e){return function(n){var r=ui.event;ui.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ui.event=r}}}function Q(t,e){var n=J(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++Ri,n="click"+e,r=ui.select(i(t)).on("touchmove"+e,S).on("dragstart"+e,S).on("selectstart"+e,S);if(null==Ni&&(Ni="onselectstart"in t?!1:M(t.style,"userSelect")),Ni){var a=o(t).style,u=a[Ni];a[Ni]="none"}return function(t){if(r.on(e,null),Ni&&(a[Ni]=u),t){var o=function(){r.on(n,null)};r.on(n,function(){S(),o()},!0),setTimeout(o,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Li){var a=i(t);if(a.scrollX||a.scrollY){n=ui.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();Li=!(o.f||o.e),n.remove()}}return Li?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var u=t.getBoundingClientRect();return[e.clientX-u.left-t.clientLeft,e.clientY-u.top-t.clientTop]}function nt(){return ui.event.changedTouches[0].identifier}function rt(t){return t>0?1:0>t?-1:0}function at(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ot(t){return t>1?0:-1>t?Pi:Math.acos(t)}function it(t){return t>1?Bi:-1>t?-Bi:Math.asin(t)}function ut(t){return((t=Math.exp(t))-1/t)/2}function st(t){return((t=Math.exp(t))+1/t)/2}function lt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ct(t){return(t=Math.sin(t/2))*t}function ft(){}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.s,t.l):Ct(""+t,Et,dt):new dt(t,e,n)}function ht(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(i-o)*t/60:180>t?i:240>t?o+(i-o)*(240-t)/60:o}function a(t){return Math.round(255*r(t))}var o,i;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,i=.5>=n?n*(1+e):n+e-n*e,o=2*n-i,new kt(a(t+120),a(t),a(t-120))}function pt(t,e,n){return this instanceof pt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof pt?new pt(t.h,t.c,t.l):t instanceof mt?yt(t.l,t.a,t.b):yt((t=_t((t=ui.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new pt(t,e,n)}function gt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new mt(n,Math.cos(t*=$i)*e,Math.sin(t)*e)}function mt(t,e,n){return this instanceof mt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof mt?new mt(t.l,t.a,t.b):t instanceof pt?gt(t.h,t.c,t.l):_t((t=kt(t)).r,t.g,t.b):new mt(t,e,n)}function vt(t,e,n){var r=(t+16)/116,a=r+e/500,o=r-n/200;return a=bt(a)*Ji,r=bt(r)*Qi,o=bt(o)*tu,new kt(wt(3.2404542*a-1.5371385*r-.4985314*o),wt(-.969266*a+1.8760108*r+.041556*o),wt(.0556434*a-.2040259*r+1.0572252*o))}function yt(t,e,n){return t>0?new pt(Math.atan2(n,e)*Hi,Math.sqrt(e*e+n*n),t):new pt(NaN,NaN,t)}function bt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function xt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function wt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function kt(t,e,n){return this instanceof kt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof kt?new kt(t.r,t.g,t.b):Ct(""+t,kt,ht):new kt(t,e,n)}function At(t){return new kt(t>>16,t>>8&255,255&t)}function Ft(t){return At(t)+""}function Mt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Ct(t,e,n){t=t.toLowerCase();var r,a,o,i=0,u=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(Dt(a[0]),Dt(a[1]),Dt(a[2]))}return(o=ru.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(i=(3840&o)>>4,i=i>>4|i,u=240&o,u=u>>4|u,s=15&o,s=s<<4|s):7===t.length&&(i=(16711680&o)>>16,u=(65280&o)>>8,s=255&o)),e(i,u,s))}function Et(t,e,n){var r,a,o=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),u=i-o,s=(i+o)/2;return u?(a=.5>s?u/(i+o):u/(2-i-o),r=t==i?(e-n)/u+(n>e?6:0):e==i?(n-t)/u+2:(t-e)/u+4,r*=60):(r=NaN,a=s>0&&1>s?0:r),new dt(r,a,s)}function _t(t,e,n){t=St(t),e=St(e),n=St(n);var r=xt((.4124564*t+.3575761*e+.1804375*n)/Ji),a=xt((.2126729*t+.7151522*e+.072175*n)/Qi),o=xt((.0193339*t+.119192*e+.9503041*n)/tu);return mt(116*a-16,500*(r-a),200*(a-o))}function St(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Dt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Tt(t){return"function"==typeof t?t:function(){return t}}function Nt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Rt(e,n,t,r)}}function Rt(t,e,n,r){function a(){var t,e=s.status;if(!e&&qt(s)||e>=200&&300>e||304===e){try{t=n.call(o,s)}catch(r){return void i.error.call(o,r)}i.load.call(o,t)}else i.error.call(o,s)}var o={},i=ui.dispatch("beforesend","progress","load","error"),u={},s=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=a:s.onreadystatechange=function(){s.readyState>3&&a()},s.onprogress=function(t){var e=ui.event;ui.event=t;try{i.progress.call(o,s)}finally{ui.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(li(arguments)))}}),o.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),s.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),s.setRequestHeader)for(var c in u)s.setRequestHeader(c,u[c]);return null!=e&&s.overrideMimeType&&s.overrideMimeType(e),null!=l&&(s.responseType=l),null!=a&&o.on("error",a).on("load",function(t){a(null,t)}),i.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},ui.rebind(o,i,"on"),null==r?o:o.get(Lt(r))}function Lt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function qt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ot(){var t=Pt(),e=jt()-t;e>24?(isFinite(e)&&(clearTimeout(uu),uu=setTimeout(Ot,e)),iu=0):(iu=1,lu(Ot))}function Pt(){var t=Date.now();for(su=au;su;)t>=su.t&&(su.f=su.c(t-su.t)),su=su.n;return t}function jt(){for(var t,e=au,n=1/0;e;)e.f?e=t?t.n=e.n:au=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return ou=t,n}function zt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Bt(t,e){var n=Math.pow(10,3*bi(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function $t(t){var e=t.decimal,n=t.thousands,r=t.grouping,a=t.currency,o=r&&n?function(t,e){for(var a=t.length,o=[],i=0,u=r[0],s=0;a>0&&u>0&&(s+u+1>e&&(u=Math.max(1,e-s)),o.push(t.substring(a-=u,a+u)),!((s+=u+1)>e));)u=r[i=(i+1)%r.length];return o.reverse().join(n)}:A;return function(t){var n=fu.exec(t),r=n[1]||" ",i=n[2]||">",u=n[3]||"-",s=n[4]||"",l=n[5],c=+n[6],f=n[7],d=n[8],h=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(l||"0"===r&&"="===i)&&(l=r="0",i="="),h){case"n":f=!0,h="g";break;case"%":p=100,m="%",h="f";break;case"p":p=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===s&&(g="0"+h.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,h="r"}"$"===s&&(g=a[0],m=a[1]),"r"!=h||d||(h="g"),null!=d&&("g"==h?d=Math.max(1,Math.min(21,d)):("e"==h||"f"==h)&&(d=Math.max(0,Math.min(20,d)))),h=du.get(h)||Ht;var b=l&&f;return function(t){var n=m;if(v&&t%1)return"";var a=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===u?"":u;if(0>p){var s=ui.formatPrefix(t,d);t=s.scale(t),n=s.symbol+m}else t*=p;t=h(t,d);var x,w,k=t.lastIndexOf(".");if(0>k){var A=y?t.lastIndexOf("e"):-1;0>A?(x=t,w=""):(x=t.substring(0,A),w=t.substring(A))}else x=t.substring(0,k),w=e+t.substring(k+1);!l&&f&&(x=o(x,1/0));var F=g.length+x.length+w.length+(b?0:a.length),M=c>F?new Array(F=c-F+1).join(r):"";return b&&(x=o(M+x,M.length?c-w.length:1/0)),a+=g,t=x+w,("<"===i?a+t+M:">"===i?M+a+t:"^"===i?M.substring(0,F>>=1)+a+t+M.substring(F):a+(b?t:M+t))+n}}}function Ht(t){return t+""}function Ut(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function It(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function a(n){return e(n=t(new pu(n-1)),1),n}function o(t,n){return e(t=new pu(+t),n),t}function i(t,r,o){var i=a(t),u=[];if(o>1)for(;r>i;)n(i)%o||u.push(new Date(+i)),e(i,1);else for(;r>i;)u.push(new Date(+i)),e(i,1);return u}function u(t,e,n){try{pu=Ut;var r=new Ut;return r._=t,i(r,e,n)}finally{pu=Date}}t.floor=t,t.round=r,t.ceil=a,t.offset=o,t.range=i;var s=t.utc=Wt(t);return s.floor=s,s.round=Wt(r),s.ceil=Wt(a),s.offset=Wt(o),s.range=u,t}function Wt(t){return function(e,n){try{pu=Ut;var r=new Ut;return r._=e,t(r,n)._}finally{pu=Date}}}function Gt(t){function e(t){function e(e){for(var n,a,o,i=[],u=-1,s=0;++u<r;)37===t.charCodeAt(u)&&(i.push(t.slice(s,u)),null!=(a=mu[n=t.charAt(++u)])&&(n=t.charAt(++u)),(o=_[n])&&(n=o(e,null==a?"e"===n?" ":"0":a)),i.push(n),s=u+1);return i.push(t.slice(s,u)),i.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=n(r,t,e,0);if(a!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&pu!==Ut,i=new(o?Ut:pu);return"j"in r?i.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?i._:i},e.toString=function(){return t},e}function n(t,e,n,r){for(var a,o,i,u=0,s=e.length,l=n.length;s>u;){if(r>=l)return-1;if(a=e.charCodeAt(u++),37===a){if(i=e.charAt(u++),o=S[i in mu?e.charAt(u++):i],!o||(r=o(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.w=A.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=E.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){F.lastIndex=0;var r=F.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function u(t,e,r){return n(t,_.c.toString(),e,r)}function s(t,e,r){return n(t,_.x.toString(),e,r)}function l(t,e,r){return n(t,_.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,d=t.date,h=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{pu=Ut;var e=new pu;return e._=t,r(e)}finally{pu=Date}}var r=e(t);return n.parse=function(t){try{pu=Ut;var e=r.parse(t);return e&&e._}finally{pu=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=de;var b=ui.map(),x=Vt(g),w=Xt(g),k=Vt(m),A=Xt(m),F=Vt(v),M=Xt(v),C=Vt(y),E=Xt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var _={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return Yt(t.getDate(),e,2)},e:function(t,e){return Yt(t.getDate(),e,2)},H:function(t,e){return Yt(t.getHours(),e,2)},I:function(t,e){return Yt(t.getHours()%12||12,e,2)},j:function(t,e){return Yt(1+hu.dayOfYear(t),e,3)},L:function(t,e){return Yt(t.getMilliseconds(),e,3)},m:function(t,e){return Yt(t.getMonth()+1,e,2)},M:function(t,e){return Yt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Yt(t.getSeconds(),e,2)},U:function(t,e){return Yt(hu.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Yt(hu.mondayOfYear(t),e,2)},x:e(d),X:e(h),y:function(t,e){return Yt(t.getFullYear()%100,e,2)},Y:function(t,e){return Yt(t.getFullYear()%1e4,e,4)},Z:ce,"%":function(){return"%"}},S={a:r,A:a,b:o,B:i,c:u,d:ae,e:ae,H:ie,I:ie,j:oe,L:le,m:re,M:ue,p:c,S:se,U:Kt,w:Zt,W:Jt,x:s,X:l,y:te,Y:Qt,Z:ee,"%":fe};return e}function Yt(t,e,n){var r=0>t?"-":"",a=(r?-t:t)+"",o=a.length;return r+(n>o?new Array(n-o+1).join(e)+a:a)}function Vt(t){return new RegExp("^(?:"+t.map(ui.requote).join("|")+")","i")}function Xt(t){for(var e=new p,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Zt(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Kt(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Jt(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Qt(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function te(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+2));return r?(t.y=ne(+r[0]),n+r[0].length):-1}function ee(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function ne(t){return t+(t>68?1900:2e3)}function re(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ae(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function oe(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ie(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ue(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function se(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function le(t,e,n){vu.lastIndex=0;var r=vu.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ce(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=bi(e)/60|0,a=bi(e)%60;return n+Yt(r,"0",2)+Yt(a,"0",2)}function fe(t,e,n){yu.lastIndex=0;var r=yu.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function de(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function he(){}function pe(t,e,n){var r=n.s=t+e,a=r-t,o=r-a;n.t=t-o+(e-a)}function ge(t,e){t&&ku.hasOwnProperty(t.type)&&ku[t.type](t,e)}function me(t,e,n){var r,a=-1,o=t.length-n;for(e.lineStart();++a<o;)r=t[a],e.point(r[0],r[1],r[2]);e.lineEnd()}function ve(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)me(t[n],e,1);e.polygonEnd()}function ye(){function t(t,e){t*=$i,e=e*$i/2+Pi/4;var n=t-r,i=n>=0?1:-1,u=i*n,s=Math.cos(e),l=Math.sin(e),c=o*l,f=a*s+c*Math.cos(u),d=c*i*Math.sin(u);Fu.add(Math.atan2(d,f)),r=t,a=s,o=l}var e,n,r,a,o;Mu.point=function(i,u){Mu.point=t,r=(e=i)*$i,a=Math.cos(u=(n=u)*$i/2+Pi/4),o=Math.sin(u)},Mu.lineEnd=function(){t(e,n)}}function be(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function xe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function we(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ke(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ae(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Me(t){return[Math.atan2(t[1],t[0]),it(t[2])]}function Ce(t,e){return bi(t[0]-e[0])<qi&&bi(t[1]-e[1])<qi}function Ee(t,e){t*=$i;var n=Math.cos(e*=$i);_e(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function _e(t,e,n){++Cu,_u+=(t-_u)/Cu,Su+=(e-Su)/Cu,Du+=(n-Du)/Cu}function Se(){function t(t,a){t*=$i;var o=Math.cos(a*=$i),i=o*Math.cos(t),u=o*Math.sin(t),s=Math.sin(a),l=Math.atan2(Math.sqrt((l=n*s-r*u)*l+(l=r*i-e*s)*l+(l=e*u-n*i)*l),e*i+n*u+r*s);Eu+=l,Tu+=l*(e+(e=i)),Nu+=l*(n+(n=u)),Ru+=l*(r+(r=s)),_e(e,n,r)}var e,n,r;Pu.point=function(a,o){a*=$i;var i=Math.cos(o*=$i);e=i*Math.cos(a),n=i*Math.sin(a),r=Math.sin(o),Pu.point=t,_e(e,n,r)}}function De(){Pu.point=Ee}function Te(){function t(t,e){t*=$i;var n=Math.cos(e*=$i),i=n*Math.cos(t),u=n*Math.sin(t),s=Math.sin(e),l=a*s-o*u,c=o*i-r*s,f=r*u-a*i,d=Math.sqrt(l*l+c*c+f*f),h=r*i+a*u+o*s,p=d&&-ot(h)/d,g=Math.atan2(d,h);Lu+=p*l,qu+=p*c,Ou+=p*f,Eu+=g,Tu+=g*(r+(r=i)),Nu+=g*(a+(a=u)),Ru+=g*(o+(o=s)),_e(r,a,o)}var e,n,r,a,o;Pu.point=function(i,u){e=i,n=u,Pu.point=t,i*=$i;var s=Math.cos(u*=$i);r=s*Math.cos(i),a=s*Math.sin(i),o=Math.sin(u),_e(r,a,o)},Pu.lineEnd=function(){t(e,n),Pu.lineEnd=De,Pu.point=Ee}}function Ne(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Re(){return!0}function Le(t,e,n,r,a){var o=[],i=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ce(n,r)){a.lineStart();for(var u=0;e>u;++u)a.point((n=t[u])[0],n[1]);return void a.lineEnd()}var s=new Oe(n,t,null,!0),l=new Oe(n,null,s,!1);s.o=l,o.push(s),i.push(l),s=new Oe(r,t,null,!1),l=new Oe(r,null,s,!0),s.o=l,o.push(s),i.push(l)}}),i.sort(e),qe(o),qe(i),o.length){for(var u=0,s=n,l=i.length;l>u;++u)i[u].e=s=!s;for(var c,f,d=o[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var u=0,l=c.length;l>u;++u)a.point((f=c[u])[0],f[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(p){c=h.p.z;for(var u=c.length-1;u>=0;--u)a.point((f=c[u])[0],f[1])}else r(h.x,h.p.x,-1,a);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);a.lineEnd()}}}function qe(t){if(e=t.length){for(var e,n,r=0,a=t[0];++r<e;)a.n=n=t[r],n.p=a,a=n;a.n=n=t[0],n.p=a}}function Oe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Pe(t,e,n,r){return function(a,o){function i(e,n){var r=a(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function u(t,e){var n=a(t,e);m.point(n[0],n[1])}function s(){y.point=u,m.lineStart()}function l(){y.point=i,m.lineEnd()}function c(t,e){g.push([t,e]);var n=a(t,e);x.point(n[0],n[1])}function f(){x.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var a,r=t.length-1,i=-1;if(r>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++i<r;)o.point((a=t[i])[0],a[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(je))}var h,p,g,m=e(o),v=a.invert(r[0],r[1]),y={point:i,lineStart:s,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=d,h=[],p=[]},polygonEnd:function(){y.point=i,y.lineStart=s,y.lineEnd=l,h=ui.merge(h);var t=Ie(v,p);h.length?(w||(o.polygonStart(),w=!0),Le(h,Be,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),h=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=ze(),x=e(b),w=!1;return y}}function je(t){return t.length>1}function ze(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:C,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Be(t,e){return((t=t.x)[0]<0?t[1]-Bi-qi:Bi-t[1])-((e=e.x)[0]<0?e[1]-Bi-qi:Bi-e[1])}function $e(t){var e,n=NaN,r=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,i){var u=o>0?Pi:-Pi,s=bi(o-n);bi(s-Pi)<qi?(t.point(n,r=(r+i)/2>0?Bi:-Bi),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):a!==u&&s>=Pi&&(bi(n-a)<qi&&(n-=a*qi),bi(o-u)<qi&&(o-=u*qi),r=He(n,r,o,i),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=i),a=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function He(t,e,n,r){var a,o,i=Math.sin(t-n);return bi(i)>qi?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(e))*Math.sin(t))/(a*o*i)):(e+r)/2}function Ue(t,e,n,r){var a;if(null==t)a=n*Bi,r.point(-Pi,a),r.point(0,a),r.point(Pi,a),r.point(Pi,0),r.point(Pi,-a),r.point(0,-a),r.point(-Pi,-a),r.point(-Pi,0),r.point(-Pi,a);else if(bi(t[0]-e[0])>qi){var o=t[0]<e[0]?Pi:-Pi;a=n*o/2,r.point(-o,a),r.point(0,a),r.point(o,a)}else r.point(e[0],e[1])}function Ie(t,e){var n=t[0],r=t[1],a=[Math.sin(n),-Math.cos(n),0],o=0,i=0;Fu.reset();for(var u=0,s=e.length;s>u;++u){var l=e[u],c=l.length;if(c)for(var f=l[0],d=f[0],h=f[1]/2+Pi/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0),t=l[m];var v=t[0],y=t[1]/2+Pi/4,b=Math.sin(y),x=Math.cos(y),w=v-d,k=w>=0?1:-1,A=k*w,F=A>Pi,M=p*b;if(Fu.add(Math.atan2(M*k*Math.sin(A),g*x+M*Math.cos(A))),o+=F?w+k*ji:w,F^d>=n^v>=n){var C=we(be(f),be(t));Fe(C);var E=we(a,C);Fe(E);var _=(F^w>=0?-1:1)*it(E[2]);(r>_||r===_&&(C[0]||C[1]))&&(i+=F^w>=0?1:-1)}if(!m++)break;d=v,p=b,g=x,f=t}}return(-qi>o||qi>o&&0>Fu)^1&i}function We(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,d){var h,p=[f,d],g=e(f,d),m=i?g?0:a(f,d):g?a(f+(0>f?Pi:-Pi),d):0;if(!n&&(l=s=g)&&t.lineStart(),g!==s&&(h=r(n,p),(Ce(n,h)||Ce(p,h))&&(p[0]+=qi,p[1]+=qi,g=e(p[0],p[1]))),g!==s)c=0,g?(t.lineStart(),h=r(p,n),t.point(h[0],h[1])):(h=r(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(u&&n&&i^g){var v;m&o||!(v=r(p,n,!0))||(c=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Ce(n,p)||t.point(p[0],p[1]),n=p,s=g,o=m},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return c|(l&&s)<<1}}}function r(t,e,n){var r=be(t),a=be(e),i=[1,0,0],u=we(r,a),s=xe(u,u),l=u[0],c=s-l*l;if(!c)return!n&&t;var f=o*s/c,d=-o*l/c,h=we(i,u),p=Ae(i,f),g=Ae(u,d);ke(p,g);var m=h,v=xe(p,m),y=xe(m,m),b=v*v-y*(xe(p,p)-1);if(!(0>b)){var x=Math.sqrt(b),w=Ae(m,(-v-x)/y);if(ke(w,p),w=Me(w),!n)return w;var k,A=t[0],F=e[0],M=t[1],C=e[1];A>F&&(k=A,A=F,F=k);var E=F-A,_=bi(E-Pi)<qi,S=_||qi>E;if(!_&&M>C&&(k=M,M=C,C=k),S?_?M+C>0^w[1]<(bi(w[0]-A)<qi?M:C):M<=w[1]&&w[1]<=C:E>Pi^(A<=w[0]&&w[0]<=F)){var D=Ae(m,(-v+x)/y);return ke(D,p),[w,Me(D)]}}}function a(e,n){var r=i?t:Pi-t,a=0;return-r>e?a|=1:e>r&&(a|=2),-r>n?a|=4:n>r&&(a|=8),a}var o=Math.cos(t),i=o>0,u=bi(o)>qi,s=bn(t,6*$i);return Pe(e,n,s,i?[0,-t]:[-Pi,t-Pi])}function Ge(t,e,n,r){return function(a){var o,i=a.a,u=a.b,s=i.x,l=i.y,c=u.x,f=u.y,d=0,h=1,p=c-s,g=f-l;if(o=t-s,p||!(o>0)){if(o/=p,0>p){if(d>o)return;h>o&&(h=o)}else if(p>0){if(o>h)return;o>d&&(d=o)}if(o=n-s,p||!(0>o)){if(o/=p,0>p){if(o>h)return;o>d&&(d=o)}else if(p>0){if(d>o)return;h>o&&(h=o)}if(o=e-l,g||!(o>0)){if(o/=g,0>g){if(d>o)return;h>o&&(h=o)}else if(g>0){if(o>h)return;o>d&&(d=o)}if(o=r-l,g||!(0>o)){if(o/=g,0>g){if(o>h)return;o>d&&(d=o)}else if(g>0){if(d>o)return;h>o&&(h=o)}return d>0&&(a.a={x:s+d*p,y:l+d*g}),1>h&&(a.b={x:s+h*p,y:l+h*g}),a}}}}}}function Ye(t,e,n,r){function a(r,a){return bi(r[0]-t)<qi?a>0?0:3:bi(r[0]-n)<qi?a>0?2:1:bi(r[1]-e)<qi?a>0?1:0:a>0?3:2}function o(t,e){return i(t.x,e.x)}function i(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0];
}return function(u){function s(t){for(var e=0,n=m.length,r=t[1],a=0;n>a;++a)for(var o,i=1,u=m[a],s=u.length,l=u[0];s>i;++i)o=u[i],l[1]<=r?o[1]>r&&at(l,o,t)>0&&++e:o[1]<=r&&at(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,u,s,l){var c=0,f=0;if(null==o||(c=a(o,s))!==(f=a(u,s))||i(o,u)<0^s>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+s+4)%4)!==f)}else l.point(u[0],u[1])}function c(a,o){return a>=t&&n>=a&&o>=e&&r>=o}function f(t,e){c(t,e)&&u.point(t,e)}function d(){S.point=p,m&&m.push(v=[]),F=!0,A=!1,w=k=NaN}function h(){g&&(p(y,b),x&&A&&E.rejoin(),g.push(E.buffer())),S.point=f,A&&u.lineEnd()}function p(t,e){t=Math.max(-zu,Math.min(zu,t)),e=Math.max(-zu,Math.min(zu,e));var n=c(t,e);if(m&&v.push([t,e]),F)y=t,b=e,x=n,F=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&A)u.point(t,e);else{var r={a:{x:w,y:k},b:{x:t,y:e}};_(r)?(A||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),M=!1):n&&(u.lineStart(),u.point(t,e),M=!1)}w=t,k=e,A=n}var g,m,v,y,b,x,w,k,A,F,M,C=u,E=ze(),_=Ge(t,e,n,r),S={point:f,lineStart:d,lineEnd:h,polygonStart:function(){u=E,g=[],m=[],M=!0},polygonEnd:function(){u=C,g=ui.merge(g);var e=s([t,r]),n=M&&e,a=g.length;(n||a)&&(u.polygonStart(),n&&(u.lineStart(),l(null,null,1,u),u.lineEnd()),a&&Le(g,o,e,l,u),u.polygonEnd()),g=m=v=null}};return S}}function Ve(t){var e=0,n=Pi/3,r=fn(t),a=r(e,n);return a.parallels=function(t){return arguments.length?r(e=t[0]*Pi/180,n=t[1]*Pi/180):[e/Pi*180,n/Pi*180]},a}function Xe(t,e){function n(t,e){var n=Math.sqrt(o-2*a*Math.sin(e))/a;return[n*Math.sin(t*=a),i-n*Math.cos(t)]}var r=Math.sin(t),a=(r+Math.sin(e))/2,o=1+r*(2*a-r),i=Math.sqrt(o)/a;return n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/a,it((o-(t*t+n*n)*a*a)/(2*a))]},n}function Ze(){function t(t,e){$u+=a*t-r*e,r=t,a=e}var e,n,r,a;Gu.point=function(o,i){Gu.point=t,e=r=o,n=a=i},Gu.lineEnd=function(){t(e,n)}}function Ke(t,e){Hu>t&&(Hu=t),t>Iu&&(Iu=t),Uu>e&&(Uu=e),e>Wu&&(Wu=e)}function Je(){function t(t,e){i.push("M",t,",",e,o)}function e(t,e){i.push("M",t,",",e),u.point=n}function n(t,e){i.push("L",t,",",e)}function r(){u.point=t}function a(){i.push("Z")}var o=Qe(4.5),i=[],u={point:t,lineStart:function(){u.point=e},lineEnd:r,polygonStart:function(){u.lineEnd=a},polygonEnd:function(){u.lineEnd=r,u.point=t},pointRadius:function(t){return o=Qe(t),u},result:function(){if(i.length){var t=i.join("");return i=[],t}}};return u}function Qe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function tn(t,e){_u+=t,Su+=e,++Du}function en(){function t(t,r){var a=t-e,o=r-n,i=Math.sqrt(a*a+o*o);Tu+=i*(e+t)/2,Nu+=i*(n+r)/2,Ru+=i,tn(e=t,n=r)}var e,n;Vu.point=function(r,a){Vu.point=t,tn(e=r,n=a)}}function nn(){Vu.point=tn}function rn(){function t(t,e){var n=t-r,o=e-a,i=Math.sqrt(n*n+o*o);Tu+=i*(r+t)/2,Nu+=i*(a+e)/2,Ru+=i,i=a*t-r*e,Lu+=i*(r+t),qu+=i*(a+e),Ou+=3*i,tn(r=t,a=e)}var e,n,r,a;Vu.point=function(o,i){Vu.point=t,tn(e=r=o,n=a=i)},Vu.lineEnd=function(){t(e,n)}}function an(t){function e(e,n){t.moveTo(e+i,n),t.arc(e,n,i,0,ji)}function n(e,n){t.moveTo(e,n),u.point=r}function r(e,n){t.lineTo(e,n)}function a(){u.point=e}function o(){t.closePath()}var i=4.5,u={point:e,lineStart:function(){u.point=n},lineEnd:a,polygonStart:function(){u.lineEnd=o},polygonEnd:function(){u.lineEnd=a,u.point=e},pointRadius:function(t){return i=t,u},result:C};return u}function on(t){function e(t){return(u?r:n)(t)}function n(e){return ln(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,F.point=o,e.lineStart()}function o(n,r){var o=be([n,r]),i=t(n,r);a(b,x,y,w,k,A,b=i[0],x=i[1],y=n,w=o[0],k=o[1],A=o[2],u,e),e.point(b,x)}function i(){F.point=n,e.lineEnd()}function s(){r(),F.point=l,F.lineEnd=c}function l(t,e){o(f=t,d=e),h=b,p=x,g=w,m=k,v=A,F.point=o}function c(){a(b,x,y,w,k,A,h,p,f,g,m,v,u,e),F.lineEnd=i,i()}var f,d,h,p,g,m,v,y,b,x,w,k,A,F={point:n,lineStart:r,lineEnd:i,polygonStart:function(){e.polygonStart(),F.lineStart=s},polygonEnd:function(){e.polygonEnd(),F.lineStart=r}};return F}function a(e,n,r,u,s,l,c,f,d,h,p,g,m,v){var y=c-e,b=f-n,x=y*y+b*b;if(x>4*o&&m--){var w=u+h,k=s+p,A=l+g,F=Math.sqrt(w*w+k*k+A*A),M=Math.asin(A/=F),C=bi(bi(A)-1)<qi||bi(r-d)<qi?(r+d)/2:Math.atan2(k,w),E=t(C,M),_=E[0],S=E[1],D=_-e,T=S-n,N=b*D-y*T;(N*N/x>o||bi((y*D+b*T)/x-.5)>.3||i>u*h+s*p+l*g)&&(a(e,n,r,u,s,l,_,S,C,w/=F,k/=F,A,m,v),v.point(_,S),a(_,S,C,w,k,A,c,f,d,h,p,g,m,v))}}var o=.5,i=Math.cos(30*$i),u=16;return e.precision=function(t){return arguments.length?(u=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function un(t){var e=on(function(e,n){return t([e*Hi,n*Hi])});return function(t){return dn(e(t))}}function sn(t){this.stream=t}function ln(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function cn(t){return fn(function(){return t})()}function fn(t){function e(t){return t=u(t[0]*$i,t[1]*$i),[t[0]*d+s,l-t[1]*d]}function n(t){return t=u.invert((t[0]-s)/d,(l-t[1])/d),t&&[t[0]*Hi,t[1]*Hi]}function r(){u=Ne(i=gn(v,y,b),o);var t=o(g,m);return s=h-t[0]*d,l=p+t[1]*d,a()}function a(){return c&&(c.valid=!1,c=null),e}var o,i,u,s,l,c,f=on(function(t,e){return t=o(t,e),[t[0]*d+s,l-t[1]*d]}),d=150,h=480,p=250,g=0,m=0,v=0,y=0,b=0,x=ju,w=A,k=null,F=null;return e.stream=function(t){return c&&(c.valid=!1),c=dn(x(i,f(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(k=t,ju):We((k=+t)*$i),a()):k},e.clipExtent=function(t){return arguments.length?(F=t,w=t?Ye(t[0][0],t[0][1],t[1][0],t[1][1]):A,a()):F},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],r()):[h,p]},e.center=function(t){return arguments.length?(g=t[0]%360*$i,m=t[1]%360*$i,r()):[g*Hi,m*Hi]},e.rotate=function(t){return arguments.length?(v=t[0]%360*$i,y=t[1]%360*$i,b=t.length>2?t[2]%360*$i:0,r()):[v*Hi,y*Hi,b*Hi]},ui.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function dn(t){return ln(t,function(e,n){t.point(e*$i,n*$i)})}function hn(t,e){return[t,e]}function pn(t,e){return[t>Pi?t-ji:-Pi>t?t+ji:t,e]}function gn(t,e,n){return t?e||n?Ne(vn(t),yn(e,n)):vn(t):e||n?yn(e,n):pn}function mn(t){return function(e,n){return e+=t,[e>Pi?e-ji:-Pi>e?e+ji:e,n]}}function vn(t){var e=mn(t);return e.invert=mn(-t),e}function yn(t,e){function n(t,e){var n=Math.cos(e),u=Math.cos(t)*n,s=Math.sin(t)*n,l=Math.sin(e),c=l*r+u*a;return[Math.atan2(s*o-c*i,u*r-l*a),it(c*o+s*i)]}var r=Math.cos(t),a=Math.sin(t),o=Math.cos(e),i=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),u=Math.cos(t)*n,s=Math.sin(t)*n,l=Math.sin(e),c=l*o-s*i;return[Math.atan2(s*o+l*i,u*r+c*a),it(c*r-u*a)]},n}function bn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(a,o,i,u){var s=i*e;null!=a?(a=xn(n,a),o=xn(n,o),(i>0?o>a:a>o)&&(a+=i*ji)):(a=t+i*ji,o=t-.5*s);for(var l,c=a;i>0?c>o:o>c;c-=s)u.point((l=Me([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function xn(t,e){var n=be(e);n[0]-=t,Fe(n);var r=ot(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-qi)%(2*Math.PI)}function wn(t,e,n){var r=ui.range(t,e-qi,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function kn(t,e,n){var r=ui.range(t,e-qi,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function An(t){return t.source}function Fn(t){return t.target}function Mn(t,e,n,r){var a=Math.cos(e),o=Math.sin(e),i=Math.cos(r),u=Math.sin(r),s=a*Math.cos(t),l=a*Math.sin(t),c=i*Math.cos(n),f=i*Math.sin(n),d=2*Math.asin(Math.sqrt(ct(r-e)+a*i*ct(n-t))),h=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*s+e*c,a=n*l+e*f,i=n*o+e*u;return[Math.atan2(a,r)*Hi,Math.atan2(i,Math.sqrt(r*r+a*a))*Hi]}:function(){return[t*Hi,e*Hi]};return p.distance=d,p}function Cn(){function t(t,a){var o=Math.sin(a*=$i),i=Math.cos(a),u=bi((t*=$i)-e),s=Math.cos(u);Xu+=Math.atan2(Math.sqrt((u=i*Math.sin(u))*u+(u=r*o-n*i*s)*u),n*o+r*i*s),e=t,n=o,r=i}var e,n,r;Zu.point=function(a,o){e=a*$i,n=Math.sin(o*=$i),r=Math.cos(o),Zu.point=t},Zu.lineEnd=function(){Zu.point=Zu.lineEnd=C}}function En(t,e){function n(e,n){var r=Math.cos(e),a=Math.cos(n),o=t(r*a);return[o*a*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),a=e(r),o=Math.sin(a),i=Math.cos(a);return[Math.atan2(t*o,r*i),Math.asin(r&&n*o/r)]},n}function _n(t,e){function n(t,e){i>0?-Bi+qi>e&&(e=-Bi+qi):e>Bi-qi&&(e=Bi-qi);var n=i/Math.pow(a(e),o);return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),a=function(t){return Math.tan(Pi/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(a(e)/a(t)),i=r*Math.pow(a(t),o)/o;return o?(n.invert=function(t,e){var n=i-e,r=rt(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(i/r,1/o))-Bi]},n):Dn}function Sn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var r=Math.cos(t),a=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/a+t;return bi(a)<qi?hn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/a,o-rt(a)*Math.sqrt(t*t+n*n)]},n)}function Dn(t,e){return[t,Math.log(Math.tan(Pi/4+e/2))]}function Tn(t){var e,n=cn(t),r=n.scale,a=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=a.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var i=o.apply(n,arguments);if(i===n){if(e=null==t){var u=Pi*r(),s=a();o([[s[0]-u,s[1]-u],[s[0]+u,s[1]+u]])}}else e&&(i=null);return i},n.clipExtent(null)}function Nn(t,e){return[Math.log(Math.tan(Pi/4+e/2)),-t]}function Rn(t){return t[0]}function Ln(t){return t[1]}function qn(t){for(var e=t.length,n=[0,1],r=2,a=2;e>a;a++){for(;r>1&&at(t[n[r-2]],t[n[r-1]],t[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function On(t,e){return t[0]-e[0]||t[1]-e[1]}function Pn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function jn(t,e,n,r){var a=t[0],o=n[0],i=e[0]-a,u=r[0]-o,s=t[1],l=n[1],c=e[1]-s,f=r[1]-l,d=(u*(s-l)-f*(a-o))/(f*i-u*c);return[a+d*i,s+d*c]}function zn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Bn(){ur(this),this.edge=this.site=this.circle=null}function $n(t){var e=ss.pop()||new Bn;return e.site=t,e}function Hn(t){Jn(t),os.remove(t),ss.push(t),ur(t)}function Un(t){var e=t.circle,n=e.x,r=e.cy,a={x:n,y:r},o=t.P,i=t.N,u=[t];Hn(t);for(var s=o;s.circle&&bi(n-s.circle.x)<qi&&bi(r-s.circle.cy)<qi;)o=s.P,u.unshift(s),Hn(s),s=o;u.unshift(s),Jn(s);for(var l=i;l.circle&&bi(n-l.circle.x)<qi&&bi(r-l.circle.cy)<qi;)i=l.N,u.push(l),Hn(l),l=i;u.push(l),Jn(l);var c,f=u.length;for(c=1;f>c;++c)l=u[c],s=u[c-1],ar(l.edge,s.site,l.site,a);s=u[0],l=u[f-1],l.edge=nr(s.site,l.site,null,a),Kn(s),Kn(l)}function In(t){for(var e,n,r,a,o=t.x,i=t.y,u=os._;u;)if(r=Wn(u,i)-o,r>qi)u=u.L;else{if(a=o-Gn(u,i),!(a>qi)){r>-qi?(e=u.P,n=u):a>-qi?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}var s=$n(t);if(os.insert(e,s),e||n){if(e===n)return Jn(e),n=$n(e.site),os.insert(s,n),s.edge=n.edge=nr(e.site,s.site),Kn(e),void Kn(n);if(!n)return void(s.edge=nr(e.site,s.site));Jn(e),Jn(n);var l=e.site,c=l.x,f=l.y,d=t.x-c,h=t.y-f,p=n.site,g=p.x-c,m=p.y-f,v=2*(d*m-h*g),y=d*d+h*h,b=g*g+m*m,x={x:(m*y-h*b)/v+c,y:(d*b-g*y)/v+f};ar(n.edge,l,p,x),s.edge=nr(l,t,null,x),n.edge=nr(t,p,null,x),Kn(e),Kn(n)}}function Wn(t,e){var n=t.site,r=n.x,a=n.y,o=a-e;if(!o)return r;var i=t.P;if(!i)return-(1/0);n=i.site;var u=n.x,s=n.y,l=s-e;if(!l)return u;var c=u-r,f=1/o-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-s+l/2+a-o/2)))/f+r:(r+u)/2}function Gn(t,e){var n=t.N;if(n)return Wn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Yn(t){this.site=t,this.edges=[]}function Vn(t){for(var e,n,r,a,o,i,u,s,l,c,f=t[0][0],d=t[1][0],h=t[0][1],p=t[1][1],g=as,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(u=o.edges,s=u.length,i=0;s>i;)c=u[i].end(),r=c.x,a=c.y,l=u[++i%s].start(),e=l.x,n=l.y,(bi(r-e)>qi||bi(a-n)>qi)&&(u.splice(i,0,new or(rr(o.site,c,bi(r-f)<qi&&p-a>qi?{x:f,y:bi(e-f)<qi?n:p}:bi(a-p)<qi&&d-r>qi?{x:bi(n-p)<qi?e:d,y:p}:bi(r-d)<qi&&a-h>qi?{x:d,y:bi(e-d)<qi?n:h}:bi(a-h)<qi&&r-f>qi?{x:bi(n-h)<qi?e:f,y:h}:null),o.site,null)),++s)}function Xn(t,e){return e.angle-t.angle}function Zn(){ur(this),this.x=this.y=this.arc=this.site=this.cy=null}function Kn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,a=t.site,o=n.site;if(r!==o){var i=a.x,u=a.y,s=r.x-i,l=r.y-u,c=o.x-i,f=o.y-u,d=2*(s*f-l*c);if(!(d>=-Oi)){var h=s*s+l*l,p=c*c+f*f,g=(f*h-l*p)/d,m=(s*p-c*h)/d,f=m+u,v=ls.pop()||new Zn;v.arc=t,v.site=a,v.x=g+i,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,t.circle=v;for(var y=null,b=us._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}us.insert(y,v),y||(is=v)}}}}function Jn(t){var e=t.circle;e&&(e.P||(is=e.N),us.remove(e),ls.push(e),ur(e),t.circle=null)}function Qn(t){for(var e,n=rs,r=Ge(t[0][0],t[0][1],t[1][0],t[1][1]),a=n.length;a--;)e=n[a],(!tr(e,t)||!r(e)||bi(e.a.x-e.b.x)<qi&&bi(e.a.y-e.b.y)<qi)&&(e.a=e.b=null,n.splice(a,1))}function tr(t,e){var n=t.b;if(n)return!0;var r,a,o=t.a,i=e[0][0],u=e[1][0],s=e[0][1],l=e[1][1],c=t.l,f=t.r,d=c.x,h=c.y,p=f.x,g=f.y,m=(d+p)/2,v=(h+g)/2;if(g===h){if(i>m||m>=u)return;if(d>p){if(o){if(o.y>=l)return}else o={x:m,y:s};n={x:m,y:l}}else{if(o){if(o.y<s)return}else o={x:m,y:l};n={x:m,y:s}}}else if(r=(d-p)/(g-h),a=v-r*m,-1>r||r>1)if(d>p){if(o){if(o.y>=l)return}else o={x:(s-a)/r,y:s};n={x:(l-a)/r,y:l}}else{if(o){if(o.y<s)return}else o={x:(l-a)/r,y:l};n={x:(s-a)/r,y:s}}else if(g>h){if(o){if(o.x>=u)return}else o={x:i,y:r*i+a};n={x:u,y:r*u+a}}else{if(o){if(o.x<i)return}else o={x:u,y:r*u+a};n={x:i,y:r*i+a}}return t.a=o,t.b=n,!0}function er(t,e){this.l=t,this.r=e,this.a=this.b=null}function nr(t,e,n,r){var a=new er(t,e);return rs.push(a),n&&ar(a,t,e,n),r&&ar(a,e,t,r),as[t.i].edges.push(new or(a,t,e)),as[e.i].edges.push(new or(a,e,t)),a}function rr(t,e,n){var r=new er(t,null);return r.a=e,r.b=n,rs.push(r),r}function ar(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function or(t,e,n){var r=t.a,a=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function ir(){this._=null}function ur(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function sr(t,e){var n=e,r=e.R,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function lr(t,e){var n=e,r=e.L,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function cr(t){for(;t.L;)t=t.L;return t}function fr(t,e){var n,r,a,o=t.sort(dr).pop();for(rs=[],as=new Array(t.length),os=new ir,us=new ir;;)if(a=is,o&&(!a||o.y<a.y||o.y===a.y&&o.x<a.x))(o.x!==n||o.y!==r)&&(as[o.i]=new Yn(o),In(o),n=o.x,r=o.y),o=t.pop();else{if(!a)break;Un(a.arc)}e&&(Qn(e),Vn(e));var i={cells:as,edges:rs};return os=us=rs=as=null,i}function dr(t,e){return e.y-t.y||e.x-t.x}function hr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function pr(t){return t.x}function gr(t){return t.y}function mr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function vr(t,e,n,r,a,o){if(!t(e,n,r,a,o)){var i=.5*(n+a),u=.5*(r+o),s=e.nodes;s[0]&&vr(t,s[0],n,r,i,u),s[1]&&vr(t,s[1],i,r,a,u),s[2]&&vr(t,s[2],n,u,i,o),s[3]&&vr(t,s[3],i,u,a,o)}}function yr(t,e,n,r,a,o,i){var u,s=1/0;return function l(t,c,f,d,h){if(!(c>o||f>i||r>d||a>h)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(s>v){var y=Math.sqrt(s=v);r=e-y,a=n-y,o=e+y,i=n+y,u=p}}for(var b=t.nodes,x=.5*(c+d),w=.5*(f+h),k=e>=x,A=n>=w,F=A<<1|k,M=F+4;M>F;++F)if(t=b[3&F])switch(3&F){case 0:l(t,c,f,x,w);break;case 1:l(t,x,f,d,w);break;case 2:l(t,c,w,x,h);break;case 3:l(t,x,w,d,h)}}}(t,r,a,o,i),u}function br(t,e){t=ui.rgb(t),e=ui.rgb(e);var n=t.r,r=t.g,a=t.b,o=e.r-n,i=e.g-r,u=e.b-a;return function(t){return"#"+Mt(Math.round(n+o*t))+Mt(Math.round(r+i*t))+Mt(Math.round(a+u*t))}}function xr(t,e){var n,r={},a={};for(n in t)n in e?r[n]=Ar(t[n],e[n]):a[n]=t[n];for(n in e)n in t||(a[n]=e[n]);return function(t){for(n in r)a[n]=r[n](t);return a}}function wr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kr(t,e){var n,r,a,o=fs.lastIndex=ds.lastIndex=0,i=-1,u=[],s=[];for(t+="",e+="";(n=fs.exec(t))&&(r=ds.exec(e));)(a=r.index)>o&&(a=e.slice(o,a),u[i]?u[i]+=a:u[++i]=a),(n=n[0])===(r=r[0])?u[i]?u[i]+=r:u[++i]=r:(u[++i]=null,s.push({i:i,x:wr(n,r)})),o=ds.lastIndex;return o<e.length&&(a=e.slice(o),u[i]?u[i]+=a:u[++i]=a),u.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;e>r;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function Ar(t,e){for(var n,r=ui.interpolators.length;--r>=0&&!(n=ui.interpolators[r](t,e)););return n}function Fr(t,e){var n,r=[],a=[],o=t.length,i=e.length,u=Math.min(t.length,e.length);for(n=0;u>n;++n)r.push(Ar(t[n],e[n]));for(;o>n;++n)a[n]=t[n];for(;i>n;++n)a[n]=e[n];return function(t){for(n=0;u>n;++n)a[n]=r[n](t);return a}}function Mr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Cr(t){return function(e){return 1-t(1-e)}}function Er(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function _r(t){return t*t}function Sr(t){return t*t*t}function Dr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Tr(t){return function(e){return Math.pow(e,t)}}function Nr(t){return 1-Math.cos(t*Bi)}function Rr(t){return Math.pow(2,10*(t-1))}function Lr(t){return 1-Math.sqrt(1-t*t)}function qr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/ji*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*ji/e)}}function Or(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Pr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function jr(t,e){t=ui.hcl(t),e=ui.hcl(e);var n=t.h,r=t.c,a=t.l,o=e.h-n,i=e.c-r,u=e.l-a;return isNaN(i)&&(i=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return gt(n+o*t,r+i*t,a+u*t)+""}}function zr(t,e){t=ui.hsl(t),e=ui.hsl(e);var n=t.h,r=t.s,a=t.l,o=e.h-n,i=e.s-r,u=e.l-a;return isNaN(i)&&(i=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ht(n+o*t,r+i*t,a+u*t)+""}}function Br(t,e){t=ui.lab(t),e=ui.lab(e);var n=t.l,r=t.a,a=t.b,o=e.l-n,i=e.a-r,u=e.b-a;return function(t){return vt(n+o*t,r+i*t,a+u*t)+""}}function $r(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Hr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Ir(e),a=Ur(e,n),o=Ir(Wr(n,e,-a))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Hi,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(a,o)*Hi:0}function Ur(t,e){return t[0]*e[0]+t[1]*e[1]}function Ir(t){var e=Math.sqrt(Ur(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Wr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Gr(t,e){var n,r=[],a=[],o=ui.transform(t),i=ui.transform(e),u=o.translate,s=i.translate,l=o.rotate,c=i.rotate,f=o.skew,d=i.skew,h=o.scale,p=i.scale;return u[0]!=s[0]||u[1]!=s[1]?(r.push("translate(",null,",",null,")"),a.push({i:1,x:wr(u[0],s[0])},{i:3,x:wr(u[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),a.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:wr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=d?a.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:wr(f,d)}):d&&r.push(r.pop()+"skewX("+d+")"),h[0]!=p[0]||h[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),a.push({i:n-4,x:wr(h[0],p[0])},{i:n-2,x:wr(h[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=a.length,function(t){for(var e,o=-1;++o<n;)r[(e=a[o]).i]=e.x(t);return r.join("")}}function Yr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Vr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Xr(t){for(var e=t.source,n=t.target,r=Kr(e,n),a=[e];e!==r;)e=e.parent,a.push(e);for(var o=a.length;n!==r;)a.splice(o,0,n),n=n.parent;return a}function Zr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Kr(t,e){if(t===e)return t;for(var n=Zr(t),r=Zr(e),a=n.pop(),o=r.pop(),i=null;a===o;)i=a,a=n.pop(),o=r.pop();return i}function Jr(t){t.fixed|=2}function Qr(t){t.fixed&=-7}function ta(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ea(t){t.fixed&=-5}function na(t,e,n){var r=0,a=0;if(t.charge=0,!t.leaf)for(var o,i=t.nodes,u=i.length,s=-1;++s<u;)o=i[s],null!=o&&(na(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,a+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,a+=l*t.point.y}t.cx=r/t.charge,t.cy=a/t.charge}function ra(t,e){return ui.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=la,t}function aa(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(a=t.children)&&(r=a.length))for(var r,a;--r>=0;)n.push(a[r])}function oa(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(a=o.length))for(var a,o,i=-1;++i<a;)n.push(o[i]);for(;null!=(t=r.pop());)e(t)}function ia(t){return t.children}function ua(t){return t.value}function sa(t,e){return e.value-t.value}function la(t){return ui.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ca(t){return t.x}function fa(t){return t.y}function da(t,e,n){t.y0=e,t.y=n}function ha(t){return ui.range(t.length)}function pa(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ga(t){for(var e,n=1,r=0,a=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>a&&(r=n,a=e);return r}function ma(t){return t.reduce(va,0)}function va(t,e){return t+e[1]}function ya(t,e){return ba(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function ba(t,e){for(var n=-1,r=+t[0],a=(t[1]-r)/e,o=[];++n<=e;)o[n]=a*n+r;return o}function xa(t){return[ui.min(t),ui.max(t)]}function wa(t,e){return t.value-e.value}function ka(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Aa(t,e){t._pack_next=e,e._pack_prev=t}function Fa(t,e){var n=e.x-t.x,r=e.y-t.y,a=t.r+e.r;return.999*a*a>n*n+r*r}function Ma(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(l=n.length)){var n,r,a,o,i,u,s,l,c=1/0,f=-(1/0),d=1/0,h=-(1/0);if(n.forEach(Ca),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(a=n[1],a.x=a.r,a.y=0,e(a),l>2))for(o=n[2],Sa(r,a,o),e(o),ka(r,o),r._pack_prev=o,ka(o,a),a=r._pack_next,i=3;l>i;i++){Sa(r,a,o=n[i]);var p=0,g=1,m=1;for(u=a._pack_next;u!==a;u=u._pack_next,g++)if(Fa(u,o)){p=1;break}if(1==p)for(s=r._pack_prev;s!==u._pack_prev&&!Fa(s,o);s=s._pack_prev,m++);p?(m>g||g==m&&a.r<r.r?Aa(r,a=u):Aa(r=s,a),i--):(ka(r,o),a=o,e(o))}var v=(c+f)/2,y=(d+h)/2,b=0;for(i=0;l>i;i++)o=n[i],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Ea)}}function Ca(t){t._pack_next=t._pack_prev=t}function Ea(t){delete t._pack_next,delete t._pack_prev}function _a(t,e,n,r){var a=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,a)for(var o=-1,i=a.length;++o<i;)_a(a[o],e,n,r)}function Sa(t,e,n){var r=t.r+n.r,a=e.x-t.x,o=e.y-t.y;if(r&&(a||o)){var i=e.r+n.r,u=a*a+o*o;i*=i,r*=r;var s=.5+(r-i)/(2*u),l=Math.sqrt(Math.max(0,2*i*(r+u)-(r-=u)*r-i*i))/(2*u);n.x=t.x+s*a+l*o,n.y=t.y+s*o-l*a}else n.x=t.x+r,n.y=t.y}function Da(t,e){return t.parent==e.parent?1:2}function Ta(t){var e=t.children;return e.length?e[0]:t.t}function Na(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ra(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function La(t){for(var e,n=0,r=0,a=t.children,o=a.length;--o>=0;)e=a[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function qa(t,e,n){return t.a.parent===e.parent?t.a:n}function Oa(t){return 1+ui.max(t,function(t){return t.y})}function Pa(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function ja(t){var e=t.children;return e&&e.length?ja(e[0]):t}function za(t){var e,n=t.children;return n&&(e=n.length)?za(n[e-1]):t}function Ba(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function $a(t,e){var n=t.x+e[3],r=t.y+e[0],a=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>a&&(n+=a/2,a=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:a,dy:o}}function Ha(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ua(t){return t.rangeExtent?t.rangeExtent():Ha(t.range())}function Ia(t,e,n,r){var a=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(a(t))}}function Wa(t,e){var n,r=0,a=t.length-1,o=t[r],i=t[a];return o>i&&(n=r,r=a,a=n,n=o,o=i,i=n),t[r]=e.floor(o),t[a]=e.ceil(i),t}function Ga(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:As}function Ya(t,e,n,r){var a=[],o=[],i=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<=u;)a.push(n(t[i-1],t[i])),o.push(r(e[i-1],e[i]));return function(e){var n=ui.bisect(t,e,1,u)-1;return o[n](a[n](e))}}function Va(t,e,n,r){function a(){var a=Math.min(t.length,e.length)>2?Ya:Ia,s=r?Vr:Yr;return i=a(t,e,s,n),u=a(e,t,s,Ar),o}function o(t){return i(t)}var i,u;return o.invert=function(t){return u(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},o.range=function(t){return arguments.length?(e=t,a()):e},o.rangeRound=function(t){return o.range(t).interpolate($r)},o.clamp=function(t){return arguments.length?(r=t,a()):r},o.interpolate=function(t){return arguments.length?(n=t,a()):n},o.ticks=function(e){return Ja(t,e)},o.tickFormat=function(e,n){return Qa(t,e,n)},o.nice=function(e){return Za(t,e),a()},o.copy=function(){return Va(t,e,n,r)},a()}function Xa(t,e){return ui.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Za(t,e){return Wa(t,Ga(Ka(t,e)[2]))}function Ka(t,e){null==e&&(e=10);var n=Ha(t),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*a;return.15>=o?a*=10:.35>=o?a*=5:.75>=o&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function Ja(t,e){return ui.range.apply(ui,Ka(t,e))}function Qa(t,e,n){var r=Ka(t,e);if(n){var a=fu.exec(n);if(a.shift(),"s"===a[8]){var o=ui.formatPrefix(Math.max(bi(r[0]),bi(r[1])));return a[7]||(a[7]="."+to(o.scale(r[2]))),a[8]="f",n=ui.format(a.join("")),function(t){return n(o.scale(t))+o.symbol}}a[7]||(a[7]="."+eo(a[8],r)),n=a.join("")}else n=",."+to(r[2])+"f";return ui.format(n)}function to(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function eo(t,e){var n=to(e[2]);return t in Fs?Math.abs(n-to(Math.max(bi(e[0]),bi(e[1]))))+ +("e"!==t):n-2*("%"===t)}function no(t,e,n,r){function a(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function i(e){return t(a(e))}return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(a)),i):r},i.base=function(n){return arguments.length?(e=+n,t.domain(r.map(a)),i):e},i.nice=function(){var e=Wa(r.map(a),n?Math:Cs);return t.domain(e),r=e.map(o),i},i.ticks=function(){var t=Ha(r),i=[],u=t[0],s=t[1],l=Math.floor(a(u)),c=Math.ceil(a(s)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var d=1;f>d;d++)i.push(o(l)*d);i.push(o(l))}else for(i.push(o(l));l++<c;)for(var d=f-1;d>0;d--)i.push(o(l)*d);for(l=0;i[l]<u;l++);for(c=i.length;i[c-1]>s;c--);i=i.slice(l,c)}return i},i.tickFormat=function(t,e){if(!arguments.length)return Ms;arguments.length<2?e=Ms:"function"!=typeof e&&(e=ui.format(e));var r,u=Math.max(.1,t/i.ticks().length),s=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(s(a(t)+r))<=u?e(t):""}},i.copy=function(){return no(t.copy(),e,n,r)},Xa(i,t)}function ro(t,e,n){function r(e){return t(a(e))}var a=ao(e),o=ao(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(a)),r):n},r.ticks=function(t){return Ja(n,t)},r.tickFormat=function(t,e){return Qa(n,t,e)},r.nice=function(t){return r.domain(Za(n,t))},r.exponent=function(i){return arguments.length?(a=ao(e=i),o=ao(1/e),t.domain(n.map(a)),r):e},r.copy=function(){return ro(t.copy(),e,n)},Xa(r,t)}function ao(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function oo(t,e){function n(n){return o[((a.get(n)||("range"===e.t?a.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return ui.range(t.length).map(function(t){return e+n*t})}var a,o,i;return n.domain=function(r){if(!arguments.length)return t;t=[],a=new p;for(var o,i=-1,u=r.length;++i<u;)a.has(o=r[i])||a.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,i=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(a,u){arguments.length<2&&(u=0);var s=a[0],l=a[1],c=t.length<2?(s=(s+l)/2,0):(l-s)/(t.length-1+u);return o=r(s+c*u/2,c),i=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(a,u){arguments.length<2&&(u=0);var s=a[0],l=a[1],c=t.length<2?(s=l=Math.round((s+l)/2),0):(l-s)/(t.length-1+u)|0;return o=r(s+Math.round(c*u/2+(l-s-(t.length-1+u)*c)/2),c),i=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(a,u,s){arguments.length<2&&(u=0),arguments.length<3&&(s=u);var l=a[1]<a[0],c=a[l-0],f=a[1-l],d=(f-c)/(t.length-u+2*s);return o=r(c+d*s,d),l&&o.reverse(),i=d*(1-u),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(a,u,s){arguments.length<2&&(u=0),arguments.length<3&&(s=u);var l=a[1]<a[0],c=a[l-0],f=a[1-l],d=Math.floor((f-c)/(t.length-u+2*s));return o=r(c+Math.round((f-c-(t.length-u)*d)/2),d),l&&o.reverse(),i=Math.round(d*(1-u)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return i},n.rangeExtent=function(){return Ha(e.a[0])},n.copy=function(){return oo(t,e)},n.domain(t)}function io(t,e){function n(){var n=0,o=e.length;for(a=[];++n<o;)a[n-1]=ui.quantile(t,n/o);return r}function r(t){return isNaN(t=+t)?void 0:e[ui.bisect(a,t)]}var a;return r.domain=function(e){return arguments.length?(t=e.map(s).filter(l).sort(u),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return a},r.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},r.copy=function(){return io(t,e)},n()}function uo(t,e,n){function r(e){return n[Math.max(0,Math.min(i,Math.floor(o*(e-t))))]}function a(){return o=n.length/(e-t),i=n.length-1,r}var o,i;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],a()):[t,e]},r.range=function(t){return arguments.length?(n=t,a()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},r.copy=function(){return uo(t,e,n)},a()}function so(t,e){function n(n){return n>=n?e[ui.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return so(t,e)},n}function lo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Ja(t,e)},e.tickFormat=function(e,n){return Qa(t,e,n)},e.copy=function(){return lo(t)},e}function co(){return 0}function fo(t){return t.innerRadius}function ho(t){return t.outerRadius}function po(t){return t.startAngle}function go(t){return t.endAngle}function mo(t){return t&&t.padAngle}function vo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function yo(t,e,n,r,a){var o=t[0]-e[0],i=t[1]-e[1],u=(a?r:-r)/Math.sqrt(o*o+i*i),s=u*i,l=-u*o,c=t[0]+s,f=t[1]+l,d=e[0]+s,h=e[1]+l,p=(c+d)/2,g=(f+h)/2,m=d-c,v=h-f,y=m*m+v*v,b=n-r,x=c*h-d*f,w=(0>v?-1:1)*Math.sqrt(b*b*y-x*x),k=(x*v-m*w)/y,A=(-x*m-v*w)/y,F=(x*v+m*w)/y,M=(-x*m+v*w)/y,C=k-p,E=A-g,_=F-p,S=M-g;return C*C+E*E>_*_+S*S&&(k=F,A=M),[[k-s,A-l],[k*n/b,A*n/b]]}function bo(t){function e(e){function i(){l.push("M",o(t(c),u))}for(var s,l=[],c=[],f=-1,d=e.length,h=Tt(n),p=Tt(r);++f<d;)a.call(this,s=e[f],f)?c.push([+h.call(this,s,f),+p.call(this,s,f)]):c.length&&(i(),c=[]);return c.length&&i(),l.length?l.join(""):null}var n=Rn,r=Ln,a=Re,o=xo,i=o.key,u=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,
e):r},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(i="function"==typeof t?o=t:(o=Ns.get(t)||xo).key,e):i},e.tension=function(t){return arguments.length?(u=t,e):u},e}function xo(t){return t.join("L")}function wo(t){return xo(t)+"Z"}function ko(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&a.push("H",r[0]),a.join("")}function Ao(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("V",(r=t[e])[1],"H",r[0]);return a.join("")}function Fo(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("H",(r=t[e])[0],"V",r[1]);return a.join("")}function Mo(t,e){return t.length<4?xo(t):t[1]+_o(t.slice(1,-1),So(t,e))}function Co(t,e){return t.length<3?xo(t):t[0]+_o((t.push(t[0]),t),So([t[t.length-2]].concat(t,[t[1]]),e))}function Eo(t,e){return t.length<3?xo(t):t[0]+_o(t,So(t,e))}function _o(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xo(t);var n=t.length!=e.length,r="",a=t[0],o=t[1],i=e[0],u=i,s=1;if(n&&(r+="Q"+(o[0]-2*i[0]/3)+","+(o[1]-2*i[1]/3)+","+o[0]+","+o[1],a=t[1],s=2),e.length>1){u=e[1],o=t[s],s++,r+="C"+(a[0]+i[0])+","+(a[1]+i[1])+","+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,s++)o=t[s],u=e[l],r+="S"+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1]}if(n){var c=t[s];r+="Q"+(o[0]+2*u[0]/3)+","+(o[1]+2*u[1]/3)+","+c[0]+","+c[1]}return r}function So(t,e){for(var n,r=[],a=(1-e)/2,o=t[0],i=t[1],u=1,s=t.length;++u<s;)n=o,o=i,i=t[u],r.push([a*(i[0]-n[0]),a*(i[1]-n[1])]);return r}function Do(t){if(t.length<3)return xo(t);var e=1,n=t.length,r=t[0],a=r[0],o=r[1],i=[a,a,a,(r=t[1])[0]],u=[o,o,o,r[1]],s=[a,",",o,"L",Lo(qs,i),",",Lo(qs,u)];for(t.push(t[n-1]);++e<=n;)r=t[e],i.shift(),i.push(r[0]),u.shift(),u.push(r[1]),qo(s,i,u);return t.pop(),s.push("L",r),s.join("")}function To(t){if(t.length<4)return xo(t);for(var e,n=[],r=-1,a=t.length,o=[0],i=[0];++r<3;)e=t[r],o.push(e[0]),i.push(e[1]);for(n.push(Lo(qs,o)+","+Lo(qs,i)),--r;++r<a;)e=t[r],o.shift(),o.push(e[0]),i.shift(),i.push(e[1]),qo(n,o,i);return n.join("")}function No(t){for(var e,n,r=-1,a=t.length,o=a+4,i=[],u=[];++r<4;)n=t[r%a],i.push(n[0]),u.push(n[1]);for(e=[Lo(qs,i),",",Lo(qs,u)],--r;++r<o;)n=t[r%a],i.shift(),i.push(n[0]),u.shift(),u.push(n[1]),qo(e,i,u);return e.join("")}function Ro(t,e){var n=t.length-1;if(n)for(var r,a,o=t[0][0],i=t[0][1],u=t[n][0]-o,s=t[n][1]-i,l=-1;++l<=n;)r=t[l],a=l/n,r[0]=e*r[0]+(1-e)*(o+a*u),r[1]=e*r[1]+(1-e)*(i+a*s);return Do(t)}function Lo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function qo(t,e,n){t.push("C",Lo(Rs,e),",",Lo(Rs,n),",",Lo(Ls,e),",",Lo(Ls,n),",",Lo(qs,e),",",Lo(qs,n))}function Oo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Po(t){for(var e=0,n=t.length-1,r=[],a=t[0],o=t[1],i=r[0]=Oo(a,o);++e<n;)r[e]=(i+(i=Oo(a=o,o=t[e+1])))/2;return r[e]=i,r}function jo(t){for(var e,n,r,a,o=[],i=Po(t),u=-1,s=t.length-1;++u<s;)e=Oo(t[u],t[u+1]),bi(e)<qi?i[u]=i[u+1]=0:(n=i[u]/e,r=i[u+1]/e,a=n*n+r*r,a>9&&(a=3*e/Math.sqrt(a),i[u]=a*n,i[u+1]=a*r));for(u=-1;++u<=s;)a=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+i[u]*i[u])),o.push([a||0,i[u]*a||0]);return o}function zo(t){return t.length<3?xo(t):t[0]+_o(t,jo(t))}function Bo(t){for(var e,n,r,a=-1,o=t.length;++a<o;)e=t[a],n=e[0],r=e[1]-Bi,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function $o(t){function e(e){function s(){g.push("M",u(t(v),f),c,l(t(m.reverse()),f),"Z")}for(var d,h,p,g=[],m=[],v=[],y=-1,b=e.length,x=Tt(n),w=Tt(a),k=n===r?function(){return h}:Tt(r),A=a===o?function(){return p}:Tt(o);++y<b;)i.call(this,d=e[y],y)?(m.push([h=+x.call(this,d,y),p=+w.call(this,d,y)]),v.push([+k.call(this,d,y),+A.call(this,d,y)])):m.length&&(s(),m=[],v=[]);return m.length&&s(),g.length?g.join(""):null}var n=Rn,r=Rn,a=0,o=Ln,i=Re,u=xo,s=u.key,l=u,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(a=o=t,e):o},e.y0=function(t){return arguments.length?(a=t,e):a},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?u=t:(u=Ns.get(t)||xo).key,l=u.reverse||u,c=u.closed?"M":"L",e):s},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Ho(t){return t.radius}function Uo(t){return[t.x,t.y]}function Io(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Bi;return[n*Math.cos(r),n*Math.sin(r)]}}function Wo(){return 64}function Go(){return"circle"}function Yo(t){var e=Math.sqrt(t/Pi);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Vo(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Xo(t,e,n){return Fi(t,Hs),t.namespace=e,t.id=n,t}function Zo(t,e,n,r){var a=t.id,o=t.namespace;return V(t,"function"==typeof n?function(t,i,u){t[o][a].tween.set(e,r(n.call(t,t.__data__,i,u)))}:(n=r(n),function(t){t[o][a].tween.set(e,n)}))}function Ko(t){return null==t&&(t=""),function(){this.textContent=t}}function Jo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Qo(t,e,n,r,a){var o=t[n]||(t[n]={active:0,count:0}),i=o[r];if(!i){var u=a.time;i=o[r]={tween:new p,time:u,delay:a.delay,duration:a.duration,ease:a.ease,index:e},a=null,++o.count,ui.timer(function(a){function s(n){if(o.active>r)return c();var a=o[o.active];a&&(--o.count,delete o[o.active],a.event&&a.event.interrupt.call(t,t.__data__,a.index)),o.active=r,i.event&&i.event.start.call(t,t.__data__,e),i.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&g.push(r)}),d=i.ease,f=i.duration,ui.timer(function(){return p.c=l(n||1)?Re:l,1},0,u)}function l(n){if(o.active!==r)return 1;for(var a=n/f,u=d(a),s=g.length;s>0;)g[--s].call(t,u);return a>=1?(i.event&&i.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[r]:delete t[n],1}var f,d,h=i.delay,p=su,g=[];return p.t=h+u,a>=h?s(a-h):void(p.c=s)},0,u)}}function ti(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function ei(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function ni(t){return t.toISOString()}function ri(t,e,n){function r(e){return t(e)}function a(t,n){var r=t[1]-t[0],a=r/n,o=ui.bisect(Ks,a);return o==Ks.length?[e.year,Ka(t.map(function(t){return t/31536e6}),n)[2]]:o?e[a/Ks[o-1]<Ks[o]/a?o-1:o]:[tl,Ka(t,n)[2]]}return r.invert=function(e){return ai(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ai)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ai(+n+1),e).length}var o=r.domain(),i=Ha(o),u=null==t?a(i,10):"number"==typeof t&&a(i,t);return u&&(t=u[0],e=u[1]),r.domain(Wa(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ai(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ai(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ha(r.domain()),o=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],ai(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return ri(t.copy(),e,n)},Xa(r,t)}function ai(t){return new Date(t)}function oi(t){return JSON.parse(t.responseText)}function ii(t){var e=ci.createRange();return e.selectNode(ci.body),e.createContextualFragment(t.responseText)}var ui={version:"3.5.6"},si=[].slice,li=function(t){return si.call(t)},ci=this.document;if(ci)try{li(ci.documentElement.childNodes)[0].nodeType}catch(fi){li=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ci)try{ci.createElement("DIV").style.setProperty("opacity",0,"")}catch(di){var hi=this.Element.prototype,pi=hi.setAttribute,gi=hi.setAttributeNS,mi=this.CSSStyleDeclaration.prototype,vi=mi.setProperty;hi.setAttribute=function(t,e){pi.call(this,t,e+"")},hi.setAttributeNS=function(t,e,n){gi.call(this,t,e,n+"")},mi.setProperty=function(t,e,n){vi.call(this,t,e+"",n)}}ui.ascending=u,ui.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},ui.min=function(t,e){var n,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<o;)null!=(r=t[a])&&n>r&&(n=r)}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&n>r&&(n=r)}return n},ui.max=function(t,e){var n,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<o;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&r>n&&(n=r)}return n},ui.extent=function(t,e){var n,r,a,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=a=r;break}for(;++o<i;)null!=(r=t[o])&&(n>r&&(n=r),r>a&&(a=r))}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=a=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>a&&(a=r))}return[n,a]},ui.sum=function(t,e){var n,r=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)l(n=+t[o])&&(r+=n);else for(;++o<a;)l(n=+e.call(t,t[o],o))&&(r+=n);return r},ui.mean=function(t,e){var n,r=0,a=t.length,o=-1,i=a;if(1===arguments.length)for(;++o<a;)l(n=s(t[o]))?r+=n:--i;else for(;++o<a;)l(n=s(e.call(t,t[o],o)))?r+=n:--i;return i?r/i:void 0},ui.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),a=+t[r-1],o=n-r;return o?a+o*(t[r]-a):a},ui.median=function(t,e){var n,r=[],a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)l(n=s(t[o]))&&r.push(n);else for(;++o<a;)l(n=s(e.call(t,t[o],o)))&&r.push(n);return r.length?ui.quantile(r.sort(u),.5):void 0},ui.variance=function(t,e){var n,r,a=t.length,o=0,i=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)l(n=s(t[u]))&&(r=n-o,o+=r/++c,i+=r*(n-o));else for(;++u<a;)l(n=s(e.call(t,t[u],u)))&&(r=n-o,o+=r/++c,i+=r*(n-o));return c>1?i/(c-1):void 0},ui.deviation=function(){var t=ui.variance.apply(this,arguments);return t?Math.sqrt(t):t};var yi=c(u);ui.bisectLeft=yi.left,ui.bisect=ui.bisectRight=yi.right,ui.bisector=function(t){return c(1===t.length?function(e,n){return u(t(e),n)}:t)},ui.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,a,o=n-e;o;)a=Math.random()*o--|0,r=t[o+e],t[o+e]=t[a+e],t[a+e]=r;return t},ui.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ui.pairs=function(t){for(var e,n=0,r=t.length-1,a=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=a,a=t[++n]];return o},ui.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=ui.min(arguments,f),n=new Array(e);++t<e;)for(var r,a=-1,o=n[t]=new Array(r);++a<r;)o[a]=arguments[a][t];return n},ui.transpose=function(t){return ui.zip.apply(ui,t)},ui.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ui.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ui.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ui.merge=function(t){for(var e,n,r,a=t.length,o=-1,i=0;++o<a;)i+=t[o].length;for(n=new Array(i);--a>=0;)for(r=t[a],e=r.length;--e>=0;)n[--i]=r[e];return n};var bi=Math.abs;ui.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,a=[],o=d(bi(n)),i=-1;if(t*=o,e*=o,n*=o,0>n)for(;(r=t+n*++i)>e;)a.push(r/o);else for(;(r=t+n*++i)<e;)a.push(r/o);return a},ui.map=function(t,e){var n=new p;if(t instanceof p)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,a=-1,o=t.length;if(1===arguments.length)for(;++a<o;)n.set(a,t[a]);else for(;++a<o;)n.set(e.call(t,r=t[a],a),r)}else for(var i in t)n.set(i,t[i]);return n};var xi="__proto__",wi="\x00";h(p,{has:v,get:function(t){return this._[g(t)]},set:function(t,e){return this._[g(t)]=e},remove:y,keys:b,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:m(e),value:this._[e]});return t},size:x,empty:w,forEach:function(t){for(var e in this._)t.call(this,m(e),this._[e])}}),ui.nest=function(){function t(e,i,u){if(u>=o.length)return r?r.call(a,i):n?i.sort(n):i;for(var s,l,c,f,d=-1,h=i.length,g=o[u++],m=new p;++d<h;)(f=m.get(s=g(l=i[d])))?f.push(l):m.set(s,[l]);return e?(l=e(),c=function(n,r){l.set(n,t(e,r,u))}):(l={},c=function(n,r){l[n]=t(e,r,u)}),m.forEach(c),l}function e(t,n){if(n>=o.length)return t;var r=[],a=i[n++];return t.forEach(function(t,a){r.push({key:t,values:e(a,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}var n,r,a={},o=[],i=[];return a.map=function(e,n){return t(n,e,0)},a.entries=function(n){return e(t(ui.map,n,0),0)},a.key=function(t){return o.push(t),a},a.sortKeys=function(t){return i[o.length-1]=t,a},a.sortValues=function(t){return n=t,a},a.rollup=function(t){return r=t,a},a},ui.set=function(t){var e=new k;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},h(k,{has:v,add:function(t){return this._[g(t+="")]=!0,t},remove:y,values:b,size:x,empty:w,forEach:function(t){for(var e in this._)t.call(this,m(e))}}),ui.behavior={},ui.rebind=function(t,e){for(var n,r=1,a=arguments.length;++r<a;)t[n=arguments[r]]=F(t,e,e[n]);return t};var ki=["webkit","ms","moz","Moz","o","O"];ui.dispatch=function(){for(var t=new E,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=_(t);return t},E.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ui.event=null,ui.requote=function(t){return t.replace(Ai,"\\$&")};var Ai=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Fi={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Mi=function(t,e){return e.querySelector(t)},Ci=function(t,e){return e.querySelectorAll(t)},Ei=function(t,e){var n=t.matches||t[M(t,"matchesSelector")];return(Ei=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Mi=function(t,e){return Sizzle(t,e)[0]||null},Ci=Sizzle,Ei=Sizzle.matchesSelector),ui.selection=function(){return ui.select(ci.documentElement)};var _i=ui.selection.prototype=[];_i.select=function(t){var e,n,r,a,o=[];t=R(t);for(var i=-1,u=this.length;++i<u;){o.push(e=[]),e.parentNode=(r=this[i]).parentNode;for(var s=-1,l=r.length;++s<l;)(a=r[s])?(e.push(n=t.call(a,a.__data__,s,i)),n&&"__data__"in a&&(n.__data__=a.__data__)):e.push(null)}return N(o)},_i.selectAll=function(t){var e,n,r=[];t=L(t);for(var a=-1,o=this.length;++a<o;)for(var i=this[a],u=-1,s=i.length;++u<s;)(n=i[u])&&(r.push(e=li(t.call(n,n.__data__,u,a))),e.parentNode=n);return N(r)};var Si={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ui.ns={prefix:Si,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Si.hasOwnProperty(n)?{space:Si[n],local:t}:t}},_i.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ui.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(q(e,t[e]));return this}return this.each(q(t,e))},_i.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=j(t)).length,a=-1;if(e=n.classList){for(;++a<r;)if(!e.contains(t[a]))return!1}else for(e=n.getAttribute("class");++a<r;)if(!P(t[a]).test(e))return!1;return!0}for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},_i.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each($(n,t[n],e));return this}if(2>r){var a=this.node();return i(a).getComputedStyle(a,null).getPropertyValue(t)}n=""}return this.each($(t,e,n))},_i.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(H(e,t[e]));return this}return this.each(H(t,e))},_i.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},_i.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},_i.append=function(t){return t=U(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},_i.insert=function(t,e){return t=U(t),e=R(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},_i.remove=function(){return this.each(I)},_i.data=function(t,e){function n(t,n){var r,a,o,i=t.length,c=n.length,f=Math.min(i,c),d=new Array(c),h=new Array(c),g=new Array(i);if(e){var m,v=new p,y=new Array(i);for(r=-1;++r<i;)v.has(m=e.call(a=t[r],a.__data__,r))?g[r]=a:v.set(m,a),y[r]=m;for(r=-1;++r<c;)(a=v.get(m=e.call(n,o=n[r],r)))?a!==!0&&(d[r]=a,a.__data__=o):h[r]=W(o),v.set(m,!0);for(r=-1;++r<i;)v.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<f;)a=t[r],o=n[r],a?(a.__data__=o,d[r]=a):h[r]=W(o);for(;c>r;++r)h[r]=W(n[r]);for(;i>r;++r)g[r]=t[r]}h.update=d,h.parentNode=d.parentNode=g.parentNode=t.parentNode,u.push(h),s.push(d),l.push(g)}var r,a,o=-1,i=this.length;if(!arguments.length){for(t=new Array(i=(r=this[0]).length);++o<i;)(a=r[o])&&(t[o]=a.__data__);return t}var u=X([]),s=N([]),l=N([]);if("function"==typeof t)for(;++o<i;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<i;)n(r=this[o],t);return s.enter=function(){return u},s.exit=function(){return l},s},_i.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},_i.filter=function(t){var e,n,r,a=[];"function"!=typeof t&&(t=G(t));for(var o=0,i=this.length;i>o;o++){a.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var u=0,s=n.length;s>u;u++)(r=n[u])&&t.call(r,r.__data__,u,o)&&e.push(r)}return N(a)},_i.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],a=r.length-1,o=r[a];--a>=0;)(n=r[a])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},_i.sort=function(t){t=Y.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},_i.each=function(t){return V(this,function(e,n,r){t.call(e,e.__data__,n,r)})},_i.call=function(t){var e=li(arguments);return t.apply(e[0]=this,e),this},_i.empty=function(){return!this.node()},_i.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,a=n.length;a>r;r++){var o=n[r];if(o)return o}return null},_i.size=function(){var t=0;return V(this,function(){++t}),t};var Di=[];ui.selection.enter=X,ui.selection.enter.prototype=Di,Di.append=_i.append,Di.empty=_i.empty,Di.node=_i.node,Di.call=_i.call,Di.size=_i.size,Di.select=function(t){for(var e,n,r,a,o,i=[],u=-1,s=this.length;++u<s;){r=(a=this[u]).update,i.push(e=[]),e.parentNode=a.parentNode;for(var l=-1,c=a.length;++l<c;)(o=a[l])?(e.push(r[l]=n=t.call(a.parentNode,o.__data__,l,u)),n.__data__=o.__data__):e.push(null)}return N(i)},Di.insert=function(t,e){return arguments.length<2&&(e=Z(this)),_i.insert.call(this,t,e)},ui.select=function(t){var e;return"string"==typeof t?(e=[Mi(t,ci)],e.parentNode=ci.documentElement):(e=[t],e.parentNode=o(t)),N([e])},ui.selectAll=function(t){var e;return"string"==typeof t?(e=li(Ci(t,ci)),e.parentNode=ci.documentElement):(e=t,e.parentNode=null),N([e])},_i.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(K(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(K(t,e,n))};var Ti=ui.map({mouseenter:"mouseover",mouseleave:"mouseout"});ci&&Ti.forEach(function(t){"on"+t in ci&&Ti.remove(t)});var Ni,Ri=0;ui.mouse=function(t){return et(t,D())};var Li=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ui.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=D().changedTouches),e)for(var r,a=0,o=e.length;o>a;++a)if((r=e[a]).identifier===n)return et(t,r)},ui.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",o)}function e(t,e,a,o,i){return function(){function u(){var t,n,r=e(d,g);r&&(t=r[0]-b[0],n=r[1]-b[1],p|=t|n,b=r,h({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}function s(){e(d,g)&&(v.on(o+m,null).on(i+m,null),y(p&&ui.event.target===f),h({type:"dragend"}))}var l,c=this,f=ui.event.target,d=c.parentNode,h=n.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ui.select(a(f)).on(o+m,u).on(i+m,s),y=tt(f),b=e(d,g);r?(l=r.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],h({type:"dragstart"})}}var n=T(t,"drag","dragstart","dragend"),r=null,a=e(C,ui.mouse,i,"mousemove","mouseup"),o=e(nt,ui.touch,A,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ui.rebind(t,n,"on")},ui.touches=function(t,e){return arguments.length<2&&(e=D().touches),e?li(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var qi=1e-6,Oi=qi*qi,Pi=Math.PI,ji=2*Pi,zi=ji-qi,Bi=Pi/2,$i=Pi/180,Hi=180/Pi,Ui=Math.SQRT2,Ii=2,Wi=4;ui.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=st(g),i=o/(Ii*d)*(n*lt(Ui*e+g)-ut(g));return[r+i*l,a+i*c,o*n/st(Ui*e+g)]}return[r+t*l,a+t*c,o*Math.exp(Ui*e)]}var r=t[0],a=t[1],o=t[2],i=e[0],u=e[1],s=e[2],l=i-r,c=u-a,f=l*l+c*c,d=Math.sqrt(f),h=(s*s-o*o+Wi*f)/(2*o*Ii*d),p=(s*s-o*o-Wi*f)/(2*s*Ii*d),g=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(s/o))/Ui;return n.duration=1e3*y,n},ui.behavior.zoom=function(){function t(t){t.on(D,f).on(Yi+".zoom",h).on("dblclick.zoom",p).on(L,d)}function e(t){return[(t[0]-F.x)/F.k,(t[1]-F.y)/F.k]}function n(t){return[t[0]*F.k+F.x,t[1]*F.k+F.y]}function r(t){F.k=Math.max(C[0],Math.min(C[1],t))}function a(t,e){e=n(e),F.x+=t[0]-e[0],F.y+=t[1]-e[1]}function o(e,n,o,i){e.__chart__={x:F.x,y:F.y,k:F.k},r(Math.pow(2,i)),a(m=n,o),e=ui.select(e),E>0&&(e=e.transition().duration(E)),e.call(t.event)}function u(){w&&w.domain(x.range().map(function(t){return(t-F.x)/F.k}).map(x.invert)),A&&A.domain(k.range().map(function(t){return(t-F.y)/F.k}).map(k.invert))}function s(t){_++||t({type:"zoomstart"})}function l(t){u(),t({type:"zoom",scale:F.k,translate:[F.x,F.y]})}function c(t){--_||(t({type:"zoomend"}),m=null)}function f(){function t(){f=1,a(ui.mouse(r),h),l(u)}function n(){d.on(N,null).on(R,null),p(f&&ui.event.target===o),c(u)}var r=this,o=ui.event.target,u=q.of(r,arguments),f=0,d=ui.select(i(r)).on(N,t).on(R,n),h=e(ui.mouse(r)),p=tt(r);$s.call(r),s(u)}function d(){function t(){var t=ui.touches(p);return h=F.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){var e=ui.event.target;ui.select(e).on(x,i).on(w,u),k.push(e);for(var n=ui.event.changedTouches,r=0,a=n.length;a>r;++r)m[n[r].identifier]=null;var s=t(),l=Date.now();if(1===s.length){if(500>l-b){var c=s[0];o(p,c,m[c.identifier],Math.floor(Math.log(F.k)/Math.LN2)+1),S()}b=l}else if(s.length>1){var c=s[0],f=s[1],d=c[0]-f[0],h=c[1]-f[1];v=d*d+h*h}}function i(){var t,e,n,o,i=ui.touches(p);$s.call(p);for(var u=0,s=i.length;s>u;++u,o=null)if(n=i[u],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(f*h)}b=null,a(t,e),l(g)}function u(){if(ui.event.touches.length){for(var e=ui.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var a in m)return void t()}ui.selectAll(k).on(y,null),A.on(D,f).on(L,d),M(),c(g)}var h,p=this,g=q.of(p,arguments),m={},v=0,y=".zoom-"+ui.event.changedTouches[0].identifier,x="touchmove"+y,w="touchend"+y,k=[],A=ui.select(p),M=tt(p);n(),s(g),A.on(D,null).on(L,n)}function h(){var t=q.of(this,arguments);y?clearTimeout(y):($s.call(this),g=e(m=v||ui.mouse(this)),s(t)),y=setTimeout(function(){y=null,c(t)},50),S(),r(Math.pow(2,.002*Gi())*F.k),a(m,g),l(t)}function p(){var t=ui.mouse(this),n=Math.log(F.k)/Math.LN2;o(this,t,e(t),ui.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,m,v,y,b,x,w,k,A,F={x:0,y:0,k:1},M=[960,500],C=Vi,E=250,_=0,D="mousedown.zoom",N="mousemove.zoom",R="mouseup.zoom",L="touchstart.zoom",q=T(t,"zoomstart","zoom","zoomend");return Yi||(Yi="onwheel"in ci?(Gi=function(){return-ui.event.deltaY*(ui.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ci?(Gi=function(){return ui.event.wheelDelta},"mousewheel"):(Gi=function(){return-ui.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=q.of(this,arguments),e=F;zs?ui.select(this).transition().each("start.zoom",function(){F=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=M[0],r=M[1],a=m?m[0]:n/2,o=m?m[1]:r/2,i=ui.interpolateZoom([(a-F.x)/F.k,(o-F.y)/F.k,n/F.k],[(a-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=i(e),u=n/r[2];this.__chart__=F={x:a-r[0]*u,y:o-r[1]*u,k:u},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=F,s(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(F={x:+e[0],y:+e[1],k:F.k},u(),t):[F.x,F.y]},t.scale=function(e){return arguments.length?(F={x:F.x,y:F.y,k:+e},u(),t):F.k},t.scaleExtent=function(e){return arguments.length?(C=null==e?Vi:[+e[0],+e[1]],t):C},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.duration=function(e){return arguments.length?(E=+e,t):E},t.x=function(e){return arguments.length?(w=e,x=e.copy(),F={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(A=e,k=e.copy(),F={x:0,y:0,k:1},t):A},ui.rebind(t,q,"on")};var Gi,Yi,Vi=[0,1/0];ui.color=ft,ft.prototype.toString=function(){return this.rgb()+""},ui.hsl=dt;var Xi=dt.prototype=new ft;Xi.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(this.h,this.s,this.l/t)},Xi.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(this.h,this.s,t*this.l)},Xi.rgb=function(){return ht(this.h,this.s,this.l)},ui.hcl=pt;var Zi=pt.prototype=new ft;Zi.brighter=function(t){return new pt(this.h,this.c,Math.min(100,this.l+Ki*(arguments.length?t:1)))},Zi.darker=function(t){return new pt(this.h,this.c,Math.max(0,this.l-Ki*(arguments.length?t:1)))},Zi.rgb=function(){return gt(this.h,this.c,this.l).rgb()},ui.lab=mt;var Ki=18,Ji=.95047,Qi=1,tu=1.08883,eu=mt.prototype=new ft;eu.brighter=function(t){return new mt(Math.min(100,this.l+Ki*(arguments.length?t:1)),this.a,this.b)},eu.darker=function(t){return new mt(Math.max(0,this.l-Ki*(arguments.length?t:1)),this.a,this.b)},eu.rgb=function(){return vt(this.l,this.a,this.b)},ui.rgb=kt;var nu=kt.prototype=new ft;nu.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,a=30;return e||n||r?(e&&a>e&&(e=a),n&&a>n&&(n=a),r&&a>r&&(r=a),new kt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new kt(a,a,a)},nu.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new kt(t*this.r,t*this.g,t*this.b)},nu.hsl=function(){return Et(this.r,this.g,this.b)},nu.toString=function(){return"#"+Mt(this.r)+Mt(this.g)+Mt(this.b)};var ru=ui.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ru.forEach(function(t,e){ru.set(t,At(e))}),ui.functor=Tt,ui.xhr=Nt(A),ui.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var i=Rt(t,e,null==n?r:a(n),o);return i.row=function(t){return arguments.length?i.response(null==(n=t)?r:a(t)):n},i}function r(t){return n.parse(t.responseText)}function a(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(i).join(t)}function i(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var a=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(a(t),n)}:a})},n.parseRows=function(t,e){function n(){if(c>=l)return i;if(a)return a=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(a=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(a=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l>c;){var r=t.charCodeAt(c++),u=1;if(10===r)a=!0;else if(13===r)a=!0,10===t.charCodeAt(c)&&(++c,++u);else if(r!==s)continue;return t.slice(e,c-u)}return t.slice(e)}for(var r,a,o={},i={},u=[],l=t.length,c=0,f=0;(r=n())!==i;){for(var d=[];r!==o&&r!==i;)d.push(r),r=n();e&&null==(d=e(d,f++))||u.push(d)}return u},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new k,a=[];return e.forEach(function(t){for(var e in t)r.has(e)||a.push(r.add(e))}),[a.map(i).join(t)].concat(e.map(function(e){return a.map(function(t){return i(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ui.csv=ui.dsv(",","text/csv"),ui.tsv=ui.dsv("	","text/tab-separated-values");var au,ou,iu,uu,su,lu=this[M(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ui.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var a=n+e,o={c:t,t:a,f:!1,n:null};ou?ou.n=o:au=o,
ou=o,iu||(uu=clearTimeout(uu),iu=1,lu(Ot))},ui.timer.flush=function(){Pt(),jt()},ui.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var cu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Bt);ui.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ui.round(t,zt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),cu[8+n/3]};var fu=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,du=ui.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ui.round(t,zt(t,e))).toFixed(Math.max(0,Math.min(20,zt(t*(1+1e-15),e))))}}),hu=ui.time={},pu=Date;Ut.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gu.setUTCDate.apply(this._,arguments)},setDay:function(){gu.setUTCDay.apply(this._,arguments)},setFullYear:function(){gu.setUTCFullYear.apply(this._,arguments)},setHours:function(){gu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gu.setUTCSeconds.apply(this._,arguments)},setTime:function(){gu.setTime.apply(this._,arguments)}};var gu=Date.prototype;hu.year=It(function(t){return t=hu.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),hu.years=hu.year.range,hu.years.utc=hu.year.utc.range,hu.day=It(function(t){var e=new pu(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),hu.days=hu.day.range,hu.days.utc=hu.day.utc.range,hu.dayOfYear=function(t){var e=hu.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=hu[t]=It(function(t){return(t=hu.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=hu.year(t).getDay();return Math.floor((hu.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});hu[t+"s"]=n.range,hu[t+"s"].utc=n.utc.range,hu[t+"OfYear"]=function(t){var n=hu.year(t).getDay();return Math.floor((hu.dayOfYear(t)+(n+e)%7)/7)}}),hu.week=hu.sunday,hu.weeks=hu.sunday.range,hu.weeks.utc=hu.sunday.utc.range,hu.weekOfYear=hu.sundayOfYear;var mu={"-":"",_:" ",0:"0"},vu=/^\s*\d+/,yu=/^%/;ui.locale=function(t){return{numberFormat:$t(t),timeFormat:Gt(t)}};var bu=ui.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ui.format=bu.numberFormat,ui.geo={},he.prototype={s:0,t:0,add:function(t){pe(t,this.t,xu),pe(xu.s,this.s,this),this.s?this.t+=xu.t:this.s=xu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xu=new he;ui.geo.stream=function(t,e){t&&wu.hasOwnProperty(t.type)?wu[t.type](t,e):ge(t,e)};var wu={Feature:function(t,e){ge(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)ge(n[r].geometry,e)}},ku={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){me(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)me(n[r],e,0)},Polygon:function(t,e){ve(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)ve(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)ge(n[r],e)}};ui.geo.area=function(t){return Au=0,ui.geo.stream(t,Mu),Au};var Au,Fu=new he,Mu={sphere:function(){Au+=4*Pi},point:C,lineStart:C,lineEnd:C,polygonStart:function(){Fu.reset(),Mu.lineStart=ye},polygonEnd:function(){var t=2*Fu;Au+=0>t?4*Pi+t:t,Mu.lineStart=Mu.lineEnd=Mu.point=C}};ui.geo.bounds=function(){function t(t,e){b.push(x=[c=t,d=t]),f>e&&(f=e),e>h&&(h=e)}function e(e,n){var r=be([e*$i,n*$i]);if(v){var a=we(v,r),o=[a[1],-a[0],0],i=we(o,a);Fe(i),i=Me(i);var s=e-p,l=s>0?1:-1,g=i[0]*Hi*l,m=bi(s)>180;if(m^(g>l*p&&l*e>g)){var y=i[1]*Hi;y>h&&(h=y)}else if(g=(g+360)%360-180,m^(g>l*p&&l*e>g)){var y=-i[1]*Hi;f>y&&(f=y)}else f>n&&(f=n),n>h&&(h=n);m?p>e?u(c,e)>u(c,d)&&(d=e):u(e,d)>u(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?u(c,e)>u(c,d)&&(d=e):u(e,d)>u(c,d)&&(c=e)}else t(e,n);v=r,p=e}function n(){w.point=e}function r(){x[0]=c,x[1]=d,w.point=t,v=null}function a(t,n){if(v){var r=t-p;y+=bi(r)>180?r+(r>0?360:-360):r}else g=t,m=n;Mu.point(t,n),e(t,n)}function o(){Mu.lineStart()}function i(){a(g,m),Mu.lineEnd(),bi(y)>qi&&(c=-(d=180)),x[0]=c,x[1]=d,v=null}function u(t,e){return(e-=t)<0?e+360:e}function s(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,d,h,p,g,m,v,y,b,x,w={point:t,lineStart:n,lineEnd:r,polygonStart:function(){w.point=a,w.lineStart=o,w.lineEnd=i,y=0,Mu.polygonStart()},polygonEnd:function(){Mu.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=r,0>Fu?(c=-(d=180),f=-(h=90)):y>qi?h=90:-qi>y&&(f=-90),x[0]=c,x[1]=d}};return function(t){h=d=-(c=f=1/0),b=[],ui.geo.stream(t,w);var e=b.length;if(e){b.sort(s);for(var n,r=1,a=b[0],o=[a];e>r;++r)n=b[r],l(n[0],a)||l(n[1],a)?(u(a[0],n[1])>u(a[0],a[1])&&(a[1]=n[1]),u(n[0],a[1])>u(a[0],a[1])&&(a[0]=n[0])):o.push(a=n);for(var i,n,p=-(1/0),e=o.length-1,r=0,a=o[e];e>=r;a=n,++r)n=o[r],(i=u(a[1],n[0]))>p&&(p=i,c=n[0],d=a[1])}return b=x=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[d,h]]}}(),ui.geo.centroid=function(t){Cu=Eu=_u=Su=Du=Tu=Nu=Ru=Lu=qu=Ou=0,ui.geo.stream(t,Pu);var e=Lu,n=qu,r=Ou,a=e*e+n*n+r*r;return Oi>a&&(e=Tu,n=Nu,r=Ru,qi>Eu&&(e=_u,n=Su,r=Du),a=e*e+n*n+r*r,Oi>a)?[NaN,NaN]:[Math.atan2(n,e)*Hi,it(r/Math.sqrt(a))*Hi]};var Cu,Eu,_u,Su,Du,Tu,Nu,Ru,Lu,qu,Ou,Pu={sphere:C,point:Ee,lineStart:Se,lineEnd:De,polygonStart:function(){Pu.lineStart=Te},polygonEnd:function(){Pu.lineStart=Se}},ju=Pe(Re,$e,Ue,[-Pi,-Pi/2]),zu=1e9;ui.geo.clipExtent=function(){var t,e,n,r,a,o,i={stream:function(t){return a&&(a.valid=!1),a=o(t),a.valid=!0,a},extent:function(u){return arguments.length?(o=Ye(t=+u[0][0],e=+u[0][1],n=+u[1][0],r=+u[1][1]),a&&(a.valid=!1,a=null),i):[[t,e],[n,r]]}};return i.extent([[0,0],[960,500]])},(ui.geo.conicEqualArea=function(){return Ve(Xe)}).raw=Xe,ui.geo.albers=function(){return ui.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ui.geo.albersUsa=function(){function t(t){var o=t[0],i=t[1];return e=null,n(o,i),e||(r(o,i),e)||a(o,i),e}var e,n,r,a,o=ui.geo.albers(),i=ui.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=ui.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&.234>a&&r>=-.425&&-.214>r?i:a>=.166&&.234>a&&r>=-.214&&-.115>r?u:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=i.stream(t),r=u.stream(t);return{point:function(t,a){e.point(t,a),n.point(t,a),r.point(t,a)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),i.precision(e),u.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),i.scale(.35*e),u.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(s).point,r=i.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+qi,f+.12*l+qi],[c-.214*l-qi,f+.234*l-qi]]).stream(s).point,a=u.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+qi,f+.166*l+qi],[c-.115*l-qi,f+.234*l-qi]]).stream(s).point,t},t.scale(1070)};var Bu,$u,Hu,Uu,Iu,Wu,Gu={point:C,lineStart:C,lineEnd:C,polygonStart:function(){$u=0,Gu.lineStart=Ze},polygonEnd:function(){Gu.lineStart=Gu.lineEnd=Gu.point=C,Bu+=bi($u/2)}},Yu={point:Ke,lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C},Vu={point:tn,lineStart:en,lineEnd:nn,polygonStart:function(){Vu.lineStart=rn},polygonEnd:function(){Vu.point=tn,Vu.lineStart=en,Vu.lineEnd=nn}};ui.geo.path=function(){function t(t){return t&&("function"==typeof u&&o.pointRadius(+u.apply(this,arguments)),i&&i.valid||(i=a(o)),ui.geo.stream(t,i)),o.result()}function e(){return i=null,t}var n,r,a,o,i,u=4.5;return t.area=function(t){return Bu=0,ui.geo.stream(t,a(Gu)),Bu},t.centroid=function(t){return _u=Su=Du=Tu=Nu=Ru=Lu=qu=Ou=0,ui.geo.stream(t,a(Vu)),Ou?[Lu/Ou,qu/Ou]:Ru?[Tu/Ru,Nu/Ru]:Du?[_u/Du,Su/Du]:[NaN,NaN]},t.bounds=function(t){return Iu=Wu=-(Hu=Uu=1/0),ui.geo.stream(t,a(Yu)),[[Hu,Uu],[Iu,Wu]]},t.projection=function(t){return arguments.length?(a=(n=t)?t.stream||un(t):A,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Je:new an(t),"function"!=typeof u&&o.pointRadius(u),e()):r},t.pointRadius=function(e){return arguments.length?(u="function"==typeof e?e:(o.pointRadius(+e),+e),t):u},t.projection(ui.geo.albersUsa()).context(null)},ui.geo.transform=function(t){return{stream:function(e){var n=new sn(e);for(var r in t)n[r]=t[r];return n}}},sn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ui.geo.projection=cn,ui.geo.projectionMutator=fn,(ui.geo.equirectangular=function(){return cn(hn)}).raw=hn.invert=hn,ui.geo.rotation=function(t){function e(e){return e=t(e[0]*$i,e[1]*$i),e[0]*=Hi,e[1]*=Hi,e}return t=gn(t[0]%360*$i,t[1]*$i,t.length>2?t[2]*$i:0),e.invert=function(e){return e=t.invert(e[0]*$i,e[1]*$i),e[0]*=Hi,e[1]*=Hi,e},e},pn.invert=hn,ui.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=gn(-t[0]*$i,-t[1]*$i,0).invert,a=[];return n(null,null,1,{point:function(t,n){a.push(t=e(t,n)),t[0]*=Hi,t[1]*=Hi}}),{type:"Polygon",coordinates:[a]}}var e,n,r=[0,0],a=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=bn((e=+r)*$i,a*$i),t):e},t.precision=function(r){return arguments.length?(n=bn(e*$i,(a=+r)*$i),t):a},t.angle(90)},ui.geo.distance=function(t,e){var n,r=(e[0]-t[0])*$i,a=t[1]*$i,o=e[1]*$i,i=Math.sin(r),u=Math.cos(r),s=Math.sin(a),l=Math.cos(a),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*i)*n+(n=l*c-s*f*u)*n),s*c+l*f*u)},ui.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ui.range(Math.ceil(o/m)*m,a,m).map(d).concat(ui.range(Math.ceil(l/v)*v,s,v).map(h)).concat(ui.range(Math.ceil(r/p)*p,n,p).filter(function(t){return bi(t%m)>qi}).map(c)).concat(ui.range(Math.ceil(u/g)*g,i,g).filter(function(t){return bi(t%v)>qi}).map(f))}var n,r,a,o,i,u,s,l,c,f,d,h,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(h(s).slice(1),d(a).reverse().slice(1),h(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],a=+e[1][0],l=+e[0][1],s=+e[1][1],o>a&&(e=o,o=a,a=e),l>s&&(e=l,l=s,s=e),t.precision(y)):[[o,l],[a,s]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],i=+e[1][1],r>n&&(e=r,r=n,n=e),u>i&&(e=u,u=i,i=e),t.precision(y)):[[r,u],[n,i]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=wn(u,i,90),f=kn(r,n,y),d=wn(l,s,90),h=kn(o,a,y),t):y},t.majorExtent([[-180,-90+qi],[180,90-qi]]).minorExtent([[-180,-80-qi],[180,80+qi]])},ui.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||a.apply(this,arguments)]}}var e,n,r=An,a=Fn;return t.distance=function(){return ui.geo.distance(e||r.apply(this,arguments),n||a.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(a=e,n="function"==typeof e?null:e,t):a},t.precision=function(){return arguments.length?t:0},t},ui.geo.interpolate=function(t,e){return Mn(t[0]*$i,t[1]*$i,e[0]*$i,e[1]*$i)},ui.geo.length=function(t){return Xu=0,ui.geo.stream(t,Zu),Xu};var Xu,Zu={sphere:C,point:C,lineStart:Cn,lineEnd:C,polygonStart:C,polygonEnd:C},Ku=En(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ui.geo.azimuthalEqualArea=function(){return cn(Ku)}).raw=Ku;var Ju=En(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},A);(ui.geo.azimuthalEquidistant=function(){return cn(Ju)}).raw=Ju,(ui.geo.conicConformal=function(){return Ve(_n)}).raw=_n,(ui.geo.conicEquidistant=function(){return Ve(Sn)}).raw=Sn;var Qu=En(function(t){return 1/t},Math.atan);(ui.geo.gnomonic=function(){return cn(Qu)}).raw=Qu,Dn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Bi]},(ui.geo.mercator=function(){return Tn(Dn)}).raw=Dn;var ts=En(function(){return 1},Math.asin);(ui.geo.orthographic=function(){return cn(ts)}).raw=ts;var es=En(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ui.geo.stereographic=function(){return cn(es)}).raw=es,Nn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Bi]},(ui.geo.transverseMercator=function(){var t=Tn(Nn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Nn,ui.geom={},ui.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,a=Tt(n),o=Tt(r),i=t.length,u=[],s=[];for(e=0;i>e;e++)u.push([+a.call(this,t[e],e),+o.call(this,t[e],e),e]);for(u.sort(On),e=0;i>e;e++)s.push([u[e][0],-u[e][1]]);var l=qn(u),c=qn(s),f=c[0]===l[0],d=c[c.length-1]===l[l.length-1],h=[];for(e=l.length-1;e>=0;--e)h.push(t[u[l[e]][2]]);for(e=+f;e<c.length-d;++e)h.push(t[u[c[e]][2]]);return h}var n=Rn,r=Ln;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ui.geom.polygon=function(t){return Fi(t,ns),t};var ns=ui.geom.polygon.prototype=[];ns.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],a=0;++e<n;)t=r,r=this[e],a+=t[1]*r[0]-t[0]*r[1];return.5*a},ns.centroid=function(t){var e,n,r=-1,a=this.length,o=0,i=0,u=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++r<a;)e=u,u=this[r],n=e[0]*u[1]-u[0]*e[1],o+=(e[0]+u[0])*n,i+=(e[1]+u[1])*n;return[o*t,i*t]},ns.clip=function(t){for(var e,n,r,a,o,i,u=zn(t),s=-1,l=this.length-zn(this),c=this[l-1];++s<l;){for(e=t.slice(),t.length=0,a=this[s],o=e[(r=e.length-u)-1],n=-1;++n<r;)i=e[n],Pn(i,c,a)?(Pn(o,c,a)||t.push(jn(o,i,c,a)),t.push(i)):Pn(o,c,a)&&t.push(jn(o,i,c,a)),o=i;u&&t.push(t[0]),c=a}return t};var rs,as,os,is,us,ss=[],ls=[];Yn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Xn),e.length},or.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ir.prototype={insert:function(t,e){var n,r,a;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=cr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(a=r.R,a&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.R&&(sr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,lr(this,r))):(a=r.L,a&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.L&&(lr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,sr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,a=t.U,o=t.L,i=t.R;if(n=o?i?cr(i):o:i,a?a.L===t?a.L=n:a.R=n:this._=n,o&&i?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==i?(a=n.U,n.U=t.U,t=n.R,a.L=t,n.R=i,i.U=n):(n.U=a,a=n,t=n.R)):(r=t.C,t=n),t&&(t.U=a),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===a.L){if(e=a.R,e.C&&(e.C=!1,a.C=!0,sr(this,a),e=a.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,lr(this,e),e=a.R),e.C=a.C,a.C=e.R.C=!1,sr(this,a),t=this._;break}}else if(e=a.L,e.C&&(e.C=!1,a.C=!0,lr(this,a),e=a.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,sr(this,e),e=a.L),e.C=a.C,a.C=e.L.C=!1,lr(this,a),t=this._;break}e.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},ui.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=u[0][0],a=u[0][1],o=u[1][0],i=u[1][1];return fr(n(t),u).cells.forEach(function(n,u){var s=n.edges,l=n.site,c=e[u]=s.length?s.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=a&&l.y<=i?[[r,i],[o,i],[o,a],[r,a]]:[];c.point=t[u]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/qi)*qi,y:Math.round(i(t,e)/qi)*qi,i:e}})}var r=Rn,a=Ln,o=r,i=a,u=cs;return t?e(t):(e.links=function(t){return fr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return fr(n(t)).cells.forEach(function(n,r){for(var a,o,i=n.site,u=n.edges.sort(Xn),s=-1,l=u.length,c=u[l-1].edge,f=c.l===i?c.r:c.l;++s<l;)a=c,o=f,c=u[s].edge,f=c.l===i?c.r:c.l,r<o.i&&r<f.i&&hr(i,o,f)<0&&e.push([t[r],t[o.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(o=Tt(r=t),e):r},e.y=function(t){return arguments.length?(i=Tt(a=t),e):a},e.clipExtent=function(t){return arguments.length?(u=null==t?cs:t,e):u===cs?null:u},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):u===cs?null:u&&u[1]},e)};var cs=[[-1e6,-1e6],[1e6,1e6]];ui.geom.delaunay=function(t){return ui.geom.voronoi().triangles(t)},ui.geom.quadtree=function(t,e,n,r,a){function o(t){function o(t,e,n,r,a,o,i,u){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,c=t.y;if(null!=s)if(bi(s-n)+bi(c-r)<.01)l(t,e,n,r,a,o,i,u);else{var f=t.point;t.x=t.y=t.point=null,l(t,f,s,c,a,o,i,u),l(t,e,n,r,a,o,i,u)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,a,o,i,u)}function l(t,e,n,r,a,i,u,s){var l=.5*(a+u),c=.5*(i+s),f=n>=l,d=r>=c,h=d<<1|f;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=mr()),f?a=l:u=l,d?i=c:s=c,o(t,e,n,r,a,i,u,s)}var c,f,d,h,p,g,m,v,y,b=Tt(u),x=Tt(s);if(null!=e)g=e,m=n,v=r,y=a;else if(v=y=-(g=m=1/0),f=[],d=[],p=t.length,i)for(h=0;p>h;++h)c=t[h],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),d.push(c.y);else for(h=0;p>h;++h){var w=+b(c=t[h],h),k=+x(c,h);g>w&&(g=w),m>k&&(m=k),w>v&&(v=w),k>y&&(y=k),f.push(w),d.push(k)}var A=v-g,F=y-m;A>F?y=m+A:v=g+F;var M=mr();if(M.add=function(t){o(M,t,+b(t,++h),+x(t,h),g,m,v,y)},M.visit=function(t){vr(t,M,g,m,v,y)},M.find=function(t){return yr(M,t[0],t[1],g,m,v,y)},h=-1,null==e){for(;++h<p;)o(M,t[h],f[h],d[h],g,m,v,y);--h}else t.forEach(M.add);return f=d=t=c=null,M}var i,u=Rn,s=Ln;return(i=arguments.length)?(u=pr,s=gr,3===i&&(a=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(u=t,o):u},o.y=function(t){return arguments.length?(s=t,o):s},o.extent=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],a=+t[1][1]),o):null==e?null:[[e,n],[r,a]]},o.size=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=n=0,r=+t[0],a=+t[1]),o):null==e?null:[r-e,a-n]},o)},ui.interpolateRgb=br,ui.interpolateObject=xr,ui.interpolateNumber=wr,ui.interpolateString=kr;var fs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ds=new RegExp(fs.source,"g");ui.interpolate=Ar,ui.interpolators=[function(t,e){var n=typeof e;return("string"===n?ru.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?br:kr:e instanceof ft?br:Array.isArray(e)?Fr:"object"===n&&isNaN(e)?xr:wr)(t,e)}],ui.interpolateArray=Fr;var hs=function(){return A},ps=ui.map({linear:hs,poly:Tr,quad:function(){return _r},cubic:function(){return Sr},sin:function(){return Nr},exp:function(){return Rr},circle:function(){return Lr},elastic:qr,back:Or,bounce:function(){return Pr}}),gs=ui.map({"in":A,out:Cr,"in-out":Er,"out-in":function(t){return Er(Cr(t))}});ui.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ps.get(n)||hs,r=gs.get(r)||A,Mr(r(n.apply(null,si.call(arguments,1))))},ui.interpolateHcl=jr,ui.interpolateHsl=zr,ui.interpolateLab=Br,ui.interpolateRound=$r,ui.transform=function(t){var e=ci.createElementNS(ui.ns.prefix.svg,"g");return(ui.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Hr(n?n.matrix:ms)})(t)},Hr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ms={a:1,b:0,c:0,d:1,e:0,f:0};ui.interpolateTransform=Gr,ui.layout={},ui.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Xr(t[n]));return e}},ui.layout.chord=function(){function t(){var t,l,f,d,h,p={},g=[],m=ui.range(o),v=[];for(n=[],r=[],t=0,d=-1;++d<o;){for(l=0,h=-1;++h<o;)l+=a[d][h];g.push(l),v.push(ui.range(o)),t+=l}for(i&&m.sort(function(t,e){return i(g[t],g[e])}),u&&v.forEach(function(t,e){t.sort(function(t,n){return u(a[e][t],a[e][n])})}),t=(ji-c*o)/t,l=0,d=-1;++d<o;){for(f=l,h=-1;++h<o;){var y=m[d],b=v[y][h],x=a[y][b],w=l,k=l+=x*t;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:k,value:x}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/t},l+=c}for(d=-1;++d<o;)for(h=d-1;++h<o;){var A=p[d+"-"+h],F=p[h+"-"+d];(A.value||F.value)&&n.push(A.value<F.value?{source:F,target:A}:{source:A,target:F})}s&&e()}function e(){n.sort(function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,a,o,i,u,s,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(a=t)&&a.length,n=r=null,l):a},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(i=t,n=r=null,l):i},l.sortSubgroups=function(t){return arguments.length?(u=t,n=null,l):u},l.sortChords=function(t){return arguments.length?(s=t,n&&e(),l):s},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},ui.layout.force=function(){function t(t){return function(e,n,r,a){if(e.point!==t){var o=e.cx-t.x,i=e.cy-t.y,u=a-n,s=o*o+i*i;if(s>u*u/m){if(p>s){var l=e.charge/s;t.px-=o*l,t.py-=i*l}return!0}if(e.point&&s&&p>s){var l=e.pointCharge/s;t.px-=o*l,t.py-=i*l}}return!e.charge}}function e(t){t.px=ui.event.x,t.py=ui.event.y,u.resume()}var n,r,a,o,i,u={},s=ui.dispatch("start","tick","end"),l=[1,1],c=.9,f=vs,d=ys,h=-30,p=bs,g=.1,m=.64,v=[],y=[];return u.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var e,n,u,f,d,p,m,b,x,w=v.length,k=y.length;for(n=0;k>n;++n)u=y[n],f=u.source,d=u.target,b=d.x-f.x,x=d.y-f.y,(p=b*b+x*x)&&(p=r*o[n]*((p=Math.sqrt(p))-a[n])/p,b*=p,x*=p,d.x-=b*(m=f.weight/(d.weight+f.weight)),d.y-=x*m,f.x+=b*(m=1-m),f.y+=x*m);if((m=r*g)&&(b=l[0]/2,x=l[1]/2,n=-1,m))for(;++n<w;)u=v[n],u.x+=(b-u.x)*m,u.y+=(x-u.y)*m;if(h)for(na(e=ui.geom.quadtree(v),r,i),n=-1;++n<w;)(u=v[n]).fixed||e.visit(t(u));for(n=-1;++n<w;)u=v[n],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*c,u.y-=(u.py-(u.py=u.y))*c);s.tick({type:"tick",alpha:r})},u.nodes=function(t){return arguments.length?(v=t,u):v},u.links=function(t){return arguments.length?(y=t,u):y},u.size=function(t){return arguments.length?(l=t,u):l},u.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.friction=function(t){return arguments.length?(c=+t,u):c},u.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,u):h},u.chargeDistance=function(t){return arguments.length?(p=t*t,u):Math.sqrt(p)},u.gravity=function(t){return arguments.length?(g=+t,u):g},u.theta=function(t){return arguments.length?(m=t*t,u):Math.sqrt(m)},u.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),ui.timer(u.tick)),u):r},u.start=function(){function t(t,r){if(!n){for(n=new Array(s),u=0;s>u;++u)n[u]=[];for(u=0;c>u;++u){var a=y[u];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var o,i=n[e],u=-1,l=i.length;++u<l;)if(!isNaN(o=i[u][t]))return o;return Math.random()*r}var e,n,r,s=v.length,c=y.length,p=l[0],g=l[1];for(e=0;s>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=y[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;s>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],"function"==typeof f)for(e=0;c>e;++e)a[e]=+f.call(this,y[e],e);else for(e=0;c>e;++e)a[e]=f;if(o=[],"function"==typeof d)for(e=0;c>e;++e)o[e]=+d.call(this,y[e],e);else for(e=0;c>e;++e)o[e]=d;if(i=[],"function"==typeof h)for(e=0;s>e;++e)i[e]=+h.call(this,v[e],e);else for(e=0;s>e;++e)i[e]=h;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return n||(n=ui.behavior.drag().origin(A).on("dragstart.force",Jr).on("drag.force",e).on("dragend.force",Qr)),arguments.length?void this.on("mouseover.force",ta).on("mouseout.force",ea).call(n):n},ui.rebind(u,s,"on")};var vs=20,ys=1,bs=1/0;ui.layout.hierarchy=function(){function t(a){var o,i=[a],u=[];for(a.depth=0;null!=(o=i.pop());)if(u.push(o),(l=n.call(t,o,o.depth))&&(s=l.length)){for(var s,l,c;--s>=0;)i.push(c=l[s]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return oa(a,function(t){var n,a;e&&(n=t.children)&&n.sort(e),r&&(a=t.parent)&&(a.value+=t.value)}),u}var e=sa,n=ia,r=ua;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(aa(e,function(t){t.children&&(t.value=0)}),oa(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ui.layout.partition=function(){function t(e,n,r,a){var o=e.children;if(e.x=n,e.y=e.depth*a,e.dx=r,e.dy=a,o&&(i=o.length)){var i,u,s,l=-1;for(r=e.value?r/e.value:0;++l<i;)t(u=o[l],n,s=u.value*r,a),n+=s}}function e(t){var n=t.children,r=0;if(n&&(a=n.length))for(var a,o=-1;++o<a;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var i=r.call(this,n,o);return t(i[0],0,a[0],a[1]/e(i[0])),i}var r=ui.layout.hierarchy(),a=[1,1];return n.size=function(t){return arguments.length?(a=t,n):a},ra(n,r)},ui.layout.pie=function(){function t(i){var u,s=i.length,l=i.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof a?a.apply(this,arguments):a)-c,d=Math.min(Math.abs(f)/s,+("function"==typeof o?o.apply(this,arguments):o)),h=d*(0>f?-1:1),p=(f-s*h)/ui.sum(l),g=ui.range(s),m=[];return null!=n&&g.sort(n===xs?function(t,e){return l[e]-l[t]}:function(t,e){return n(i[t],i[e])}),g.forEach(function(t){m[t]={data:i[t],value:u=l[t],startAngle:c,endAngle:c+=u*p+h,padAngle:d}}),m}var e=Number,n=xs,r=0,a=ji,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(a=e,t):a},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var xs={};ui.layout.stack=function(){function t(u,s){if(!(d=u.length))return u;var l=u.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),i.call(t,e,n)]})}),f=n.call(t,c,s);l=ui.permute(l,f),c=ui.permute(c,f);var d,h,p,g,m=r.call(t,c,s),v=l[0].length;for(p=0;v>p;++p)for(a.call(t,l[0][p],g=m[p],c[0][p][1]),h=1;d>h;++h)a.call(t,l[h][p],g+=c[h-1][p][1],c[h][p][1]);return u}var e=A,n=ha,r=pa,a=da,o=ca,i=fa;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ws.get(e)||ha,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:ks.get(e)||pa,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(i=e,t):i},t.out=function(e){return arguments.length?(a=e,t):a},t};var ws=ui.map({"inside-out":function(t){var e,n,r=t.length,a=t.map(ga),o=t.map(ma),i=ui.range(r).sort(function(t,e){return a[t]-a[e]}),u=0,s=0,l=[],c=[];for(e=0;r>e;++e)n=i[e],s>u?(u+=o[n],l.push(n)):(s+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ui.range(t.length).reverse()},"default":ha}),ks=ui.map({silhouette:function(t){var e,n,r,a=t.length,o=t[0].length,i=[],u=0,s=[];for(n=0;o>n;++n){for(e=0,r=0;a>e;e++)r+=t[e][n][1];r>u&&(u=r),i.push(r)}for(n=0;o>n;++n)s[n]=(u-i[n])/2;return s},wiggle:function(t){var e,n,r,a,o,i,u,s,l,c=t.length,f=t[0],d=f.length,h=[];for(h[0]=s=l=0,n=1;d>n;++n){for(e=0,a=0;c>e;++e)a+=t[e][n][1];for(e=0,o=0,u=f[n][0]-f[n-1][0];c>e;++e){for(r=0,i=(t[e][n][1]-t[e][n-1][1])/(2*u);e>r;++r)i+=(t[r][n][1]-t[r][n-1][1])/u;o+=i*t[e][n][1]}h[n]=s-=a?o/a*u:0,l>s&&(l=s)}for(n=0;d>n;++n)h[n]-=l;return h},expand:function(t){var e,n,r,a=t.length,o=t[0].length,i=1/a,u=[];for(n=0;o>n;++n){for(e=0,r=0;a>e;e++)r+=t[e][n][1];if(r)for(e=0;a>e;e++)t[e][n][1]/=r;else for(e=0;a>e;e++)t[e][n][1]=i}for(n=0;o>n;++n)u[n]=0;return u},zero:pa});ui.layout.histogram=function(){function t(t,o){for(var i,u,s=[],l=t.map(n,this),c=r.call(this,l,o),f=a.call(this,c,l,o),o=-1,d=l.length,h=f.length-1,p=e?1:1/d;++o<h;)i=s[o]=[],i.dx=f[o+1]-(i.x=f[o]),i.y=0;if(h>0)for(o=-1;++o<d;)u=l[o],u>=c[0]&&u<=c[1]&&(i=s[ui.bisect(f,u,1,h)-1],i.y+=p,i.push(t[o]));return s}var e=!0,n=Number,r=xa,a=ya;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Tt(e),t):r},t.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return ba(t,e)}:Tt(e),t):a},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ui.layout.pack=function(){function t(t,o){var i=n.call(this,t,o),u=i[0],s=a[0],l=a[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(u.x=u.y=0,oa(u,function(t){t.r=+c(t.value)}),oa(u,Ma),r){var f=r*(e?1:Math.max(2*u.r/s,2*u.r/l))/2;oa(u,function(t){t.r+=f;
}),oa(u,Ma),oa(u,function(t){t.r-=f})}return _a(u,s/2,l/2,e?1:1/Math.max(2*u.r/s,2*u.r/l)),i}var e,n=ui.layout.hierarchy().sort(wa),r=0,a=[1,1];return t.size=function(e){return arguments.length?(a=e,t):a},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ra(t,n)},ui.layout.tree=function(){function t(t,a){var c=i.call(this,t,a),f=c[0],d=e(f);if(oa(d,n),d.parent.m=-d.z,aa(d,r),l)aa(f,o);else{var h=f,p=f,g=f;aa(f,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=u(h,p)/2-h.x,v=s[0]/(p.x+u(p,h)/2+m),y=s[1]/(g.depth||1);aa(f,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var a,o=e.children,i=0,u=o.length;u>i;++i)r.push((o[i]=a={_:o[i],parent:e,children:(a=o[i].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:i}).a=a);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){La(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+u(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+u(t._,r._));t.parent.A=a(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,e,n){if(e){for(var r,a=t,o=t,i=e,s=a.parent.children[0],l=a.m,c=o.m,f=i.m,d=s.m;i=Na(i),a=Ta(a),i&&a;)s=Ta(s),o=Na(o),o.a=t,r=i.z+f-a.z-l+u(i._,a._),r>0&&(Ra(qa(i,t,n),t,r),l+=r,c+=r),f+=i.m,l+=a.m,d+=s.m,c+=o.m;i&&!Na(o)&&(o.t=i,o.m+=f-c),a&&!Ta(s)&&(s.t=a,s.m+=l-d,n=t)}return n}function o(t){t.x*=s[0],t.y=t.depth*s[1]}var i=ui.layout.hierarchy().sort(null).value(null),u=Da,s=[1,1],l=null;return t.separation=function(e){return arguments.length?(u=e,t):u},t.size=function(e){return arguments.length?(l=null==(s=e)?o:null,t):l?null:s},t.nodeSize=function(e){return arguments.length?(l=null==(s=e)?null:o,t):l?s:null},ra(t,i)},ui.layout.cluster=function(){function t(t,o){var i,u=e.call(this,t,o),s=u[0],l=0;oa(s,function(t){var e=t.children;e&&e.length?(t.x=Pa(e),t.y=Oa(e)):(t.x=i?l+=n(t,i):0,t.y=0,i=t)});var c=ja(s),f=za(s),d=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return oa(s,a?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),u}var e=ui.layout.hierarchy().sort(null).value(null),n=Da,r=[1,1],a=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(a=null==(r=e),t):a?null:r},t.nodeSize=function(e){return arguments.length?(a=null!=(r=e),t):a?r:null},ra(t,e)},ui.layout.treemap=function(){function t(t,e){for(var n,r,a=-1,o=t.length;++a<o;)r=(n=t[a]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var i,u,s,l=f(n),c=[],d=o.slice(),p=1/0,g="slice"===h?l.dx:"dice"===h?l.dy:"slice-dice"===h?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(d,l.dx*l.dy/n.value),c.area=0;(s=d.length)>0;)c.push(i=d[s-1]),c.area+=i.area,"squarify"!==h||(u=r(c,g))<=p?(d.pop(),p=u):(c.area-=c.pop().area,a(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(a(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,i=f(e),u=r.slice(),s=[];for(t(u,i.dx*i.dy/e.value),s.area=0;o=u.pop();)s.push(o),s.area+=o.area,null!=o.z&&(a(s,o.z?i.dx:i.dy,i,!u.length),s.length=s.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,a=0,o=1/0,i=-1,u=t.length;++i<u;)(n=t[i].area)&&(o>n&&(o=n),n>a&&(a=n));return r*=r,e*=e,r?Math.max(e*a*p/r,r/(e*o*p)):1/0}function a(t,e,n,r){var a,o=-1,i=t.length,u=n.x,l=n.y,c=e?s(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<i;)a=t[o],a.x=u,a.y=l,a.dy=c,u+=a.dx=Math.min(n.x+n.dx-u,c?s(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-u,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<i;)a=t[o],a.x=u,a.y=l,a.dx=c,l+=a.dy=Math.min(n.y+n.dy-l,c?s(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var a=i||u(r),o=a[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],i&&u.revalue(o),t([o],o.dx*o.dy/o.value),(i?n:e)(o),d&&(i=a),a}var i,u=ui.layout.hierarchy(),s=Math.round,l=[1,1],c=null,f=Ba,d=!1,h="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Ba(e):$a(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return $a(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?Ba:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(s=t?Math.round:Number,o):s!=Number},o.sticky=function(t){return arguments.length?(d=t,i=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(h=t+"",o):h},ra(o,u)},ui.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,a;do n=2*Math.random()-1,r=2*Math.random()-1,a=n*n+r*r;while(!a||a>1);return t+e*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=ui.random.normal.apply(ui,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ui.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ui.scale={};var As={floor:A,ceil:A};ui.scale.linear=function(){return Va([0,1],[0,1],Ar,!1)};var Fs={s:1,g:1,p:1,r:1,e:1};ui.scale.log=function(){return no(ui.scale.linear().domain([0,1]),10,!0,[1,10])};var Ms=ui.format(".0e"),Cs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ui.scale.pow=function(){return ro(ui.scale.linear(),1,[0,1])},ui.scale.sqrt=function(){return ui.scale.pow().exponent(.5)},ui.scale.ordinal=function(){return oo([],{t:"range",a:[[]]})},ui.scale.category10=function(){return ui.scale.ordinal().range(Es)},ui.scale.category20=function(){return ui.scale.ordinal().range(_s)},ui.scale.category20b=function(){return ui.scale.ordinal().range(Ss)},ui.scale.category20c=function(){return ui.scale.ordinal().range(Ds)};var Es=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ft),_s=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ft),Ss=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ft),Ds=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ft);ui.scale.quantile=function(){return io([],[])},ui.scale.quantize=function(){return uo(0,1,[0,1])},ui.scale.threshold=function(){return so([.5],[0,1])},ui.scale.identity=function(){return lo([0,1])},ui.svg={},ui.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=i.apply(this,arguments)-Bi,f=u.apply(this,arguments)-Bi,d=Math.abs(f-c),h=c>f?0:1;if(t>l&&(p=l,l=t,t=p),d>=zi)return e(l,h)+(t?e(t,1-h):"")+"Z";var p,g,m,v,y,b,x,w,k,A,F,M,C=0,E=0,_=[];if((v=(+s.apply(this,arguments)||0)/2)&&(m=o===Ts?Math.sqrt(t*t+l*l):+o.apply(this,arguments),h||(E*=-1),l&&(E=it(m/l*Math.sin(v))),t&&(C=it(m/t*Math.sin(v)))),l){y=l*Math.cos(c+E),b=l*Math.sin(c+E),x=l*Math.cos(f-E),w=l*Math.sin(f-E);var S=Math.abs(f-c-2*E)<=Pi?0:1;if(E&&vo(y,b,x,w)===h^S){var D=(c+f)/2;y=l*Math.cos(D),b=l*Math.sin(D),x=w=null}}else y=b=0;if(t){k=t*Math.cos(f-C),A=t*Math.sin(f-C),F=t*Math.cos(c+C),M=t*Math.sin(c+C);var T=Math.abs(c-f+2*C)<=Pi?0:1;if(C&&vo(k,A,F,M)===1-h^T){var N=(c+f)/2;k=t*Math.cos(N),A=t*Math.sin(N),F=M=null}}else k=A=0;if((p=Math.min(Math.abs(l-t)/2,+a.apply(this,arguments)))>.001){g=l>t^h?0:1;var R=null==F?[k,A]:null==x?[y,b]:jn([y,b],[F,M],[x,w],[k,A]),L=y-R[0],q=b-R[1],O=x-R[0],P=w-R[1],j=1/Math.sin(Math.acos((L*O+q*P)/(Math.sqrt(L*L+q*q)*Math.sqrt(O*O+P*P)))/2),z=Math.sqrt(R[0]*R[0]+R[1]*R[1]);if(null!=x){var B=Math.min(p,(l-z)/(j+1)),$=yo(null==F?[k,A]:[F,M],[y,b],l,B,h),H=yo([x,w],[k,A],l,B,h);p===B?_.push("M",$[0],"A",B,",",B," 0 0,",g," ",$[1],"A",l,",",l," 0 ",1-h^vo($[1][0],$[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",B,",",B," 0 0,",g," ",H[0]):_.push("M",$[0],"A",B,",",B," 0 1,",g," ",H[0])}else _.push("M",y,",",b);if(null!=F){var U=Math.min(p,(t-z)/(j-1)),I=yo([y,b],[F,M],t,-U,h),W=yo([k,A],null==x?[y,b]:[x,w],t,-U,h);p===U?_.push("L",W[0],"A",U,",",U," 0 0,",g," ",W[1],"A",t,",",t," 0 ",h^vo(W[1][0],W[1][1],I[1][0],I[1][1]),",",1-h," ",I[1],"A",U,",",U," 0 0,",g," ",I[0]):_.push("L",W[0],"A",U,",",U," 0 0,",g," ",I[0])}else _.push("L",k,",",A)}else _.push("M",y,",",b),null!=x&&_.push("A",l,",",l," 0 ",S,",",h," ",x,",",w),_.push("L",k,",",A),null!=F&&_.push("A",t,",",t," 0 ",T,",",1-h," ",F,",",M);return _.push("Z"),_.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=fo,r=ho,a=co,o=Ts,i=po,u=go,s=mo;return t.innerRadius=function(e){return arguments.length?(n=Tt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Tt(e),t):r},t.cornerRadius=function(e){return arguments.length?(a=Tt(e),t):a},t.padRadius=function(e){return arguments.length?(o=e==Ts?Ts:Tt(e),t):o},t.startAngle=function(e){return arguments.length?(i=Tt(e),t):i},t.endAngle=function(e){return arguments.length?(u=Tt(e),t):u},t.padAngle=function(e){return arguments.length?(s=Tt(e),t):s},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-Bi;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Ts="auto";ui.svg.line=function(){return bo(A)};var Ns=ui.map({linear:xo,"linear-closed":wo,step:ko,"step-before":Ao,"step-after":Fo,basis:Do,"basis-open":To,"basis-closed":No,bundle:Ro,cardinal:Eo,"cardinal-open":Mo,"cardinal-closed":Co,monotone:zo});Ns.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Rs=[0,2/3,1/3,0],Ls=[0,1/3,2/3,0],qs=[0,1/6,2/3,1/6];ui.svg.line.radial=function(){var t=bo(Bo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ao.reverse=Fo,Fo.reverse=Ao,ui.svg.area=function(){return $o(A)},ui.svg.area.radial=function(){var t=$o(Bo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ui.svg.chord=function(){function t(t,u){var s=e(this,o,t,u),l=e(this,i,t,u);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(n(s,l)?a(s.r,s.p1,s.r,s.p0):a(s.r,s.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+a(l.r,l.p1,s.r,s.p0))+"Z"}function e(t,e,n,r){var a=e.call(t,n,r),o=u.call(t,a,r),i=s.call(t,a,r)-Bi,c=l.call(t,a,r)-Bi;return{r:o,a0:i,a1:c,p0:[o*Math.cos(i),o*Math.sin(i)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Pi)+",1 "+e}function a(t,e,n,r){return"Q 0,0 "+r}var o=An,i=Fn,u=Ho,s=po,l=go;return t.radius=function(e){return arguments.length?(u=Tt(e),t):u},t.source=function(e){return arguments.length?(o=Tt(e),t):o},t.target=function(e){return arguments.length?(i=Tt(e),t):i},t.startAngle=function(e){return arguments.length?(s=Tt(e),t):s},t.endAngle=function(e){return arguments.length?(l=Tt(e),t):l},t},ui.svg.diagonal=function(){function t(t,a){var o=e.call(this,t,a),i=n.call(this,t,a),u=(o.y+i.y)/2,s=[o,{x:o.x,y:u},{x:i.x,y:u},i];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var e=An,n=Fn,r=Uo;return t.source=function(n){return arguments.length?(e=Tt(n),t):e},t.target=function(e){return arguments.length?(n=Tt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ui.svg.diagonal.radial=function(){var t=ui.svg.diagonal(),e=Uo,n=t.projection;return t.projection=function(t){return arguments.length?n(Io(e=t)):e},t},ui.svg.symbol=function(){function t(t,r){return(Os.get(e.call(this,t,r))||Yo)(n.call(this,t,r))}var e=Go,n=Wo;return t.type=function(n){return arguments.length?(e=Tt(n),t):e},t.size=function(e){return arguments.length?(n=Tt(e),t):n},t};var Os=ui.map({circle:Yo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*js)),n=e*js;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Ps),n=e*Ps/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Ps),n=e*Ps/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ui.svg.symbolTypes=Os.keys();var Ps=Math.sqrt(3),js=Math.tan(30*$i);_i.transition=function(t){for(var e,n,r=zs||++Us,a=Jo(t),o=[],i=Bs||{time:Date.now(),ease:Dr,delay:0,duration:250},u=-1,s=this.length;++u<s;){o.push(e=[]);for(var l=this[u],c=-1,f=l.length;++c<f;)(n=l[c])&&Qo(n,c,a,r,i),e.push(n)}return Xo(o,a,r)},_i.interrupt=function(t){return this.each(null==t?$s:Vo(Jo(t)))};var zs,Bs,$s=Vo(Jo()),Hs=[],Us=0;Hs.call=_i.call,Hs.empty=_i.empty,Hs.node=_i.node,Hs.size=_i.size,ui.transition=function(t,e){return t&&t.transition?zs?t.transition(e):t:ui.selection().transition(t)},ui.transition.prototype=Hs,Hs.select=function(t){var e,n,r,a=this.id,o=this.namespace,i=[];t=R(t);for(var u=-1,s=this.length;++u<s;){i.push(e=[]);for(var l=this[u],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=t.call(r,r.__data__,c,u))?("__data__"in r&&(n.__data__=r.__data__),Qo(n,c,o,a,r[o][a]),e.push(n)):e.push(null)}return Xo(i,o,a)},Hs.selectAll=function(t){var e,n,r,a,o,i=this.id,u=this.namespace,s=[];t=L(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],d=-1,h=f.length;++d<h;)if(r=f[d]){o=r[u][i],n=t.call(r,r.__data__,d,l),s.push(e=[]);for(var p=-1,g=n.length;++p<g;)(a=n[p])&&Qo(a,p,u,i,o),e.push(a)}return Xo(s,u,i)},Hs.filter=function(t){var e,n,r,a=[];"function"!=typeof t&&(t=G(t));for(var o=0,i=this.length;i>o;o++){a.push(e=[]);for(var n=this[o],u=0,s=n.length;s>u;u++)(r=n[u])&&t.call(r,r.__data__,u,o)&&e.push(r)}return Xo(a,this.namespace,this.id)},Hs.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):V(this,null==e?function(e){e[r][n].tween.remove(t)}:function(a){a[r][n].tween.set(t,e)})},Hs.attr=function(t,e){function n(){this.removeAttribute(u)}function r(){this.removeAttributeNS(u.space,u.local)}function a(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(u);return n!==t&&(e=i(n,t),function(t){this.setAttribute(u,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(u.space,u.local);return n!==t&&(e=i(n,t),function(t){this.setAttributeNS(u.space,u.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var i="transform"==t?Gr:Ar,u=ui.ns.qualify(t);return Zo(this,"attr."+t,e,u.local?o:a)},Hs.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(a));return r&&function(t){this.setAttribute(a,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(a.space,a.local));return r&&function(t){this.setAttributeNS(a.space,a.local,r(t))}}var a=ui.ns.qualify(t);return this.tween("attr."+t,a.local?r:n)},Hs.style=function(t,e,n){function r(){this.style.removeProperty(t)}function a(e){return null==e?r:(e+="",function(){var r,a=i(this).getComputedStyle(this,null).getPropertyValue(t);return a!==e&&(r=Ar(a,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Zo(this,"style."+t,e,a)},Hs.styleTween=function(t,e,n){function r(r,a){var o=e.call(this,r,a,i(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Hs.text=function(t){return Zo(this,"text",t,Ko)},Hs.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Hs.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ui.ease.apply(ui,arguments)),V(this,function(r){r[n][e].ease=t}))},Hs.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:V(this,"function"==typeof t?function(r,a,o){r[n][e].delay=+t.call(r,r.__data__,a,o)}:(t=+t,function(r){r[n][e].delay=t}))},Hs.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:V(this,"function"==typeof t?function(r,a,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,a,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Hs.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var a=Bs,o=zs;try{zs=n,V(this,function(e,a,o){Bs=e[r][n],t.call(e,e.__data__,a,o)})}finally{Bs=a,zs=o}}else V(this,function(a){var o=a[r][n];(o.event||(o.event=ui.dispatch("start","end","interrupt"))).on(t,e)});return this},Hs.transition=function(){for(var t,e,n,r,a=this.id,o=++Us,i=this.namespace,u=[],s=0,l=this.length;l>s;s++){u.push(t=[]);for(var e=this[s],c=0,f=e.length;f>c;c++)(n=e[c])&&(r=n[i][a],Qo(n,c,i,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Xo(u,i,o)},ui.svg.axis=function(){function t(t){t.each(function(){var t,l=ui.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),d=null==s?f.ticks?f.ticks.apply(f,u):f.domain():s,h=null==e?f.tickFormat?f.tickFormat.apply(f,u):A:e,p=l.selectAll(".tick").data(d,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",qi),m=ui.transition(p.exit()).style("opacity",qi).remove(),v=ui.transition(p.order()).style("opacity",1),y=Math.max(a,0)+i,b=Ua(f),x=l.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),ui.transition(x));g.append("line"),g.append("text");var k,F,M,C,E=g.select("line"),_=v.select("line"),S=p.select("text").text(h),D=g.select("text"),T=v.select("text"),N="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=ti,k="x",M="y",F="x2",C="y2",S.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+N*o+"V0H"+b[1]+"V"+N*o)):(t=ei,k="y",M="x",F="y2",C="x2",S.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),w.attr("d","M"+N*o+","+b[0]+"H0V"+b[1]+"H"+N*o)),E.attr(C,N*a),D.attr(M,N*y),_.attr(F,0).attr(C,N*a),T.attr(k,0).attr(M,N*y),f.rangeBand){var R=f,L=R.rangeBand()/2;c=f=function(t){return R(t)+L}}else c.rangeBand?c=f:m.call(t,f,c);g.call(t,c,f),v.call(t,f,f)})}var e,n=ui.scale.linear(),r=Is,a=6,o=6,i=3,u=[10],s=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ws?e+"":Is,t):r},t.ticks=function(){return arguments.length?(u=arguments,t):u},t.tickValues=function(e){return arguments.length?(s=e,t):s},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(a=+e,o=+arguments[n-1],t):a},t.innerTickSize=function(e){return arguments.length?(a=+e,t):a},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(i=+e,t):i},t.tickSubdivide=function(){return arguments.length&&t},t};var Is="bottom",Ws={top:1,right:1,bottom:1,left:1};ui.svg.brush=function(){function t(o){o.each(function(){var o=ui.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),i=o.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=o.selectAll(".resize").data(g,A);u.exit().remove(),u.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Gs[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),u.style("display",t.empty()?"none":null);var s,f=ui.transition(o),d=ui.transition(i);l&&(s=Ua(l),d.attr("x",s[0]).attr("width",s[1]-s[0]),n(f)),c&&(s=Ua(c),d.attr("y",s[0]).attr("height",s[1]-s[0]),r(f)),e(f)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){32==ui.event.keyCode&&(_||(b=null,T[0]-=f[1],T[1]-=d[1],_=2),S())}function g(){32==ui.event.keyCode&&2==_&&(T[0]+=f[1],T[1]+=d[1],_=0,S())}function m(){var t=ui.mouse(w),a=!1;x&&(t[0]+=x[0],t[1]+=x[1]),_||(ui.event.altKey?(b||(b=[(f[0]+f[1])/2,(d[0]+d[1])/2]),T[0]=f[+(t[0]<b[0])],T[1]=d[+(t[1]<b[1])]):b=null),C&&v(t,l,0)&&(n(F),a=!0),E&&v(t,c,1)&&(r(F),a=!0),a&&(e(F),A({type:"brush",mode:_?"move":"resize"}))}function v(t,e,n){var r,a,i=Ua(e),s=i[0],l=i[1],c=T[n],g=n?d:f,m=g[1]-g[0];return _&&(s-=c,l-=m+c),r=(n?p:h)?Math.max(s,Math.min(l,t[n])):t[n],_?a=(r+=c)+m:(b&&(c=Math.max(s,Math.min(l,2*b[n]-r))),r>c?(a=r,r=c):a=c),g[0]!=r||g[1]!=a?(n?u=null:o=null,g[0]=r,g[1]=a,!0):void 0}function y(){m(),F.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ui.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),A({type:"brushend"})}var b,x,w=this,k=ui.select(ui.event.target),A=s.of(w,arguments),F=ui.select(w),M=k.datum(),C=!/^(n|s)$/.test(M)&&l,E=!/^(e|w)$/.test(M)&&c,_=k.classed("extent"),D=tt(w),T=ui.mouse(w),N=ui.select(i(w)).on("keydown.brush",a).on("keyup.brush",g);if(ui.event.changedTouches?N.on("touchmove.brush",m).on("touchend.brush",y):N.on("mousemove.brush",m).on("mouseup.brush",y),F.interrupt().selectAll("*").interrupt(),_)T[0]=f[0]-T[0],T[1]=d[0]-T[1];else if(M){var R=+/w$/.test(M),L=+/^n/.test(M);x=[f[1-R]-T[0],d[1-L]-T[1]],T[0]=f[R],T[1]=d[L]}else ui.event.altKey&&(b=T.slice());F.style("pointer-events","none").selectAll(".resize").style("display",null),ui.select("body").style("cursor",k.style("cursor")),A({type:"brushstart"}),m()}var o,u,s=T(t,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],d=[0,0],h=!0,p=!0,g=Ys[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:f,y:d,i:o,j:u},n=this.__chart__||e;this.__chart__=e,zs?ui.select(this).transition().each("start.brush",function(){o=n.i,u=n.j,f=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Fr(f,e.x),r=Fr(d,e.y);return o=u=null,function(a){f=e.x=n(a),d=e.y=r(a),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,u=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=Ys[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=Ys[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(h=!!e[0],p=!!e[1]):l?h=!!e:c&&(p=!!e),t):l&&c?[h,p]:l?h:c?p:null},t.extent=function(e){var n,r,a,i,s;return arguments.length?(l&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),o=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(s=n,n=r,r=s),(n!=f[0]||r!=f[1])&&(f=[n,r])),c&&(a=e[0],i=e[1],l&&(a=a[1],i=i[1]),u=[a,i],c.invert&&(a=c(a),i=c(i)),a>i&&(s=a,a=i,i=s),(a!=d[0]||i!=d[1])&&(d=[a,i])),t):(l&&(o?(n=o[0],r=o[1]):(n=f[0],r=f[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(s=n,n=r,r=s))),c&&(u?(a=u[0],i=u[1]):(a=d[0],i=d[1],c.invert&&(a=c.invert(a),i=c.invert(i)),a>i&&(s=a,a=i,i=s))),l&&c?[[n,a],[r,i]]:l?[n,r]:c&&[a,i])},t.clear=function(){return t.empty()||(f=[0,0],d=[0,0],o=u=null),t},t.empty=function(){return!!l&&f[0]==f[1]||!!c&&d[0]==d[1]},ui.rebind(t,s,"on")};var Gs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ys=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Vs=hu.format=bu.timeFormat,Xs=Vs.utc,Zs=Xs("%Y-%m-%dT%H:%M:%S.%LZ");Vs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ni:Zs,ni.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ni.toString=Zs.toString,hu.second=It(function(t){return new pu(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),hu.seconds=hu.second.range,hu.seconds.utc=hu.second.utc.range,hu.minute=It(function(t){return new pu(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),hu.minutes=hu.minute.range,hu.minutes.utc=hu.minute.utc.range,hu.hour=It(function(t){var e=t.getTimezoneOffset()/60;return new pu(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),hu.hours=hu.hour.range,hu.hours.utc=hu.hour.utc.range,hu.month=It(function(t){return t=hu.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),hu.months=hu.month.range,hu.months.utc=hu.month.utc.range;var Ks=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Js=[[hu.second,1],[hu.second,5],[hu.second,15],[hu.second,30],[hu.minute,1],[hu.minute,5],[hu.minute,15],[hu.minute,30],[hu.hour,1],[hu.hour,3],[hu.hour,6],[hu.hour,12],[hu.day,1],[hu.day,2],[hu.week,1],[hu.month,1],[hu.month,3],[hu.year,1]],Qs=Vs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Re]]),tl={range:function(t,e,n){return ui.range(Math.ceil(t/n)*n,+e,n).map(ai)},floor:A,ceil:A};Js.year=hu.year,hu.scale=function(){return ri(ui.scale.linear(),Js,Qs)};var el=Js.map(function(t){return[t[0].utc,t[1]]}),nl=Xs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Re]]);el.year=hu.year.utc,hu.scale.utc=function(){return ri(ui.scale.linear(),el,nl)},ui.text=Nt(function(t){return t.responseText}),ui.json=function(t,e){return Rt(t,"application/json",oi,e)},ui.html=function(t,e){return Rt(t,"text/html",ii,e)},ui.xml=Nt(function(t){return t.responseXML}),r=ui,a="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==a&&(t.exports=a)),this.d3=ui}()},function(t,e,n){var r,a;/*!
	 * jQuery JavaScript Library v2.1.4
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2015-04-28T16:01Z
	 */
!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){function i(t){var e="length"in t&&t.length,n=rt.type(t);return"function"===n||rt.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function u(t,e,n){if(rt.isFunction(e))return rt.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return rt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ft.test(e))return rt.filter(e,t,n);e=rt.filter(e,t)}return rt.grep(t,function(t){return Z.call(e,t)>=0!==n})}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e=yt[t]={};return rt.each(t.match(vt)||[],function(t,n){e[n]=!0}),e}function c(){et.removeEventListener("DOMContentLoaded",c,!1),n.removeEventListener("load",c,!1),rt.ready()}function f(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=rt.expando+f.uid++}function d(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Ft,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:At.test(n)?rt.parseJSON(n):n}catch(a){}kt.set(t,e,n)}else n=void 0;return n}function h(){return!0}function p(){return!1}function g(){try{return et.activeElement}catch(t){}}function m(t,e){return rt.nodeName(t,"table")&&rt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function v(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function y(t){var e=Bt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){for(var n=0,r=t.length;r>n;n++)wt.set(t[n],"globalEval",!e||wt.get(e[n],"globalEval"))}function x(t,e){var n,r,a,o,i,u,s,l;if(1===e.nodeType){if(wt.hasData(t)&&(o=wt.access(t),i=wt.set(e,o),l=o.events)){delete i.handle,i.events={};for(a in l)for(n=0,r=l[a].length;r>n;n++)rt.event.add(e,a,l[a][n])}kt.hasData(t)&&(u=kt.access(t),s=rt.extend({},u),kt.set(e,s))}}function w(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&rt.nodeName(t,e)?rt.merge([t],n):n}function k(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_t.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function A(t,e){var r,a=rt(e.createElement(t)).appendTo(e.body),o=n.getDefaultComputedStyle&&(r=n.getDefaultComputedStyle(a[0]))?r.display:rt.css(a[0],"display");return a.detach(),o}function F(t){var e=et,n=It[t];return n||(n=A(t,e),"none"!==n&&n||(Ut=(Ut||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ut[0].contentDocument,e.write(),e.close(),n=A(t,e),Ut.detach()),It[t]=n),n}function M(t,e,n){var r,a,o,i,u=t.style;return n=n||Yt(t),n&&(i=n.getPropertyValue(e)||n[e]),n&&(""!==i||rt.contains(t.ownerDocument,t)||(i=rt.style(t,e)),Gt.test(i)&&Wt.test(e)&&(r=u.width,a=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=i,i=n.width,u.width=r,u.minWidth=a,u.maxWidth=o)),void 0!==i?i+"":i}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,a=Qt.length;a--;)if(e=Qt[a]+n,e in t)return e;return r}function _(t,e,n){var r=Xt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,a){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,i=0;4>o;o+=2)"margin"===n&&(i+=rt.css(t,n+Ct[o],!0,a)),r?("content"===n&&(i-=rt.css(t,"padding"+Ct[o],!0,a)),"margin"!==n&&(i-=rt.css(t,"border"+Ct[o]+"Width",!0,a))):(i+=rt.css(t,"padding"+Ct[o],!0,a),"padding"!==n&&(i+=rt.css(t,"border"+Ct[o]+"Width",!0,a)));return i}function D(t,e,n){var r=!0,a="width"===e?t.offsetWidth:t.offsetHeight,o=Yt(t),i="border-box"===rt.css(t,"boxSizing",!1,o);if(0>=a||null==a){if(a=M(t,e,o),(0>a||null==a)&&(a=t.style[e]),Gt.test(a))return a;r=i&&(tt.boxSizingReliable()||a===t.style[e]),a=parseFloat(a)||0}return a+S(t,e,n||(i?"border":"content"),r,o)+"px"}function T(t,e){for(var n,r,a,o=[],i=0,u=t.length;u>i;i++)r=t[i],r.style&&(o[i]=wt.get(r,"olddisplay"),n=r.style.display,e?(o[i]||"none"!==n||(r.style.display=""),""===r.style.display&&Et(r)&&(o[i]=wt.access(r,"olddisplay",F(r.nodeName)))):(a=Et(r),"none"===n&&a||wt.set(r,"olddisplay",a?n:rt.css(r,"display"))));for(i=0;u>i;i++)r=t[i],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[i]||"":"none"));return t}function N(t,e,n,r,a){return new N.prototype.init(t,e,n,r,a)}function R(){return setTimeout(function(){te=void 0}),te=rt.now()}function L(t,e){var n,r=0,a={height:t};for(e=e?1:0;4>r;r+=2-e)n=Ct[r],a["margin"+n]=a["padding"+n]=t;return e&&(a.opacity=a.width=t),a}function q(t,e,n){for(var r,a=(ie[e]||[]).concat(ie["*"]),o=0,i=a.length;i>o;o++)if(r=a[o].call(n,e,t))return r}function O(t,e,n){var r,a,o,i,u,s,l,c,f=this,d={},h=t.style,p=t.nodeType&&Et(t),g=wt.get(t,"fxshow");n.queue||(u=rt._queueHooks(t,"fx"),null==u.unqueued&&(u.unqueued=0,s=u.empty.fire,u.empty.fire=function(){u.unqueued||s()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,rt.queue(t,"fx").length||u.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=rt.css(t,"display"),c="none"===l?wt.get(t,"olddisplay")||F(t.nodeName):l,"inline"===c&&"none"===rt.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in e)if(a=e[r],ne.exec(a)){if(delete e[r],o=o||"toggle"===a,a===(p?"hide":"show")){if("show"!==a||!g||void 0===g[r])continue;p=!0}d[r]=g&&g[r]||rt.style(t,r)}else l=void 0;if(rt.isEmptyObject(d))"inline"===("none"===l?F(t.nodeName):l)&&(h.display=l);else{g?"hidden"in g&&(p=g.hidden):g=wt.access(t,"fxshow",{}),o&&(g.hidden=!p),p?rt(t).show():f.done(function(){rt(t).hide()}),f.done(function(){var e;wt.remove(t,"fxshow");for(e in d)rt.style(t,e,d[e])});for(r in d)i=q(p?g[r]:0,r,f),r in g||(g[r]=i.start,p&&(i.end=i.start,i.start="width"===r||"height"===r?1:0))}}function P(t,e){var n,r,a,o,i;for(n in t)if(r=rt.camelCase(n),a=e[r],o=t[n],rt.isArray(o)&&(a=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),i=rt.cssHooks[r],i&&"expand"in i){o=i.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=a)}else e[r]=a}function j(t,e,n){var r,a,o=0,i=oe.length,u=rt.Deferred().always(function(){delete s.elem}),s=function(){if(a)return!1;for(var e=te||R(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,i=0,s=l.tweens.length;s>i;i++)l.tweens[i].run(o);return u.notifyWith(t,[l,o,n]),1>o&&s?n:(u.resolveWith(t,[l]),!1)},l=u.promise({elem:t,props:rt.extend({},e),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:te||R(),duration:n.duration,tweens:[],createTween:function(e,n){var r=rt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(a)return this;for(a=!0;r>n;n++)l.tweens[n].run(1);return e?u.resolveWith(t,[l,e]):u.rejectWith(t,[l,e]),this}}),c=l.props;for(P(c,l.opts.specialEasing);i>o;o++)if(r=oe[o].call(l,t,c,l.opts))return r;return rt.map(c,q,l),rt.isFunction(l.opts.start)&&l.opts.start.call(t,l),rt.fx.timer(rt.extend(s,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,a=0,o=e.toLowerCase().match(vt)||[];if(rt.isFunction(n))for(;r=o[a++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function B(t,e,n,r){function a(u){var s;return o[u]=!0,rt.each(t[u]||[],function(t,u){var l=u(e,n,r);return"string"!=typeof l||i||o[l]?i?!(s=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),s}var o={},i=t===Ae;return a(e.dataTypes[0])||!o["*"]&&a("*")}function $(t,e){var n,r,a=rt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((a[n]?t:r||(r={}))[n]=e[n]);return r&&rt.extend(!0,t,r),t}function H(t,e,n){for(var r,a,o,i,u=t.contents,s=t.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(a in u)if(u[a]&&u[a].test(r)){s.unshift(a);break}if(s[0]in n)o=s[0];else{for(a in n){if(!s[0]||t.converters[a+" "+s[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==s[0]&&s.unshift(o),n[o]):void 0}function U(t,e,n,r){var a,o,i,u,s,l={},c=t.dataTypes.slice();if(c[1])for(i in t.converters)l[i.toLowerCase()]=t.converters[i];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!s&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s=o,o=c.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(i=l[s+" "+o]||l["* "+o],!i)for(a in l)if(u=a.split(" "),u[1]===o&&(i=l[s+" "+u[0]]||l["* "+u[0]])){i===!0?i=l[a]:l[a]!==!0&&(o=u[0],c.unshift(u[1]));break}if(i!==!0)if(i&&t["throws"])e=i(e);else try{e=i(e)}catch(f){return{state:"parsererror",error:i?f:"No conversion from "+s+" to "+o}}}return{state:"success",data:e}}function I(t,e,n,r){var a;if(rt.isArray(e))rt.each(e,function(e,a){n||_e.test(t)?r(t,a):I(t+"["+("object"==typeof a?e:"")+"]",a,n,r)});else if(n||"object"!==rt.type(e))r(t,e);else for(a in e)I(t+"["+a+"]",e[a],n,r)}function W(t){return rt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var G=[],Y=G.slice,V=G.concat,X=G.push,Z=G.indexOf,K={},J=K.toString,Q=K.hasOwnProperty,tt={},et=n.document,nt="2.1.4",rt=function(t,e){return new rt.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,it=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};rt.fn=rt.prototype={jquery:nt,constructor:rt,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Y.call(this)},pushStack:function(t){var e=rt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return rt.each(this,t,e)},map:function(t){return this.pushStack(rt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:G.sort,splice:G.splice},rt.extend=rt.fn.extend=function(){var t,e,n,r,a,o,i=arguments[0]||{},u=1,s=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[u]||{},u++),"object"==typeof i||rt.isFunction(i)||(i={}),u===s&&(i=this,u--);s>u;u++)if(null!=(t=arguments[u]))for(e in t)n=i[e],r=t[e],i!==r&&(l&&r&&(rt.isPlainObject(r)||(a=rt.isArray(r)))?(a?(a=!1,o=n&&rt.isArray(n)?n:[]):o=n&&rt.isPlainObject(n)?n:{},i[e]=rt.extend(l,o,r)):void 0!==r&&(i[e]=r));return i},rt.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===rt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!rt.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==rt.type(t)||t.nodeType||rt.isWindow(t)?!1:t.constructor&&!Q.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?K[J.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=rt.trim(t),t&&(1===t.indexOf("use strict")?(e=et.createElement("script"),e.text=t,et.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ot,"ms-").replace(it,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,a=0,o=t.length,u=i(t);if(n){if(u)for(;o>a&&(r=e.apply(t[a],n),r!==!1);a++);else for(a in t)if(r=e.apply(t[a],n),r===!1)break}else if(u)for(;o>a&&(r=e.call(t[a],a,t[a]),r!==!1);a++);else for(a in t)if(r=e.call(t[a],a,t[a]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?rt.merge(n,"string"==typeof t?[t]:t):X.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:Z.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,a=t.length;n>r;r++)t[a++]=e[r];return t.length=a,t},grep:function(t,e,n){for(var r,a=[],o=0,i=t.length,u=!n;i>o;o++)r=!e(t[o],o),r!==u&&a.push(t[o]);return a},map:function(t,e,n){var r,a=0,o=t.length,u=i(t),s=[];if(u)for(;o>a;a++)r=e(t[a],a,n),null!=r&&s.push(r);else for(a in t)r=e(t[a],a,n),null!=r&&s.push(r);return V.apply([],s)},guid:1,proxy:function(t,e){var n,r,a;return"string"==typeof e&&(n=t[e],e=t,t=n),rt.isFunction(t)?(r=Y.call(arguments,2),a=function(){return t.apply(e||this,r.concat(Y.call(arguments)))},a.guid=t.guid=t.guid||rt.guid++,a):void 0},now:Date.now,support:tt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){K["[object "+e+"]"]=e.toLowerCase()});var st=/*!
	 * Sizzle CSS Selector Engine v2.2.0-pre
	 * http://sizzlejs.com/
	 *
	 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2014-12-16
	 */
function(t){function e(t,e,n,r){var a,o,i,u,s,l,f,h,p,g;if((e?e.ownerDocument||e:B)!==N&&T(e),e=e||N,n=n||[],u=e.nodeType,"string"!=typeof t||!t||1!==u&&9!==u&&11!==u)return n;if(!r&&L){if(11!==u&&(a=yt.exec(t)))if(i=a[1]){if(9===u){if(o=e.getElementById(i),!o||!o.parentNode)return n;if(o.id===i)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(i))&&j(e,o)&&o.id===i)return n.push(o),n}else{if(a[2])return J.apply(n,e.getElementsByTagName(t)),n;if((i=a[3])&&w.getElementsByClassName)return J.apply(n,e.getElementsByClassName(i)),n}if(w.qsa&&(!q||!q.test(t))){if(h=f=z,p=e,g=1!==u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){for(l=M(t),(f=e.getAttribute("id"))?h=f.replace(xt,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",s=l.length;s--;)l[s]=h+d(l[s]);p=bt.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{f||e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[z]=!0,t}function a(t){var e=N.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)k.attrHandle[n[r]]=e}function i(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function u(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function s(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var a,o=t([],n.length,e),i=o.length;i--;)n[a=o[i]]&&(n[a]=!(r[a]=n[a]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function h(t,e,n){var r=e.dir,a=n&&"parentNode"===r,o=H++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,o)}:function(e,n,i){var u,s,l=[$,o];if(i){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,i))return!0}else for(;e=e[r];)if(1===e.nodeType||a){if(s=e[z]||(e[z]={}),(u=s[r])&&u[0]===$&&u[1]===o)return l[2]=u[2];if(s[r]=l,l[2]=t(e,n,i))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var a=t.length;a--;)if(!t[a](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var a=0,o=n.length;o>a;a++)e(t,n[a],r);return r}function m(t,e,n,r,a){for(var o,i=[],u=0,s=t.length,l=null!=e;s>u;u++)(o=t[u])&&(!n||n(o,r,a))&&(i.push(o),l&&e.push(u));return i}function v(t,e,n,a,o,i){return a&&!a[z]&&(a=v(a)),o&&!o[z]&&(o=v(o,i)),r(function(r,i,u,s){var l,c,f,d=[],h=[],p=i.length,v=r||g(e||"*",u.nodeType?[u]:u,[]),y=!t||!r&&e?v:m(v,d,t,u,s),b=n?o||(r?t:p||a)?[]:i:y;if(n&&n(y,b,u,s),a)for(l=m(b,h),a(l,[],u,s),c=l.length;c--;)(f=l[c])&&(b[h[c]]=!(y[h[c]]=f));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(y[c]=f);o(null,b=[],l,s)}for(c=b.length;c--;)(f=b[c])&&(l=o?tt(r,f):d[c])>-1&&(r[l]=!(i[l]=f))}}else b=m(b===i?b.splice(p,b.length):b),o?o(null,i,b,s):J.apply(i,b)})}function y(t){for(var e,n,r,a=t.length,o=k.relative[t[0].type],i=o||k.relative[" "],u=o?1:0,s=h(function(t){return t===e},i,!0),l=h(function(t){return tt(e,t)>-1},i,!0),c=[function(t,n,r){var a=!o&&(r||n!==_)||((e=n).nodeType?s(t,n,r):l(t,n,r));return e=null,a}];a>u;u++)if(n=k.relative[t[u].type])c=[h(p(c),n)];else{if(n=k.filter[t[u].type].apply(null,t[u].matches),n[z]){for(r=++u;a>r&&!k.relative[t[r].type];r++);return v(u>1&&p(c),u>1&&d(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(st,"$1"),n,r>u&&y(t.slice(u,r)),a>r&&y(t=t.slice(r)),a>r&&d(t))}c.push(n)}return p(c)}function b(t,n){var a=n.length>0,o=t.length>0,i=function(r,i,u,s,l){var c,f,d,h=0,p="0",g=r&&[],v=[],y=_,b=r||o&&k.find.TAG("*",l),x=$+=null==y?1:Math.random()||.1,w=b.length;for(l&&(_=i!==N&&i);p!==w&&null!=(c=b[p]);p++){if(o&&c){for(f=0;d=t[f++];)if(d(c,i,u)){s.push(c);break}l&&($=x)}a&&((c=!d&&c)&&h--,r&&g.push(c))}if(h+=p,a&&p!==h){for(f=0;d=n[f++];)d(g,v,i,u);if(r){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=Z.call(s));v=m(v)}J.apply(s,v),l&&!r&&v.length>0&&h+n.length>1&&e.uniqueSort(s)}return l&&($=x,_=y),g};return a?r(i):i}var x,w,k,A,F,M,C,E,_,S,D,T,N,R,L,q,O,P,j,z="sizzle"+1*new Date,B=t.document,$=0,H=0,U=n(),I=n(),W=n(),G=function(t,e){return t===e&&(D=!0),0},Y=1<<31,V={}.hasOwnProperty,X=[],Z=X.pop,K=X.push,J=X.push,Q=X.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+at+"))|)"+nt+"*\\]",it=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",ut=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ft=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(it),ht=new RegExp("^"+at+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),kt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},At=function(){T()};try{J.apply(X=Q.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(Ft){J={apply:X.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},F=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},T=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:B;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,R=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",At,!1):n.attachEvent&&n.attachEvent("onunload",At)),L=!F(r),w.attributes=a(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=a(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=a(function(t){return R.appendChild(t).id=z,!r.getElementsByName||!r.getElementsByName(z).length}),w.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],a=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[a++];)1===n.nodeType&&r.push(n);return r}return o},k.find.CLASS=w.getElementsByClassName&&function(t,e){return L?e.getElementsByClassName(t):void 0},O=[],q=[],(w.qsa=vt.test(r.querySelectorAll))&&(a(function(t){R.appendChild(t).innerHTML="<a id='"+z+"'></a><select id='"+z+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||q.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+z+"-]").length||q.push("~="),t.querySelectorAll(":checked").length||q.push(":checked"),t.querySelectorAll("a#"+z+"+*").length||q.push(".#.+[+~]")}),a(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&q.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),q.push(",.*:")})),(w.matchesSelector=vt.test(P=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&a(function(t){w.disconnectedMatch=P.call(t,"div"),P.call(t,"[s!='']:x"),O.push("!=",it)}),q=q.length&&new RegExp(q.join("|")),O=O.length&&new RegExp(O.join("|")),e=vt.test(R.compareDocumentPosition),j=e||vt.test(R.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===B&&j(B,t)?-1:e===r||e.ownerDocument===B&&j(B,e)?1:S?tt(S,t)-tt(S,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,a=0,o=t.parentNode,u=e.parentNode,s=[t],l=[e];if(!o||!u)return t===r?-1:e===r?1:o?-1:u?1:S?tt(S,t)-tt(S,e):0;if(o===u)return i(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[a]===l[a];)a++;return a?i(s[a],l[a]):s[a]===B?-1:l[a]===B?1:0},r):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&T(t),n=n.replace(ft,"='$1']"),w.matchesSelector&&L&&(!O||!O.test(n))&&(!q||!q.test(n)))try{var r=P.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(a){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&T(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&T(t);var n=k.attrHandle[e.toLowerCase()],r=n&&V.call(k.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==r?r:w.attributes||!L?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,a=0;if(D=!w.detectDuplicates,S=!w.sortStable&&t.slice(0),t.sort(G),D){for(;e=t[a++];)e===t[a]&&(r=n.push(a));for(;r--;)t.splice(n[r],1)}return S=null,t},A=e.getText=function(t){var e,n="",r=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=A(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[r++];)n+=A(e);return n},k=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,kt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,kt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=M(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,kt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(a){var o=e.attr(a,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ut," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,a){var o="nth"!==t.slice(0,3),i="last"!==t.slice(-4),u="of-type"===e;return 1===r&&0===a?function(t){return!!t.parentNode}:function(e,n,s){var l,c,f,d,h,p,g=o!==i?"nextSibling":"previousSibling",m=e.parentNode,v=u&&e.nodeName.toLowerCase(),y=!s&&!u;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[i?m.firstChild:m.lastChild],i&&y){for(c=m[z]||(m[z]={}),l=c[t]||[],h=l[0]===$&&l[1],d=l[0]===$&&l[2],f=h&&m.childNodes[h];f=++h&&f&&f[g]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===e){c[t]=[$,h,d];break}}else if(y&&(l=(e[z]||(e[z]={}))[t])&&l[0]===$)d=l[1];else for(;(f=++h&&f&&f[g]||(d=h=0)||p.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[z]||(f[z]={}))[t]=[$,d]),f!==e)););return d-=a,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(t,n){var a,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[z]?o(n):o.length>1?(a=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,a=o(t,n),i=a.length;i--;)r=tt(t,a[i]),t[r]=!(e[r]=a[i])}):function(t){return o(t,0,a)}):o}},pseudos:{not:r(function(t){var e=[],n=[],a=C(t.replace(st,"$1"));return a[z]?r(function(t,e,n,r){for(var o,i=a(t,null,r,[]),u=t.length;u--;)(o=i[u])&&(t[u]=!(e[u]=o))}):function(t,r,o){return e[0]=t,a(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(wt,kt),function(e){return(e.textContent||e.innerText||A(e)).indexOf(t)>-1}}),lang:r(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,kt).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},k.pseudos.nth=k.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=u(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=s(x);return f.prototype=k.filters=k.pseudos,k.setFilters=new f,M=e.tokenize=function(t,n){var r,a,o,i,u,s,l,c=I[t+" "];if(c)return n?0:c.slice(0);for(u=t,s=[],l=k.preFilter;u;){(!r||(a=lt.exec(u)))&&(a&&(u=u.slice(a[0].length)||u),s.push(o=[])),r=!1,(a=ct.exec(u))&&(r=a.shift(),o.push({value:r,type:a[0].replace(st," ")}),u=u.slice(r.length));for(i in k.filter)!(a=pt[i].exec(u))||l[i]&&!(a=l[i](a))||(r=a.shift(),o.push({value:r,type:i,matches:a}),u=u.slice(r.length));if(!r)break}return n?u.length:u?e.error(t):I(t,s).slice(0)},C=e.compile=function(t,e){var n,r=[],a=[],o=W[t+" "];if(!o){for(e||(e=M(t)),n=e.length;n--;)o=y(e[n]),o[z]?r.push(o):a.push(o);o=W(t,b(a,r)),o.selector=t}return o},E=e.select=function(t,e,n,r){var a,o,i,u,s,l="function"==typeof t&&t,f=!r&&M(t=l.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(i=o[0]).type&&w.getById&&9===e.nodeType&&L&&k.relative[o[1].type]){if(e=(k.find.ID(i.matches[0].replace(wt,kt),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(a=pt.needsContext.test(t)?0:o.length;a--&&(i=o[a],!k.relative[u=i.type]);)if((s=k.find[u])&&(r=s(i.matches[0].replace(wt,kt),bt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(a,1),t=r.length&&d(o),!t)return J.apply(n,r),n;break}}return(l||C(t,f))(r,e,!L,n,bt.test(t)&&c(e.parentNode)||e),n},w.sortStable=z.split("").sort(G).join("")===z,w.detectDuplicates=!!D,T(),w.sortDetached=a(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),a(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&a(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),a(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(n);rt.find=st,rt.expr=st.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=st.uniqueSort,rt.text=st.getText,rt.isXMLDoc=st.isXML,rt.contains=st.contains;var lt=rt.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;rt.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?rt.find.matchesSelector(r,t)?[r]:[]:rt.find.matches(t,rt.grep(e,function(t){return 1===t.nodeType}))},rt.fn.extend({find:function(t){var e,n=this.length,r=[],a=this;if("string"!=typeof t)return this.pushStack(rt(t).filter(function(){for(e=0;n>e;e++)if(rt.contains(a[e],this))return!0}));for(e=0;n>e;e++)rt.find(t,a[e],r);return r=this.pushStack(n>1?rt.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(u(this,t||[],!1))},not:function(t){return this.pushStack(u(this,t||[],!0))},is:function(t){return!!u(this,"string"==typeof t&&lt.test(t)?rt(t):t||[],!1).length}});var dt,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=rt.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ht.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||dt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof rt?e[0]:e,rt.merge(this,rt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),ct.test(n[1])&&rt.isPlainObject(e))for(n in e)rt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=et.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=et,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):rt.isFunction(t)?"undefined"!=typeof dt.ready?dt.ready(t):t(rt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),rt.makeArray(t,this))};pt.prototype=rt.fn,dt=rt(et);var gt=/^(?:parents|prev(?:Until|All))/,mt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(t,e,n){for(var r=[],a=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(a&&rt(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),rt.fn.extend({has:function(t){var e=rt(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(rt.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,a=this.length,o=[],i=lt.test(t)||"string"!=typeof t?rt(t,e||this.context):0;a>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(i?i.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(t){return t?"string"==typeof t?Z.call(rt(t),this[0]):Z.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(rt.unique(rt.merge(this.get(),rt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),rt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return rt.dir(t,"parentNode")},parentsUntil:function(t,e,n){return rt.dir(t,"parentNode",n)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return rt.dir(t,"nextSibling")},prevAll:function(t){return rt.dir(t,"previousSibling")},nextUntil:function(t,e,n){return rt.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return rt.dir(t,"previousSibling",n)},siblings:function(t){return rt.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return rt.sibling(t.firstChild)},contents:function(t){return t.contentDocument||rt.merge([],t.childNodes)}},function(t,e){rt.fn[t]=function(n,r){var a=rt.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(a=rt.filter(r,a)),this.length>1&&(mt[t]||rt.unique(a),gt.test(t)&&a.reverse()),this.pushStack(a)}});var vt=/\S+/g,yt={};rt.Callbacks=function(t){t="string"==typeof t?yt[t]||l(t):rt.extend({},t);var e,n,r,a,o,i,u=[],s=!t.once&&[],c=function(l){for(e=t.memory&&l,n=!0,i=a||0,a=0,o=u.length,r=!0;u&&o>i;i++)if(u[i].apply(l[0],l[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(s?s.length&&c(s.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function i(e){rt.each(e,function(e,n){var r=rt.type(n);"function"===r?t.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),r?o=u.length:e&&(a=n,c(e))}return this},remove:function(){return u&&rt.each(arguments,function(t,e){for(var n;(n=rt.inArray(e,u,n))>-1;)u.splice(n,1),r&&(o>=n&&o--,i>=n&&i--)}),this},has:function(t){return t?rt.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],o=0,this},disable:function(){return u=s=e=void 0,this},disabled:function(){return!u},lock:function(){return s=void 0,e||f.disable(),this},locked:function(){return!s},fireWith:function(t,e){return!u||n&&!s||(e=e||[],e=[t,e.slice?e.slice():e],r?s.push(e):c(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},rt.extend({Deferred:function(t){var e=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var t=arguments;return rt.Deferred(function(n){rt.each(e,function(e,o){var i=rt.isFunction(t[e])&&t[e];a[o[1]](function(){var t=i&&i.apply(this,arguments);t&&rt.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,i?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?rt.extend(t,r):r}},a={};return r.pipe=r.then,rt.each(e,function(t,o){var i=o[2],u=o[3];r[o[1]]=i.add,u&&i.add(function(){n=u},e[1^t][2].disable,e[2][2].lock),a[o[0]]=function(){return a[o[0]+"With"](this===a?r:this,arguments),this},a[o[0]+"With"]=i.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(t){var e,n,r,a=0,o=Y.call(arguments),i=o.length,u=1!==i||t&&rt.isFunction(t.promise)?i:0,s=1===u?t:rt.Deferred(),l=function(t,n,r){return function(a){n[t]=this,r[t]=arguments.length>1?Y.call(arguments):a,r===e?s.notifyWith(n,r):--u||s.resolveWith(n,r)}};if(i>1)for(e=new Array(i),n=new Array(i),r=new Array(i);i>a;a++)o[a]&&rt.isFunction(o[a].promise)?o[a].promise().done(l(a,r,o)).fail(s.reject).progress(l(a,n,e)):--u;return u||s.resolveWith(r,o),s.promise()}});var bt;rt.fn.ready=function(t){return rt.ready.promise().done(t),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?rt.readyWait++:rt.ready(!0)},ready:function(t){(t===!0?--rt.readyWait:rt.isReady)||(rt.isReady=!0,t!==!0&&--rt.readyWait>0||(bt.resolveWith(et,[rt]),rt.fn.triggerHandler&&(rt(et).triggerHandler("ready"),rt(et).off("ready"))))}}),rt.ready.promise=function(t){return bt||(bt=rt.Deferred(),"complete"===et.readyState?setTimeout(rt.ready):(et.addEventListener("DOMContentLoaded",c,!1),n.addEventListener("load",c,!1))),bt.promise(t)},rt.ready.promise();var xt=rt.access=function(t,e,n,r,a,o,i){var u=0,s=t.length,l=null==n;if("object"===rt.type(n)){a=!0;for(u in n)rt.access(t,e,u,n[u],!0,o,i)}else if(void 0!==r&&(a=!0,rt.isFunction(r)||(i=!0),l&&(i?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(rt(t),n)})),e))for(;s>u;u++)e(t[u],n,i?r:r.call(t[u],u,e(t[u],n)));return a?t:l?e.call(t):s?e(t[0],n):o};rt.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},f.uid=1,f.accepts=rt.acceptData,f.prototype={key:function(t){if(!f.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=f.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,rt.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,a=this.key(t),o=this.cache[a];if("string"==typeof e)o[e]=n;else if(rt.isEmptyObject(o))rt.extend(this.cache[a],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,rt.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,a,o=this.key(t),i=this.cache[o];if(void 0===e)this.cache[o]={};else{rt.isArray(e)?r=e.concat(e.map(rt.camelCase)):(a=rt.camelCase(e),e in i?r=[e,a]:(r=a,r=r in i?[r]:r.match(vt)||[])),n=r.length;for(;n--;)delete i[r[n]]}},hasData:function(t){return!rt.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var wt=new f,kt=new f,At=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/([A-Z])/g;rt.extend({hasData:function(t){return kt.hasData(t)||wt.hasData(t)},data:function(t,e,n){return kt.access(t,e,n)},removeData:function(t,e){kt.remove(t,e)},_data:function(t,e,n){return wt.access(t,e,n)},_removeData:function(t,e){wt.remove(t,e)}}),rt.fn.extend({data:function(t,e){var n,r,a,o=this[0],i=o&&o.attributes;if(void 0===t){if(this.length&&(a=kt.get(o),1===o.nodeType&&!wt.get(o,"hasDataAttrs"))){for(n=i.length;n--;)i[n]&&(r=i[n].name,0===r.indexOf("data-")&&(r=rt.camelCase(r.slice(5)),d(o,r,a[r])));wt.set(o,"hasDataAttrs",!0)}return a}return"object"==typeof t?this.each(function(){kt.set(this,t)}):xt(this,function(e){var n,r=rt.camelCase(t);if(o&&void 0===e){if(n=kt.get(o,t),void 0!==n)return n;if(n=kt.get(o,r),void 0!==n)return n;if(n=d(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=kt.get(this,r);kt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&kt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){kt.remove(this,t)})}}),rt.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=wt.get(t,e),n&&(!r||rt.isArray(n)?r=wt.access(t,e,rt.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=rt.queue(t,e),r=n.length,a=n.shift(),o=rt._queueHooks(t,e),i=function(){rt.dequeue(t,e)};"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===e&&n.unshift("inprogress"),delete o.stop,a.call(t,i,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return wt.get(t,n)||wt.access(t,n,{empty:rt.Callbacks("once memory").add(function(){wt.remove(t,[e+"queue",n])})})}}),rt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?rt.queue(this[0],t):void 0===e?this:this.each(function(){var n=rt.queue(this,t,e);rt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&rt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){rt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,a=rt.Deferred(),o=this,i=this.length,u=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";i--;)n=wt.get(o[i],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),a.promise(e)}});var Mt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],Et=function(t,e){return t=e||t,"none"===rt.css(t,"display")||!rt.contains(t.ownerDocument,t)},_t=/^(?:checkbox|radio)$/i;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),tt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",tt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var St="undefined";tt.focusinBubbles="onfocusin"in n;var Dt=/^key/,Tt=/^(?:mouse|pointer|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(t,e,n,r,a){var o,i,u,s,l,c,f,d,h,p,g,m=wt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,a=o.selector),n.guid||(n.guid=rt.guid++),(s=m.events)||(s=m.events={}),(i=m.handle)||(i=m.handle=function(e){return typeof rt!==St&&rt.event.triggered!==e.type?rt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(vt)||[""],l=e.length;l--;)u=Rt.exec(e[l])||[],h=g=u[1],p=(u[2]||"").split(".").sort(),h&&(f=rt.event.special[h]||{},h=(a?f.delegateType:f.bindType)||h,f=rt.event.special[h]||{},c=rt.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&rt.expr.match.needsContext.test(a),namespace:p.join(".")},o),(d=s[h])||(d=s[h]=[],d.delegateCount=0,f.setup&&f.setup.call(t,r,p,i)!==!1||t.addEventListener&&t.addEventListener(h,i,!1)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),a?d.splice(d.delegateCount++,0,c):d.push(c),rt.event.global[h]=!0)},remove:function(t,e,n,r,a){var o,i,u,s,l,c,f,d,h,p,g,m=wt.hasData(t)&&wt.get(t);if(m&&(s=m.events)){for(e=(e||"").match(vt)||[""],l=e.length;l--;)if(u=Rt.exec(e[l])||[],h=g=u[1],p=(u[2]||"").split(".").sort(),h){for(f=rt.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,d=s[h]||[],u=u[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=o=d.length;o--;)c=d[o],!a&&g!==c.origType||n&&n.guid!==c.guid||u&&!u.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(t,c));i&&!d.length&&(f.teardown&&f.teardown.call(t,p,m.handle)!==!1||rt.removeEvent(t,h,m.handle),delete s[h])}else for(h in s)rt.event.remove(t,h+e[l],n,r,!0);rt.isEmptyObject(s)&&(delete m.handle,wt.remove(t,"events"))}},trigger:function(t,e,r,a){var o,i,u,s,l,c,f,d=[r||et],h=Q.call(t,"type")?t.type:t,p=Q.call(t,"namespace")?t.namespace.split("."):[];if(i=u=r=r||et,3!==r.nodeType&&8!==r.nodeType&&!Nt.test(h+rt.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[rt.expando]?t:new rt.Event(h,"object"==typeof t&&t),
t.isTrigger=a?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:rt.makeArray(e,[t]),f=rt.event.special[h]||{},a||!f.trigger||f.trigger.apply(r,e)!==!1)){if(!a&&!f.noBubble&&!rt.isWindow(r)){for(s=f.delegateType||h,Nt.test(s+h)||(i=i.parentNode);i;i=i.parentNode)d.push(i),u=i;u===(r.ownerDocument||et)&&d.push(u.defaultView||u.parentWindow||n)}for(o=0;(i=d[o++])&&!t.isPropagationStopped();)t.type=o>1?s:f.bindType||h,c=(wt.get(i,"events")||{})[t.type]&&wt.get(i,"handle"),c&&c.apply(i,e),c=l&&i[l],c&&c.apply&&rt.acceptData(i)&&(t.result=c.apply(i,e),t.result===!1&&t.preventDefault());return t.type=h,a||t.isDefaultPrevented()||f._default&&f._default.apply(d.pop(),e)!==!1||!rt.acceptData(r)||l&&rt.isFunction(r[h])&&!rt.isWindow(r)&&(u=r[l],u&&(r[l]=null),rt.event.triggered=h,r[h](),rt.event.triggered=void 0,u&&(r[l]=u)),t.result}},dispatch:function(t){t=rt.event.fix(t);var e,n,r,a,o,i=[],u=Y.call(arguments),s=(wt.get(this,"events")||{})[t.type]||[],l=rt.event.special[t.type]||{};if(u[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(i=rt.event.handlers.call(this,t,s),e=0;(a=i[e++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((rt.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,u),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,a,o,i=[],u=e.delegateCount,s=t.target;if(u&&s.nodeType&&(!t.button||"click"!==t.type))for(;s!==this;s=s.parentNode||this)if(s.disabled!==!0||"click"!==t.type){for(r=[],n=0;u>n;n++)o=e[n],a=o.selector+" ",void 0===r[a]&&(r[a]=o.needsContext?rt(a,this).index(s)>=0:rt.find(a,this,null,[s]).length),r[a]&&r.push(o);r.length&&i.push({elem:s,handlers:r})}return u<e.length&&i.push({elem:this,handlers:e.slice(u)}),i},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,a,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||et,r=n.documentElement,a=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[rt.expando])return t;var e,n,r,a=t.type,o=t,i=this.fixHooks[a];for(i||(this.fixHooks[a]=i=Tt.test(a)?this.mouseHooks:Dt.test(a)?this.keyHooks:{}),r=i.props?this.props.concat(i.props):this.props,t=new rt.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=et),3===t.target.nodeType&&(t.target=t.target.parentNode),i.filter?i.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==g()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===g()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&rt.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return rt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var a=rt.extend(new rt.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?rt.event.trigger(a,null,e):rt.event.dispatch.call(e,a),a.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},rt.Event=function(t,e){return this instanceof rt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?h:p):this.type=t,e&&rt.extend(this,e),this.timeStamp=t&&t.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(t,e)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){rt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,a=t.relatedTarget,o=t.handleObj;return(!a||a!==r&&!rt.contains(r,a))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),tt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){rt.event.simulate(e,t.target,rt.event.fix(t),!0)};rt.event.special[e]={setup:function(){var r=this.ownerDocument||this,a=wt.access(r,e);a||r.addEventListener(t,n,!0),wt.access(r,e,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this,a=wt.access(r,e)-1;a?wt.access(r,e,a):(r.removeEventListener(t,n,!0),wt.remove(r,e))}}}),rt.fn.extend({on:function(t,e,n,r,a){var o,i;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(i in t)this.on(i,e,n,t[i],a);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=p;else if(!r)return this;return 1===a&&(o=r,r=function(t){return rt().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=rt.guid++)),this.each(function(){rt.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,a;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,rt(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(a in t)this.off(a,e,t[a]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){rt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?rt.event.trigger(t,e,n,!0):void 0}});var Lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Ot=/<|&#?\w+;/,Pt=/<(?:script|style|link)/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^$|\/(?:java|ecma)script/i,Bt=/^true\/(.*)/,$t=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ht={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ht.optgroup=Ht.option,Ht.tbody=Ht.tfoot=Ht.colgroup=Ht.caption=Ht.thead,Ht.th=Ht.td,rt.extend({clone:function(t,e,n){var r,a,o,i,u=t.cloneNode(!0),s=rt.contains(t.ownerDocument,t);if(!(tt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||rt.isXMLDoc(t)))for(i=w(u),o=w(t),r=0,a=o.length;a>r;r++)k(o[r],i[r]);if(e)if(n)for(o=o||w(t),i=i||w(u),r=0,a=o.length;a>r;r++)x(o[r],i[r]);else x(t,u);return i=w(u,"script"),i.length>0&&b(i,!s&&w(t,"script")),u},buildFragment:function(t,e,n,r){for(var a,o,i,u,s,l,c=e.createDocumentFragment(),f=[],d=0,h=t.length;h>d;d++)if(a=t[d],a||0===a)if("object"===rt.type(a))rt.merge(f,a.nodeType?[a]:a);else if(Ot.test(a)){for(o=o||c.appendChild(e.createElement("div")),i=(qt.exec(a)||["",""])[1].toLowerCase(),u=Ht[i]||Ht._default,o.innerHTML=u[1]+a.replace(Lt,"<$1></$2>")+u[2],l=u[0];l--;)o=o.lastChild;rt.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(e.createTextNode(a));for(c.textContent="",d=0;a=f[d++];)if((!r||-1===rt.inArray(a,r))&&(s=rt.contains(a.ownerDocument,a),o=w(c.appendChild(a),"script"),s&&b(o),n))for(l=0;a=o[l++];)zt.test(a.type||"")&&n.push(a);return c},cleanData:function(t){for(var e,n,r,a,o=rt.event.special,i=0;void 0!==(n=t[i]);i++){if(rt.acceptData(n)&&(a=n[wt.expando],a&&(e=wt.cache[a]))){if(e.events)for(r in e.events)o[r]?rt.event.remove(n,r):rt.removeEvent(n,r,e.handle);wt.cache[a]&&delete wt.cache[a]}delete kt.cache[n[kt.expando]]}}}),rt.fn.extend({text:function(t){return xt(this,function(t){return void 0===t?rt.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=m(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?rt.filter(t,this):this,a=0;null!=(n=r[a]);a++)e||1!==n.nodeType||rt.cleanData(w(n)),n.parentNode&&(e&&rt.contains(n.ownerDocument,n)&&b(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(rt.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return rt.clone(this,t,e)})},html:function(t){return xt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!Ht[(qt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Lt,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(rt.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(a){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,rt.cleanData(w(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=V.apply([],t);var n,r,a,o,i,u,s=0,l=this.length,c=this,f=l-1,d=t[0],h=rt.isFunction(d);if(h||l>1&&"string"==typeof d&&!tt.checkClone&&jt.test(d))return this.each(function(n){var r=c.eq(n);h&&(t[0]=d.call(this,n,r.html())),r.domManip(t,e)});if(l&&(n=rt.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(a=rt.map(w(n,"script"),v),o=a.length;l>s;s++)i=n,s!==f&&(i=rt.clone(i,!0,!0),o&&rt.merge(a,w(i,"script"))),e.call(this[s],i,s);if(o)for(u=a[a.length-1].ownerDocument,rt.map(a,y),s=0;o>s;s++)i=a[s],zt.test(i.type||"")&&!wt.access(i,"globalEval")&&rt.contains(u,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval(i.textContent.replace($t,"")))}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){rt.fn[t]=function(t){for(var n,r=[],a=rt(t),o=a.length-1,i=0;o>=i;i++)n=i===o?this:this.clone(!0),rt(a[i])[e](n),X.apply(r,n.get());return this.pushStack(r)}});var Ut,It={},Wt=/^margin/,Gt=new RegExp("^("+Mt+")(?!px)[a-z%]+$","i"),Yt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};!function(){function t(){i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i.innerHTML="",a.appendChild(o);var t=n.getComputedStyle(i,null);e="1%"!==t.top,r="4px"===t.width,a.removeChild(o)}var e,r,a=et.documentElement,o=et.createElement("div"),i=et.createElement("div");i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",tt.clearCloneStyle="content-box"===i.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(i),n.getComputedStyle&&rt.extend(tt,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,e=i.appendChild(et.createElement("div"));return e.style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",i.style.width="1px",a.appendChild(o),t=!parseFloat(n.getComputedStyle(e,null).marginRight),a.removeChild(o),i.removeChild(e),t}}))}(),rt.swap=function(t,e,n,r){var a,o,i={};for(o in e)i[o]=t.style[o],t.style[o]=e[o];a=n.apply(t,r||[]);for(o in e)t.style[o]=i[o];return a};var Vt=/^(none|table(?!-c[ea]).+)/,Xt=new RegExp("^("+Mt+")(.*)$","i"),Zt=new RegExp("^([+-])=("+Mt+")","i"),Kt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"},Qt=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=M(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,o,i,u=rt.camelCase(e),s=t.style;return e=rt.cssProps[u]||(rt.cssProps[u]=E(s,u)),i=rt.cssHooks[e]||rt.cssHooks[u],void 0===n?i&&"get"in i&&void 0!==(a=i.get(t,!1,r))?a:s[e]:(o=typeof n,"string"===o&&(a=Zt.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(rt.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[u]||(n+="px"),tt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(s[e]="inherit"),i&&"set"in i&&void 0===(n=i.set(t,n,r))||(s[e]=n)),void 0)}},css:function(t,e,n,r){var a,o,i,u=rt.camelCase(e);return e=rt.cssProps[u]||(rt.cssProps[u]=E(t.style,u)),i=rt.cssHooks[e]||rt.cssHooks[u],i&&"get"in i&&(a=i.get(t,!0,n)),void 0===a&&(a=M(t,e,r)),"normal"===a&&e in Jt&&(a=Jt[e]),""===n||n?(o=parseFloat(a),n===!0||rt.isNumeric(o)?o||0:a):a}}),rt.each(["height","width"],function(t,e){rt.cssHooks[e]={get:function(t,n,r){return n?Vt.test(rt.css(t,"display"))&&0===t.offsetWidth?rt.swap(t,Kt,function(){return D(t,e,r)}):D(t,e,r):void 0},set:function(t,n,r){var a=r&&Yt(t);return _(t,n,r?S(t,e,r,"border-box"===rt.css(t,"boxSizing",!1,a),a):0)}}}),rt.cssHooks.marginRight=C(tt.reliableMarginRight,function(t,e){return e?rt.swap(t,{display:"inline-block"},M,[t,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(t,e){rt.cssHooks[t+e]={expand:function(n){for(var r=0,a={},o="string"==typeof n?n.split(" "):[n];4>r;r++)a[t+Ct[r]+e]=o[r]||o[r-2]||o[0];return a}},Wt.test(t)||(rt.cssHooks[t+e].set=_)}),rt.fn.extend({css:function(t,e){return xt(this,function(t,e,n){var r,a,o={},i=0;if(rt.isArray(e)){for(r=Yt(t),a=e.length;a>i;i++)o[e[i]]=rt.css(t,e[i],!1,r);return o}return void 0!==n?rt.style(t,e,n):rt.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Et(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=N,N.prototype={constructor:N,init:function(t,e,n,r,a,o){this.elem=t,this.prop=n,this.easing=a||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=rt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=rt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){rt.fx.step[t.prop]?rt.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[rt.cssProps[t.prop]]||rt.cssHooks[t.prop])?rt.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},rt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},rt.fx=N.prototype.init,rt.fx.step={};var te,ee,ne=/^(?:toggle|show|hide)$/,re=new RegExp("^(?:([+-])=|)("+Mt+")([a-z%]*)$","i"),ae=/queueHooks$/,oe=[O],ie={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),a=re.exec(e),o=a&&a[3]||(rt.cssNumber[t]?"":"px"),i=(rt.cssNumber[t]||"px"!==o&&+r)&&re.exec(rt.css(n.elem,t)),u=1,s=20;if(i&&i[3]!==o){o=o||i[3],a=a||[],i=+r||1;do u=u||".5",i/=u,rt.style(n.elem,t,i+o);while(u!==(u=n.cur()/r)&&1!==u&&--s)}return a&&(i=n.start=+i||+r||0,n.unit=o,n.end=a[1]?i+(a[1]+1)*a[2]:+a[2]),n}]};rt.Animation=rt.extend(j,{tweener:function(t,e){rt.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,a=t.length;a>r;r++)n=t[r],ie[n]=ie[n]||[],ie[n].unshift(e)},prefilter:function(t,e){e?oe.unshift(t):oe.push(t)}}),rt.speed=function(t,e,n){var r=t&&"object"==typeof t?rt.extend({},t):{complete:n||!n&&e||rt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!rt.isFunction(e)&&e};return r.duration=rt.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in rt.fx.speeds?rt.fx.speeds[r.duration]:rt.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){rt.isFunction(r.old)&&r.old.call(this),r.queue&&rt.dequeue(this,r.queue)},r},rt.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Et).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var a=rt.isEmptyObject(t),o=rt.speed(e,n,r),i=function(){var e=j(this,rt.extend({},t),o);(a||wt.get(this,"finish"))&&e.stop(!0)};return i.finish=i,a||o.queue===!1?this.each(i):this.queue(o.queue,i)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,a=null!=t&&t+"queueHooks",o=rt.timers,i=wt.get(this);if(a)i[a]&&i[a].stop&&r(i[a]);else for(a in i)i[a]&&i[a].stop&&ae.test(a)&&r(i[a]);for(a=o.length;a--;)o[a].elem!==this||null!=t&&o[a].queue!==t||(o[a].anim.stop(n),e=!1,o.splice(a,1));(e||!n)&&rt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=wt.get(this),r=n[t+"queue"],a=n[t+"queueHooks"],o=rt.timers,i=r?r.length:0;for(n.finish=!0,rt.queue(this,t,[]),a&&a.stop&&a.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;i>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(t,e){var n=rt.fn[e];rt.fn[e]=function(t,r,a){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,r,a)}}),rt.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){rt.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),rt.timers=[],rt.fx.tick=function(){var t,e=0,n=rt.timers;for(te=rt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||rt.fx.stop(),te=void 0},rt.fx.timer=function(t){rt.timers.push(t),t()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){ee||(ee=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(ee),ee=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(t,e){return t=rt.fx?rt.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",tt.checkOn=""!==t.value,tt.optSelected=n.selected,e.disabled=!0,tt.optDisabled=!n.disabled,t=et.createElement("input"),t.value="t",t.type="radio",tt.radioValue="t"===t.value}();var ue,se,le=rt.expr.attrHandle;rt.fn.extend({attr:function(t,e){return xt(this,rt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){rt.removeAttr(this,t)})}}),rt.extend({attr:function(t,e,n){var r,a,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===St?rt.prop(t,e,n):(1===o&&rt.isXMLDoc(t)||(e=e.toLowerCase(),r=rt.attrHooks[e]||(rt.expr.match.bool.test(e)?se:ue)),void 0===n?r&&"get"in r&&null!==(a=r.get(t,e))?a:(a=rt.find.attr(t,e),null==a?void 0:a):null!==n?r&&"set"in r&&void 0!==(a=r.set(t,n,e))?a:(t.setAttribute(e,n+""),n):void rt.removeAttr(t,e))},removeAttr:function(t,e){var n,r,a=0,o=e&&e.match(vt);if(o&&1===t.nodeType)for(;n=o[a++];)r=rt.propFix[n]||n,rt.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!tt.radioValue&&"radio"===e&&rt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),se={set:function(t,e,n){return e===!1?rt.removeAttr(t,n):t.setAttribute(n,n),n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=le[e]||rt.find.attr;le[e]=function(t,e,r){var a,o;return r||(o=le[e],le[e]=a,a=null!=n(t,e,r)?e.toLowerCase():null,le[e]=o),a}});var ce=/^(?:input|select|textarea|button)$/i;rt.fn.extend({prop:function(t,e){return xt(this,rt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[rt.propFix[t]||t]})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,a,o,i=t.nodeType;if(t&&3!==i&&8!==i&&2!==i)return o=1!==i||!rt.isXMLDoc(t),o&&(e=rt.propFix[e]||e,a=rt.propHooks[e]),void 0!==n?a&&"set"in a&&void 0!==(r=a.set(t,n,e))?r:t[e]=n:a&&"get"in a&&null!==(r=a.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ce.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),tt.optSelected||(rt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this});var fe=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(t){var e,n,r,a,o,i,u="string"==typeof t&&t,s=0,l=this.length;if(rt.isFunction(t))return this.each(function(e){rt(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(vt)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(fe," "):" ")){for(o=0;a=e[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");i=rt.trim(r),n.className!==i&&(n.className=i)}return this},removeClass:function(t){var e,n,r,a,o,i,u=0===arguments.length||"string"==typeof t&&t,s=0,l=this.length;if(rt.isFunction(t))return this.each(function(e){rt(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(vt)||[];l>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(fe," "):"")){for(o=0;a=e[o++];)for(;r.indexOf(" "+a+" ")>=0;)r=r.replace(" "+a+" "," ");i=t?rt.trim(r):"",n.className!==i&&(n.className=i)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):rt.isFunction(t)?this.each(function(n){rt(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,a=rt(this),o=t.match(vt)||[];e=o[r++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else(n===St||"boolean"===n)&&(this.className&&wt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":wt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(fe," ").indexOf(e)>=0)return!0;return!1}});var de=/\r/g;rt.fn.extend({val:function(t){var e,n,r,a=this[0];{if(arguments.length)return r=rt.isFunction(t),this.each(function(n){var a;1===this.nodeType&&(a=r?t.call(this,n,rt(this).val()):t,null==a?a="":"number"==typeof a?a+="":rt.isArray(a)&&(a=rt.map(a,function(t){return null==t?"":t+""})),e=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,a,"value")||(this.value=a))});if(a)return e=rt.valHooks[a.type]||rt.valHooks[a.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(a,"value"))?n:(n=a.value,"string"==typeof n?n.replace(de,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(t){var e=rt.find.attr(t,"value");return null!=e?e:rt.trim(rt.text(t))}},select:{get:function(t){for(var e,n,r=t.options,a=t.selectedIndex,o="select-one"===t.type||0>a,i=o?null:[],u=o?a+1:r.length,s=0>a?u:o?a:0;u>s;s++)if(n=r[s],(n.selected||s===a)&&(tt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!rt.nodeName(n.parentNode,"optgroup"))){if(e=rt(n).val(),o)return e;i.push(e)}return i},set:function(t,e){for(var n,r,a=t.options,o=rt.makeArray(e),i=a.length;i--;)r=a[i],(r.selected=rt.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(t,e){return rt.isArray(e)?t.checked=rt.inArray(rt(t).val(),e)>=0:void 0}},tt.checkOn||(rt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){rt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),rt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var he=rt.now(),pe=/\?/;rt.parseJSON=function(t){return JSON.parse(t+"")},rt.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&rt.error("Invalid XML: "+t),e};var ge=/#.*$/,me=/([?&])_=[^&]*/,ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,ye=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,be=/^(?:GET|HEAD)$/,xe=/^\/\//,we=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ke={},Ae={},Fe="*/".concat("*"),Me=n.location.href,Ce=we.exec(Me.toLowerCase())||[];rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me,type:"GET",isLocal:ye.test(Ce[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,rt.ajaxSettings),e):$(rt.ajaxSettings,t)},ajaxPrefilter:z(ke),ajaxTransport:z(Ae),ajax:function(t,e){function n(t,e,n,i){var s,c,v,y,x,k=e;2!==b&&(b=2,u&&clearTimeout(u),r=void 0,o=i||"",w.readyState=t>0?4:0,s=t>=200&&300>t||304===t,n&&(y=H(f,w,n)),y=U(f,y,w,s),s?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(rt.lastModified[a]=x),x=w.getResponseHeader("etag"),x&&(rt.etag[a]=x)),204===t||"HEAD"===f.type?k="nocontent":304===t?k="notmodified":(k=y.state,c=y.data,v=y.error,s=!v)):(v=k,(t||!k)&&(k="error",0>t&&(t=0))),w.status=t,w.statusText=(e||k)+"",s?p.resolveWith(d,[c,k,w]):p.rejectWith(d,[w,k,v]),w.statusCode(m),m=void 0,l&&h.trigger(s?"ajaxSuccess":"ajaxError",[w,f,s?c:v]),g.fireWith(d,[w,k]),l&&(h.trigger("ajaxComplete",[w,f]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,a,o,i,u,s,l,c,f=rt.ajaxSetup({},e),d=f.context||f,h=f.context&&(d.nodeType||d.jquery)?rt(d):rt.event,p=rt.Deferred(),g=rt.Callbacks("once memory"),m=f.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!i)for(i={};e=ve.exec(o);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),n(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||Me)+"").replace(ge,"").replace(xe,Ce[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=rt.trim(f.dataType||"*").toLowerCase().match(vt)||[""],null==f.crossDomain&&(s=we.exec(f.url.toLowerCase()),f.crossDomain=!(!s||s[1]===Ce[1]&&s[2]===Ce[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(Ce[3]||("http:"===Ce[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=rt.param(f.data,f.traditional)),B(ke,f,e,w),2===b)return w;l=rt.event&&f.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!be.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(pe.test(a)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=me.test(a)?a.replace(me,"$1_="+he++):a+(pe.test(a)?"&":"?")+"_="+he++)),f.ifModified&&(rt.lastModified[a]&&w.setRequestHeader("If-Modified-Since",rt.lastModified[a]),rt.etag[a]&&w.setRequestHeader("If-None-Match",rt.etag[a])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Fe+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(d,w,f)===!1||2===b))return w.abort();x="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=B(Ae,f,e,w)){w.readyState=1,l&&h.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(u=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,r.send(v,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return rt.get(t,e,n,"json")},getScript:function(t,e){return rt.get(t,void 0,e,"script")}}),rt.each(["get","post"],function(t,e){rt[e]=function(t,n,r,a){return rt.isFunction(n)&&(a=a||r,r=n,n=void 0),rt.ajax({url:t,type:e,dataType:a,data:n,success:r})}}),rt._evalUrl=function(t){return rt.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(t){var e;return rt.isFunction(t)?this.each(function(e){rt(this).wrapAll(t.call(this,e))}):(this[0]&&(e=rt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return rt.isFunction(t)?this.each(function(e){rt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=rt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=rt.isFunction(t);return this.each(function(n){rt(this).wrapAll(e?t.call(this,n):t);
})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},rt.expr.filters.visible=function(t){return!rt.expr.filters.hidden(t)};var Ee=/%20/g,_e=/\[\]$/,Se=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;rt.param=function(t,e){var n,r=[],a=function(t,e){e=rt.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(t)||t.jquery&&!rt.isPlainObject(t))rt.each(t,function(){a(this.name,this.value)});else for(n in t)I(n,t[n],e,a);return r.join("&").replace(Ee,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=rt.prop(this,"elements");return t?rt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!rt(this).is(":disabled")&&Te.test(this.nodeName)&&!De.test(t)&&(this.checked||!_t.test(t))}).map(function(t,e){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ne=0,Re={},Le={0:200,1223:204},qe=rt.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var t in Re)Re[t]()}),tt.cors=!!qe&&"withCredentials"in qe,tt.ajax=qe=!!qe,rt.ajaxTransport(function(t){var e;return tt.cors||qe&&!t.crossDomain?{send:function(n,r){var a,o=t.xhr(),i=++Ne;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)o[a]=t.xhrFields[a];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(a in n)o.setRequestHeader(a,n[a]);e=function(t){return function(){e&&(delete Re[i],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Le[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Re[i]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}:void 0}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return rt.globalEval(t),t}}}),rt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),rt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,a){e=rt("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&a("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Oe=[],Pe=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Oe.pop()||rt.expando+"_"+he++;return this[t]=!0,t}}),rt.ajaxPrefilter("json jsonp",function(t,e,r){var a,o,i,u=t.jsonp!==!1&&(Pe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(a=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(Pe,"$1"+a):t.jsonp!==!1&&(t.url+=(pe.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return i||rt.error(a+" was not called"),i[0]},t.dataTypes[0]="json",o=n[a],n[a]=function(){i=arguments},r.always(function(){n[a]=o,t[a]&&(t.jsonpCallback=e.jsonpCallback,Oe.push(a)),i&&rt.isFunction(o)&&o(i[0]),i=o=void 0}),"script"):void 0}),rt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||et;var r=ct.exec(t),a=!n&&[];return r?[e.createElement(r[1])]:(r=rt.buildFragment([t],e,a),a&&a.length&&rt(a).remove(),rt.merge([],r.childNodes))};var je=rt.fn.load;rt.fn.load=function(t,e,n){if("string"!=typeof t&&je)return je.apply(this,arguments);var r,a,o,i=this,u=t.indexOf(" ");return u>=0&&(r=rt.trim(t.slice(u)),t=t.slice(0,u)),rt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(a="POST"),i.length>0&&rt.ajax({url:t,type:a,dataType:"html",data:e}).done(function(t){o=arguments,i.html(r?rt("<div>").append(rt.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){i.each(n,o||[t.responseText,e,t])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){rt.fn[e]=function(t){return this.on(e,t)}}),rt.expr.filters.animated=function(t){return rt.grep(rt.timers,function(e){return t===e.elem}).length};var ze=n.document.documentElement;rt.offset={setOffset:function(t,e,n){var r,a,o,i,u,s,l,c=rt.css(t,"position"),f=rt(t),d={};"static"===c&&(t.style.position="relative"),u=f.offset(),o=rt.css(t,"top"),s=rt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+s).indexOf("auto")>-1,l?(r=f.position(),i=r.top,a=r.left):(i=parseFloat(o)||0,a=parseFloat(s)||0),rt.isFunction(e)&&(e=e.call(t,n,u)),null!=e.top&&(d.top=e.top-u.top+i),null!=e.left&&(d.left=e.left-u.left+a),"using"in e?e.using.call(t,d):f.css(d)}},rt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){rt.offset.setOffset(this,t,e)});var e,n,r=this[0],a={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,rt.contains(e,r)?(typeof r.getBoundingClientRect!==St&&(a=r.getBoundingClientRect()),n=W(o),{top:a.top+n.pageYOffset-e.clientTop,left:a.left+n.pageXOffset-e.clientLeft}):a},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===rt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),rt.nodeName(t[0],"html")||(r=t.offset()),r.top+=rt.css(t[0],"borderTopWidth",!0),r.left+=rt.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-rt.css(n,"marginTop",!0),left:e.left-r.left-rt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||ze;t&&!rt.nodeName(t,"html")&&"static"===rt.css(t,"position");)t=t.offsetParent;return t||ze})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r="pageYOffset"===e;rt.fn[t]=function(a){return xt(this,function(t,a,o){var i=W(t);return void 0===o?i?i[e]:t[a]:void(i?i.scrollTo(r?n.pageXOffset:o,r?o:n.pageYOffset):t[a]=o)},t,a,arguments.length,null)}}),rt.each(["top","left"],function(t,e){rt.cssHooks[e]=C(tt.pixelPosition,function(t,n){return n?(n=M(t,e),Gt.test(n)?rt(t).position()[e]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(t,e){rt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){rt.fn[r]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),i=n||(r===!0||a===!0?"margin":"border");return xt(this,function(e,n,r){var a;return rt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===r?rt.css(e,n,i):rt.style(e,n,r,i)},e,o?r:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,r=[],a=function(){return rt}.apply(e,r),!(void 0!==a&&(t.exports=a));var Be=n.jQuery,$e=n.$;return rt.noConflict=function(t){return n.$===rt&&(n.$=$e),t&&n.jQuery===rt&&(n.jQuery=Be),rt},typeof o===St&&(n.jQuery=n.$=rt),rt})},function(t,e,n){function r(t){return n(a(t))}function a(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./src/javascripts/audio-dash":30};r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=6},function(t,e,n){function r(t){return n(a(t))}function a(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./src/javascripts/dynatable-component":31};r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=7},function(t,e,n){function r(t){return n(a(t))}function a(t){return o[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var o={"./src/javascripts/filter-builder":32};r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id=8},function(t,e,n){var r=n(2),a=n(5),o="./src/javascripts/",i={filterBuilder:n(8)(o+"filter-builder"),dynatableComponent:n(7)(o+"dynatable-component"),audioDash:n(6)(o+"audio-dash")};a.extend(r,i),t.exports=r},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,"div.dc-chart{float:left}.dc-chart rect.bar{stroke:none;cursor:pointer}.dc-chart rect.bar:hover{fill-opacity:.5}.dc-chart rect.stack1{stroke:none;fill:red}.dc-chart rect.stack2{stroke:none;fill:green}.dc-chart rect.deselected{stroke:none;fill:#ccc}.dc-chart .empty-chart .pie-slice path{fill:#fee;cursor:default}.dc-chart .empty-chart .pie-slice{cursor:default}.dc-chart .pie-slice{fill:#fff;font-size:9pt;cursor:pointer}.dc-chart .pie-slice.external{fill:#000}.dc-chart .pie-slice :hover,.dc-chart .pie-slice.highlight{fill-opacity:.8}.dc-chart .selected path{stroke-width:3;stroke:#ccc;fill-opacity:1}.dc-chart .deselected path{stroke:none;fill-opacity:.5;fill:#ccc}.axis line,.dc-chart .axis path{fill:none;stroke:#000;shape-rendering:crispEdges}.dc-chart .axis text{font:10px sans-serif}.dc-chart .grid-line,.dc-chart .grid-line line{fill:none;stroke:#ccc;opacity:.5;shape-rendering:crispEdges}.dc-chart .brush rect.background{z-index:-999}.dc-chart .brush rect.extent{fill:#4682b4;fill-opacity:.125}.dc-chart .brush .resize path{fill:#eee;stroke:#666}.dc-chart path.line{fill:none;stroke-width:1.5px}.dc-chart circle.dot{stroke:none}.dc-chart g.dc-tooltip path{fill:none;stroke:grey;stroke-opacity:.8}.dc-chart path.area{fill-opacity:.3;stroke:none}.dc-chart .node{font-size:.7em;cursor:pointer}.dc-chart .node :hover{fill-opacity:.8}.dc-chart .selected circle{stroke-width:3;stroke:#ccc;fill-opacity:1}.dc-chart .deselected circle{stroke:none;fill-opacity:.5;fill:#ccc}.dc-chart .bubble{stroke:none;fill-opacity:.6}.dc-data-count{float:right;margin-top:15px;margin-right:15px}.dc-data-count .filter-count,.dc-data-count .total-count{color:#3182bd;font-weight:700}.dc-chart g.state{cursor:pointer}.dc-chart g.state :hover{fill-opacity:.8}.dc-chart g.state path{stroke:#fff}.dc-chart g.deselected path{fill:grey}.dc-chart g.deselected text{display:none}.dc-chart g.county path{stroke:#fff;fill:none}.dc-chart g.debug rect{fill:blue;fill-opacity:.2}.dc-chart g.row rect{fill-opacity:.8;cursor:pointer}.dc-chart g.row rect:hover{fill-opacity:.6}.dc-chart g.row text{fill:#fff;font-size:9pt;cursor:pointer}.dc-legend{font-size:11px}.dc-legend-item{cursor:pointer}.dc-chart g.axis text{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.dc-chart path.highlight{stroke-width:3}.dc-chart .highlight,.dc-chart path.highlight{fill-opacity:1;stroke-opacity:1}.dc-chart .fadeout{fill-opacity:.2;stroke-opacity:.2}.dc-chart path.dc-symbol,g.dc-legend-item.fadeout{fill-opacity:.5;stroke-opacity:.5}.dc-hard .number-display{float:none}.dc-chart .box text{font:10px sans-serif;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.dc-chart .box circle,.dc-chart .box line{fill:#fff;stroke:#000;stroke-width:1.5px}.dc-chart .box rect{stroke:#000;stroke-width:1.5px}.dc-chart .box .center{stroke-dasharray:3,3}.dc-chart .box .outlier{fill:none;stroke:#ccc}.dc-chart .box.deselected .box{fill:#ccc}.dc-chart .box.deselected{opacity:.5}.dc-chart .symbol{stroke:none}.dc-chart .heatmap .box-group.deselected rect{stroke:none;fill-opacity:.5;fill:#ccc}.dc-chart .heatmap g.axis text{pointer-events:all;cursor:pointer}.dc-arc-gauge-background{fill:#9be8d4}.dc-arc-gauge-foreground{fill:#04adb0}.dc-sankey g.node.Central rect{stroke:blue}.dc-bar-gauge-background{fill:#04adb0;opacity:.7}.dc-bar-gauge-foreground{fill:#9be8d4;opacity:.7}.axis line,.dc-bar-gauge .axis path{fill:none;stroke:#000;shape-rendering:crispEdges;opacity:.5}.dc-bar-gauge .axis text{font:10px sans-serif}.dc-bar-gauge .grid-line{fill:none;stroke:#ccc;opacity:.5;shape-rendering:crispEdges}.dc-bar-gauge .marker-line{fill:none;stroke:#000;opacity:1;shape-rendering:crispEdges}.dc-bar-gauge .marker-rect{fill:green}.dc-zoom-button{background-color:#fff;color:#555;cursor:pointer;width:20px;font-size:10px;text-align:center;border:1px solid #ccc;border-radius:4px}.dc-zoom-button div{font-size:14px;text-align:center;font-weight:700}.dc-zoom-button .in{border-bottom:1px solid #ccc}.dc-zoom-reset{background-color:#fff;font-size:10px;cursor:pointer;width:60px;text-align:center;border:1px solid #ccc;border-radius:4px}",""])},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,"/*!\n *  Font Awesome 4.4.0 by @davegandy - http://fontawesome.io - @fontawesome\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\n */@font-face{font-family:FontAwesome;src:url("+n(19)+");src:url("+n(18)+"?#iefix&v=4.4.0) format('embedded-opentype'),url("+n(25)+") format('woff2'),url("+n(26)+") format('woff'),url("+n(27)+") format('truetype'),url("+n(28)+'#fontawesomeregular) format(\'svg\');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left{margin-right:.3em}.fa.fa-pull-right{margin-left:.3em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0,mirror=1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2,mirror=1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\\F000"}.fa-music:before{content:"\\F001"}.fa-search:before{content:"\\F002"}.fa-envelope-o:before{content:"\\F003"}.fa-heart:before{content:"\\F004"}.fa-star:before{content:"\\F005"}.fa-star-o:before{content:"\\F006"}.fa-user:before{content:"\\F007"}.fa-film:before{content:"\\F008"}.fa-th-large:before{content:"\\F009"}.fa-th:before{content:"\\F00A"}.fa-th-list:before{content:"\\F00B"}.fa-check:before{content:"\\F00C"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\\F00D"}.fa-search-plus:before{content:"\\F00E"}.fa-search-minus:before{content:"\\F010"}.fa-power-off:before{content:"\\F011"}.fa-signal:before{content:"\\F012"}.fa-cog:before,.fa-gear:before{content:"\\F013"}.fa-trash-o:before{content:"\\F014"}.fa-home:before{content:"\\F015"}.fa-file-o:before{content:"\\F016"}.fa-clock-o:before{content:"\\F017"}.fa-road:before{content:"\\F018"}.fa-download:before{content:"\\F019"}.fa-arrow-circle-o-down:before{content:"\\F01A"}.fa-arrow-circle-o-up:before{content:"\\F01B"}.fa-inbox:before{content:"\\F01C"}.fa-play-circle-o:before{content:"\\F01D"}.fa-repeat:before,.fa-rotate-right:before{content:"\\F01E"}.fa-refresh:before{content:"\\F021"}.fa-list-alt:before{content:"\\F022"}.fa-lock:before{content:"\\F023"}.fa-flag:before{content:"\\F024"}.fa-headphones:before{content:"\\F025"}.fa-volume-off:before{content:"\\F026"}.fa-volume-down:before{content:"\\F027"}.fa-volume-up:before{content:"\\F028"}.fa-qrcode:before{content:"\\F029"}.fa-barcode:before{content:"\\F02A"}.fa-tag:before{content:"\\F02B"}.fa-tags:before{content:"\\F02C"}.fa-book:before{content:"\\F02D"}.fa-bookmark:before{content:"\\F02E"}.fa-print:before{content:"\\F02F"}.fa-camera:before{content:"\\F030"}.fa-font:before{content:"\\F031"}.fa-bold:before{content:"\\F032"}.fa-italic:before{content:"\\F033"}.fa-text-height:before{content:"\\F034"}.fa-text-width:before{content:"\\F035"}.fa-align-left:before{content:"\\F036"}.fa-align-center:before{content:"\\F037"}.fa-align-right:before{content:"\\F038"}.fa-align-justify:before{content:"\\F039"}.fa-list:before{content:"\\F03A"}.fa-dedent:before,.fa-outdent:before{content:"\\F03B"}.fa-indent:before{content:"\\F03C"}.fa-video-camera:before{content:"\\F03D"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\\F03E"}.fa-pencil:before{content:"\\F040"}.fa-map-marker:before{content:"\\F041"}.fa-adjust:before{content:"\\F042"}.fa-tint:before{content:"\\F043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\\F044"}.fa-share-square-o:before{content:"\\F045"}.fa-check-square-o:before{content:"\\F046"}.fa-arrows:before{content:"\\F047"}.fa-step-backward:before{content:"\\F048"}.fa-fast-backward:before{content:"\\F049"}.fa-backward:before{content:"\\F04A"}.fa-play:before{content:"\\F04B"}.fa-pause:before{content:"\\F04C"}.fa-stop:before{content:"\\F04D"}.fa-forward:before{content:"\\F04E"}.fa-fast-forward:before{content:"\\F050"}.fa-step-forward:before{content:"\\F051"}.fa-eject:before{content:"\\F052"}.fa-chevron-left:before{content:"\\F053"}.fa-chevron-right:before{content:"\\F054"}.fa-plus-circle:before{content:"\\F055"}.fa-minus-circle:before{content:"\\F056"}.fa-times-circle:before{content:"\\F057"}.fa-check-circle:before{content:"\\F058"}.fa-question-circle:before{content:"\\F059"}.fa-info-circle:before{content:"\\F05A"}.fa-crosshairs:before{content:"\\F05B"}.fa-times-circle-o:before{content:"\\F05C"}.fa-check-circle-o:before{content:"\\F05D"}.fa-ban:before{content:"\\F05E"}.fa-arrow-left:before{content:"\\F060"}.fa-arrow-right:before{content:"\\F061"}.fa-arrow-up:before{content:"\\F062"}.fa-arrow-down:before{content:"\\F063"}.fa-mail-forward:before,.fa-share:before{content:"\\F064"}.fa-expand:before{content:"\\F065"}.fa-compress:before{content:"\\F066"}.fa-plus:before{content:"\\F067"}.fa-minus:before{content:"\\F068"}.fa-asterisk:before{content:"\\F069"}.fa-exclamation-circle:before{content:"\\F06A"}.fa-gift:before{content:"\\F06B"}.fa-leaf:before{content:"\\F06C"}.fa-fire:before{content:"\\F06D"}.fa-eye:before{content:"\\F06E"}.fa-eye-slash:before{content:"\\F070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\\F071"}.fa-plane:before{content:"\\F072"}.fa-calendar:before{content:"\\F073"}.fa-random:before{content:"\\F074"}.fa-comment:before{content:"\\F075"}.fa-magnet:before{content:"\\F076"}.fa-chevron-up:before{content:"\\F077"}.fa-chevron-down:before{content:"\\F078"}.fa-retweet:before{content:"\\F079"}.fa-shopping-cart:before{content:"\\F07A"}.fa-folder:before{content:"\\F07B"}.fa-folder-open:before{content:"\\F07C"}.fa-arrows-v:before{content:"\\F07D"}.fa-arrows-h:before{content:"\\F07E"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\\F080"}.fa-twitter-square:before{content:"\\F081"}.fa-facebook-square:before{content:"\\F082"}.fa-camera-retro:before{content:"\\F083"}.fa-key:before{content:"\\F084"}.fa-cogs:before,.fa-gears:before{content:"\\F085"}.fa-comments:before{content:"\\F086"}.fa-thumbs-o-up:before{content:"\\F087"}.fa-thumbs-o-down:before{content:"\\F088"}.fa-star-half:before{content:"\\F089"}.fa-heart-o:before{content:"\\F08A"}.fa-sign-out:before{content:"\\F08B"}.fa-linkedin-square:before{content:"\\F08C"}.fa-thumb-tack:before{content:"\\F08D"}.fa-external-link:before{content:"\\F08E"}.fa-sign-in:before{content:"\\F090"}.fa-trophy:before{content:"\\F091"}.fa-github-square:before{content:"\\F092"}.fa-upload:before{content:"\\F093"}.fa-lemon-o:before{content:"\\F094"}.fa-phone:before{content:"\\F095"}.fa-square-o:before{content:"\\F096"}.fa-bookmark-o:before{content:"\\F097"}.fa-phone-square:before{content:"\\F098"}.fa-twitter:before{content:"\\F099"}.fa-facebook-f:before,.fa-facebook:before{content:"\\F09A"}.fa-github:before{content:"\\F09B"}.fa-unlock:before{content:"\\F09C"}.fa-credit-card:before{content:"\\F09D"}.fa-feed:before,.fa-rss:before{content:"\\F09E"}.fa-hdd-o:before{content:"\\F0A0"}.fa-bullhorn:before{content:"\\F0A1"}.fa-bell:before{content:"\\F0F3"}.fa-certificate:before{content:"\\F0A3"}.fa-hand-o-right:before{content:"\\F0A4"}.fa-hand-o-left:before{content:"\\F0A5"}.fa-hand-o-up:before{content:"\\F0A6"}.fa-hand-o-down:before{content:"\\F0A7"}.fa-arrow-circle-left:before{content:"\\F0A8"}.fa-arrow-circle-right:before{content:"\\F0A9"}.fa-arrow-circle-up:before{content:"\\F0AA"}.fa-arrow-circle-down:before{content:"\\F0AB"}.fa-globe:before{content:"\\F0AC"}.fa-wrench:before{content:"\\F0AD"}.fa-tasks:before{content:"\\F0AE"}.fa-filter:before{content:"\\F0B0"}.fa-briefcase:before{content:"\\F0B1"}.fa-arrows-alt:before{content:"\\F0B2"}.fa-group:before,.fa-users:before{content:"\\F0C0"}.fa-chain:before,.fa-link:before{content:"\\F0C1"}.fa-cloud:before{content:"\\F0C2"}.fa-flask:before{content:"\\F0C3"}.fa-cut:before,.fa-scissors:before{content:"\\F0C4"}.fa-copy:before,.fa-files-o:before{content:"\\F0C5"}.fa-paperclip:before{content:"\\F0C6"}.fa-floppy-o:before,.fa-save:before{content:"\\F0C7"}.fa-square:before{content:"\\F0C8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\\F0C9"}.fa-list-ul:before{content:"\\F0CA"}.fa-list-ol:before{content:"\\F0CB"}.fa-strikethrough:before{content:"\\F0CC"}.fa-underline:before{content:"\\F0CD"}.fa-table:before{content:"\\F0CE"}.fa-magic:before{content:"\\F0D0"}.fa-truck:before{content:"\\F0D1"}.fa-pinterest:before{content:"\\F0D2"}.fa-pinterest-square:before{content:"\\F0D3"}.fa-google-plus-square:before{content:"\\F0D4"}.fa-google-plus:before{content:"\\F0D5"}.fa-money:before{content:"\\F0D6"}.fa-caret-down:before{content:"\\F0D7"}.fa-caret-up:before{content:"\\F0D8"}.fa-caret-left:before{content:"\\F0D9"}.fa-caret-right:before{content:"\\F0DA"}.fa-columns:before{content:"\\F0DB"}.fa-sort:before,.fa-unsorted:before{content:"\\F0DC"}.fa-sort-desc:before,.fa-sort-down:before{content:"\\F0DD"}.fa-sort-asc:before,.fa-sort-up:before{content:"\\F0DE"}.fa-envelope:before{content:"\\F0E0"}.fa-linkedin:before{content:"\\F0E1"}.fa-rotate-left:before,.fa-undo:before{content:"\\F0E2"}.fa-gavel:before,.fa-legal:before{content:"\\F0E3"}.fa-dashboard:before,.fa-tachometer:before{content:"\\F0E4"}.fa-comment-o:before{content:"\\F0E5"}.fa-comments-o:before{content:"\\F0E6"}.fa-bolt:before,.fa-flash:before{content:"\\F0E7"}.fa-sitemap:before{content:"\\F0E8"}.fa-umbrella:before{content:"\\F0E9"}.fa-clipboard:before,.fa-paste:before{content:"\\F0EA"}.fa-lightbulb-o:before{content:"\\F0EB"}.fa-exchange:before{content:"\\F0EC"}.fa-cloud-download:before{content:"\\F0ED"}.fa-cloud-upload:before{content:"\\F0EE"}.fa-user-md:before{content:"\\F0F0"}.fa-stethoscope:before{content:"\\F0F1"}.fa-suitcase:before{content:"\\F0F2"}.fa-bell-o:before{content:"\\F0A2"}.fa-coffee:before{content:"\\F0F4"}.fa-cutlery:before{content:"\\F0F5"}.fa-file-text-o:before{content:"\\F0F6"}.fa-building-o:before{content:"\\F0F7"}.fa-hospital-o:before{content:"\\F0F8"}.fa-ambulance:before{content:"\\F0F9"}.fa-medkit:before{content:"\\F0FA"}.fa-fighter-jet:before{content:"\\F0FB"}.fa-beer:before{content:"\\F0FC"}.fa-h-square:before{content:"\\F0FD"}.fa-plus-square:before{content:"\\F0FE"}.fa-angle-double-left:before{content:"\\F100"}.fa-angle-double-right:before{content:"\\F101"}.fa-angle-double-up:before{content:"\\F102"}.fa-angle-double-down:before{content:"\\F103"}.fa-angle-left:before{content:"\\F104"}.fa-angle-right:before{content:"\\F105"}.fa-angle-up:before{content:"\\F106"}.fa-angle-down:before{content:"\\F107"}.fa-desktop:before{content:"\\F108"}.fa-laptop:before{content:"\\F109"}.fa-tablet:before{content:"\\F10A"}.fa-mobile-phone:before,.fa-mobile:before{content:"\\F10B"}.fa-circle-o:before{content:"\\F10C"}.fa-quote-left:before{content:"\\F10D"}.fa-quote-right:before{content:"\\F10E"}.fa-spinner:before{content:"\\F110"}.fa-circle:before{content:"\\F111"}.fa-mail-reply:before,.fa-reply:before{content:"\\F112"}.fa-github-alt:before{content:"\\F113"}.fa-folder-o:before{content:"\\F114"}.fa-folder-open-o:before{content:"\\F115"}.fa-smile-o:before{content:"\\F118"}.fa-frown-o:before{content:"\\F119"}.fa-meh-o:before{content:"\\F11A"}.fa-gamepad:before{content:"\\F11B"}.fa-keyboard-o:before{content:"\\F11C"}.fa-flag-o:before{content:"\\F11D"}.fa-flag-checkered:before{content:"\\F11E"}.fa-terminal:before{content:"\\F120"}.fa-code:before{content:"\\F121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\\F122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\\F123"}.fa-location-arrow:before{content:"\\F124"}.fa-crop:before{content:"\\F125"}.fa-code-fork:before{content:"\\F126"}.fa-chain-broken:before,.fa-unlink:before{content:"\\F127"}.fa-question:before{content:"\\F128"}.fa-info:before{content:"\\F129"}.fa-exclamation:before{content:"\\F12A"}.fa-superscript:before{content:"\\F12B"}.fa-subscript:before{content:"\\F12C"}.fa-eraser:before{content:"\\F12D"}.fa-puzzle-piece:before{content:"\\F12E"}.fa-microphone:before{content:"\\F130"}.fa-microphone-slash:before{content:"\\F131"}.fa-shield:before{content:"\\F132"}.fa-calendar-o:before{content:"\\F133"}.fa-fire-extinguisher:before{content:"\\F134"}.fa-rocket:before{content:"\\F135"}.fa-maxcdn:before{content:"\\F136"}.fa-chevron-circle-left:before{content:"\\F137"}.fa-chevron-circle-right:before{content:"\\F138"}.fa-chevron-circle-up:before{content:"\\F139"}.fa-chevron-circle-down:before{content:"\\F13A"}.fa-html5:before{content:"\\F13B"}.fa-css3:before{content:"\\F13C"}.fa-anchor:before{content:"\\F13D"}.fa-unlock-alt:before{content:"\\F13E"}.fa-bullseye:before{content:"\\F140"}.fa-ellipsis-h:before{content:"\\F141"}.fa-ellipsis-v:before{content:"\\F142"}.fa-rss-square:before{content:"\\F143"}.fa-play-circle:before{content:"\\F144"}.fa-ticket:before{content:"\\F145"}.fa-minus-square:before{content:"\\F146"}.fa-minus-square-o:before{content:"\\F147"}.fa-level-up:before{content:"\\F148"}.fa-level-down:before{content:"\\F149"}.fa-check-square:before{content:"\\F14A"}.fa-pencil-square:before{content:"\\F14B"}.fa-external-link-square:before{content:"\\F14C"}.fa-share-square:before{content:"\\F14D"}.fa-compass:before{content:"\\F14E"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\\F150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\\F151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\\F152"}.fa-eur:before,.fa-euro:before{content:"\\F153"}.fa-gbp:before{content:"\\F154"}.fa-dollar:before,.fa-usd:before{content:"\\F155"}.fa-inr:before,.fa-rupee:before{content:"\\F156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\\F157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\\F158"}.fa-krw:before,.fa-won:before{content:"\\F159"}.fa-bitcoin:before,.fa-btc:before{content:"\\F15A"}.fa-file:before{content:"\\F15B"}.fa-file-text:before{content:"\\F15C"}.fa-sort-alpha-asc:before{content:"\\F15D"}.fa-sort-alpha-desc:before{content:"\\F15E"}.fa-sort-amount-asc:before{content:"\\F160"}.fa-sort-amount-desc:before{content:"\\F161"}.fa-sort-numeric-asc:before{content:"\\F162"}.fa-sort-numeric-desc:before{content:"\\F163"}.fa-thumbs-up:before{content:"\\F164"}.fa-thumbs-down:before{content:"\\F165"}.fa-youtube-square:before{content:"\\F166"}.fa-youtube:before{content:"\\F167"}.fa-xing:before{content:"\\F168"}.fa-xing-square:before{content:"\\F169"}.fa-youtube-play:before{content:"\\F16A"}.fa-dropbox:before{content:"\\F16B"}.fa-stack-overflow:before{content:"\\F16C"}.fa-instagram:before{content:"\\F16D"}.fa-flickr:before{content:"\\F16E"}.fa-adn:before{content:"\\F170"}.fa-bitbucket:before{content:"\\F171"}.fa-bitbucket-square:before{content:"\\F172"}.fa-tumblr:before{content:"\\F173"}.fa-tumblr-square:before{content:"\\F174"}.fa-long-arrow-down:before{content:"\\F175"}.fa-long-arrow-up:before{content:"\\F176"}.fa-long-arrow-left:before{content:"\\F177"}.fa-long-arrow-right:before{content:"\\F178"}.fa-apple:before{content:"\\F179"}.fa-windows:before{content:"\\F17A"}.fa-android:before{content:"\\F17B"}.fa-linux:before{content:"\\F17C"}.fa-dribbble:before{content:"\\F17D"}.fa-skype:before{content:"\\F17E"}.fa-foursquare:before{content:"\\F180"}.fa-trello:before{content:"\\F181"}.fa-female:before{content:"\\F182"}.fa-male:before{content:"\\F183"}.fa-gittip:before,.fa-gratipay:before{content:"\\F184"}.fa-sun-o:before{content:"\\F185"}.fa-moon-o:before{content:"\\F186"}.fa-archive:before{content:"\\F187"}.fa-bug:before{content:"\\F188"}.fa-vk:before{content:"\\F189"}.fa-weibo:before{content:"\\F18A"}.fa-renren:before{content:"\\F18B"}.fa-pagelines:before{content:"\\F18C"}.fa-stack-exchange:before{content:"\\F18D"}.fa-arrow-circle-o-right:before{content:"\\F18E"}.fa-arrow-circle-o-left:before{content:"\\F190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\\F191"}.fa-dot-circle-o:before{content:"\\F192"}.fa-wheelchair:before{content:"\\F193"}.fa-vimeo-square:before{content:"\\F194"}.fa-try:before,.fa-turkish-lira:before{content:"\\F195"}.fa-plus-square-o:before{content:"\\F196"}.fa-space-shuttle:before{content:"\\F197"}.fa-slack:before{content:"\\F198"}.fa-envelope-square:before{content:"\\F199"}.fa-wordpress:before{content:"\\F19A"}.fa-openid:before{content:"\\F19B"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\\F19C"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\\F19D"}.fa-yahoo:before{content:"\\F19E"}.fa-google:before{content:"\\F1A0"}.fa-reddit:before{content:"\\F1A1"}.fa-reddit-square:before{content:"\\F1A2"}.fa-stumbleupon-circle:before{content:"\\F1A3"}.fa-stumbleupon:before{content:"\\F1A4"}.fa-delicious:before{content:"\\F1A5"}.fa-digg:before{content:"\\F1A6"}.fa-pied-piper:before{content:"\\F1A7"}.fa-pied-piper-alt:before{content:"\\F1A8"}.fa-drupal:before{content:"\\F1A9"}.fa-joomla:before{content:"\\F1AA"}.fa-language:before{content:"\\F1AB"}.fa-fax:before{content:"\\F1AC"}.fa-building:before{content:"\\F1AD"}.fa-child:before{content:"\\F1AE"}.fa-paw:before{content:"\\F1B0"}.fa-spoon:before{content:"\\F1B1"}.fa-cube:before{content:"\\F1B2"}.fa-cubes:before{content:"\\F1B3"}.fa-behance:before{content:"\\F1B4"}.fa-behance-square:before{content:"\\F1B5"}.fa-steam:before{content:"\\F1B6"}.fa-steam-square:before{content:"\\F1B7"}.fa-recycle:before{content:"\\F1B8"}.fa-automobile:before,.fa-car:before{content:"\\F1B9"}.fa-cab:before,.fa-taxi:before{content:"\\F1BA"}.fa-tree:before{content:"\\F1BB"}.fa-spotify:before{content:"\\F1BC"}.fa-deviantart:before{content:"\\F1BD"}.fa-soundcloud:before{content:"\\F1BE"}.fa-database:before{content:"\\F1C0"}.fa-file-pdf-o:before{content:"\\F1C1"}.fa-file-word-o:before{content:"\\F1C2"}.fa-file-excel-o:before{content:"\\F1C3"}.fa-file-powerpoint-o:before{content:"\\F1C4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\\F1C5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\\F1C6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\\F1C7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\\F1C8"}.fa-file-code-o:before{content:"\\F1C9"}.fa-vine:before{content:"\\F1CA"}.fa-codepen:before{content:"\\F1CB"}.fa-jsfiddle:before{content:"\\F1CC"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\\F1CD"}.fa-circle-o-notch:before{content:"\\F1CE"}.fa-ra:before,.fa-rebel:before{content:"\\F1D0"}.fa-empire:before,.fa-ge:before{content:"\\F1D1"}.fa-git-square:before{content:"\\F1D2"}.fa-git:before{content:"\\F1D3"}.fa-hacker-news:before,.fa-y-combinator-square:before,.fa-yc-square:before{content:"\\F1D4"}.fa-tencent-weibo:before{content:"\\F1D5"}.fa-qq:before{content:"\\F1D6"}.fa-wechat:before,.fa-weixin:before{content:"\\F1D7"}.fa-paper-plane:before,.fa-send:before{content:"\\F1D8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\\F1D9"}.fa-history:before{content:"\\F1DA"}.fa-circle-thin:before{content:"\\F1DB"}.fa-header:before{content:"\\F1DC"}.fa-paragraph:before{content:"\\F1DD"}.fa-sliders:before{content:"\\F1DE"}.fa-share-alt:before{content:"\\F1E0"}.fa-share-alt-square:before{content:"\\F1E1"}.fa-bomb:before{content:"\\F1E2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\\F1E3"}.fa-tty:before{content:"\\F1E4"}.fa-binoculars:before{content:"\\F1E5"}.fa-plug:before{content:"\\F1E6"}.fa-slideshare:before{content:"\\F1E7"}.fa-twitch:before{content:"\\F1E8"}.fa-yelp:before{content:"\\F1E9"}.fa-newspaper-o:before{content:"\\F1EA"}.fa-wifi:before{content:"\\F1EB"}.fa-calculator:before{content:"\\F1EC"}.fa-paypal:before{content:"\\F1ED"}.fa-google-wallet:before{content:"\\F1EE"}.fa-cc-visa:before{content:"\\F1F0"}.fa-cc-mastercard:before{content:"\\F1F1"}.fa-cc-discover:before{content:"\\F1F2"}.fa-cc-amex:before{content:"\\F1F3"}.fa-cc-paypal:before{content:"\\F1F4"}.fa-cc-stripe:before{content:"\\F1F5"}.fa-bell-slash:before{content:"\\F1F6"}.fa-bell-slash-o:before{content:"\\F1F7"}.fa-trash:before{content:"\\F1F8"}.fa-copyright:before{content:"\\F1F9"}.fa-at:before{content:"\\F1FA"}.fa-eyedropper:before{content:"\\F1FB"}.fa-paint-brush:before{content:"\\F1FC"}.fa-birthday-cake:before{content:"\\F1FD"}.fa-area-chart:before{content:"\\F1FE"}.fa-pie-chart:before{content:"\\F200"}.fa-line-chart:before{content:"\\F201"}.fa-lastfm:before{content:"\\F202"}.fa-lastfm-square:before{content:"\\F203"}.fa-toggle-off:before{content:"\\F204"}.fa-toggle-on:before{content:"\\F205"}.fa-bicycle:before{content:"\\F206"}.fa-bus:before{content:"\\F207"}.fa-ioxhost:before{content:"\\F208"}.fa-angellist:before{content:"\\F209"}.fa-cc:before{content:"\\F20A"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\\F20B"}.fa-meanpath:before{content:"\\F20C"}.fa-buysellads:before{content:"\\F20D"}.fa-connectdevelop:before{content:"\\F20E"}.fa-dashcube:before{content:"\\F210"}.fa-forumbee:before{content:"\\F211"}.fa-leanpub:before{content:"\\F212"}.fa-sellsy:before{content:"\\F213"}.fa-shirtsinbulk:before{content:"\\F214"}.fa-simplybuilt:before{content:"\\F215"}.fa-skyatlas:before{content:"\\F216"}.fa-cart-plus:before{content:"\\F217"}.fa-cart-arrow-down:before{content:"\\F218"}.fa-diamond:before{content:"\\F219"}.fa-ship:before{content:"\\F21A"}.fa-user-secret:before{content:"\\F21B"}.fa-motorcycle:before{content:"\\F21C"}.fa-street-view:before{content:"\\F21D"}.fa-heartbeat:before{content:"\\F21E"}.fa-venus:before{content:"\\F221"}.fa-mars:before{content:"\\F222"}.fa-mercury:before{content:"\\F223"}.fa-intersex:before,.fa-transgender:before{content:"\\F224"}.fa-transgender-alt:before{content:"\\F225"}.fa-venus-double:before{content:"\\F226"}.fa-mars-double:before{content:"\\F227"}.fa-venus-mars:before{content:"\\F228"}.fa-mars-stroke:before{content:"\\F229"}.fa-mars-stroke-v:before{content:"\\F22A"}.fa-mars-stroke-h:before{content:"\\F22B"}.fa-neuter:before{content:"\\F22C"}.fa-genderless:before{content:"\\F22D"}.fa-facebook-official:before{content:"\\F230"}.fa-pinterest-p:before{content:"\\F231"}.fa-whatsapp:before{content:"\\F232"}.fa-server:before{content:"\\F233"}.fa-user-plus:before{content:"\\F234"}.fa-user-times:before{content:"\\F235"}.fa-bed:before,.fa-hotel:before{content:"\\F236"}.fa-viacoin:before{content:"\\F237"}.fa-train:before{content:"\\F238"}.fa-subway:before{content:"\\F239"}.fa-medium:before{content:"\\F23A"}.fa-y-combinator:before,.fa-yc:before{content:"\\F23B"}.fa-optin-monster:before{content:"\\F23C"}.fa-opencart:before{content:"\\F23D"}.fa-expeditedssl:before{content:"\\F23E"}.fa-battery-4:before,.fa-battery-full:before{content:"\\F240"}.fa-battery-3:before,.fa-battery-three-quarters:before{content:"\\F241"}.fa-battery-2:before,.fa-battery-half:before{content:"\\F242"}.fa-battery-1:before,.fa-battery-quarter:before{content:"\\F243"}.fa-battery-0:before,.fa-battery-empty:before{content:"\\F244"}.fa-mouse-pointer:before{content:"\\F245"}.fa-i-cursor:before{content:"\\F246"}.fa-object-group:before{content:"\\F247"}.fa-object-ungroup:before{content:"\\F248"}.fa-sticky-note:before{content:"\\F249"}.fa-sticky-note-o:before{content:"\\F24A"}.fa-cc-jcb:before{content:"\\F24B"}.fa-cc-diners-club:before{content:"\\F24C"}.fa-clone:before{content:"\\F24D"}.fa-balance-scale:before{content:"\\F24E"}.fa-hourglass-o:before{content:"\\F250"}.fa-hourglass-1:before,.fa-hourglass-start:before{content:"\\F251"}.fa-hourglass-2:before,.fa-hourglass-half:before{content:"\\F252"}.fa-hourglass-3:before,.fa-hourglass-end:before{content:"\\F253"}.fa-hourglass:before{content:"\\F254"}.fa-hand-grab-o:before,.fa-hand-rock-o:before{content:"\\F255"}.fa-hand-paper-o:before,.fa-hand-stop-o:before{content:"\\F256"}.fa-hand-scissors-o:before{content:"\\F257"}.fa-hand-lizard-o:before{content:"\\F258"}.fa-hand-spock-o:before{content:"\\F259"}.fa-hand-pointer-o:before{content:"\\F25A"}.fa-hand-peace-o:before{content:"\\F25B"}.fa-trademark:before{content:"\\F25C"}.fa-registered:before{content:"\\F25D"}.fa-creative-commons:before{content:"\\F25E"}.fa-gg:before{content:"\\F260"}.fa-gg-circle:before{content:"\\F261"}.fa-tripadvisor:before{content:"\\F262"}.fa-odnoklassniki:before{content:"\\F263"}.fa-odnoklassniki-square:before{content:"\\F264"}.fa-get-pocket:before{content:"\\F265"}.fa-wikipedia-w:before{content:"\\F266"}.fa-safari:before{content:"\\F267"}.fa-chrome:before{content:"\\F268"}.fa-firefox:before{content:"\\F269"}.fa-opera:before{content:"\\F26A"}.fa-internet-explorer:before{content:"\\F26B"}.fa-television:before,.fa-tv:before{content:"\\F26C"}.fa-contao:before{content:"\\F26D"}.fa-500px:before{content:"\\F26E"}.fa-amazon:before{content:"\\F270"}.fa-calendar-plus-o:before{content:"\\F271"}.fa-calendar-minus-o:before{content:"\\F272"}.fa-calendar-times-o:before{content:"\\F273"}.fa-calendar-check-o:before{content:"\\F274"}.fa-industry:before{content:"\\F275"}.fa-map-pin:before{content:"\\F276"}.fa-map-signs:before{content:"\\F277"}.fa-map-o:before{content:"\\F278"}.fa-map:before{content:"\\F279"}.fa-commenting:before{content:"\\F27A"}.fa-commenting-o:before{content:"\\F27B"}.fa-houzz:before{content:"\\F27C"}.fa-vimeo:before{content:"\\F27D"}.fa-black-tie:before{content:"\\F27E"}.fa-fonticons:before{content:"\\F280"}',""]);
},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".hide-visually{display:none}",""])},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".row.row-filter{background-color:hsla(0,0%,47%,.15);padding:0;font-size:9pt;min-height:33px}.row.row-filter .filter-builder{background-color:transparent}.filter-builder{background-color:hsla(0,0%,47%,.15);padding:0;font-size:9pt;min-height:33px;pointer-events:none;width:100%}.filter-builder h2{margin:0;font-size:9pt;position:absolute;z-index:0;top:3px}.filter-builder i.fa{color:#666}.filter-builder ul{padding:0;margin:0;list-style-type:none}.filter-builder li{display:inline;float:left}.filter-builder li.filtered-field{background-color:#fff;color:#666;border:1px solid #ccc;margin:3px 0 3px 1em;padding:0;float:left;border-radius:5px;font-size:9pt;line-height:1.5;text-indent:0;overflow:hidden}.filter-builder li.filtered-field:first-child{margin-left:24px}.filter-builder li.filtered-field.no-tag{background-color:transparent;border-width:0;text-indent:20px;font-size:9pt}.filter-builder li.filtered-field.no-tag:hover{color:#666;background-color:transparent}.filter-builder li.filtered-field span{display:table-cell;height:100%;vertical-align:top;padding:3px 2px 3px 4px}.filter-builder li.filtered-field span.field-label{cursor:default;font-weight:700;padding-left:4px;white-space:nowrap}.filter-builder li.filtered-field span.close{cursor:pointer;padding-right:3px;pointer-events:auto}.filter-builder li.filtered-field span.close:hover .fa-times{color:#c2113a}.filter-builder li.filtered-field span.close .fa-times{font-size:14px}.filter-builder li.filtered-field ul.filter-value-list{display:table-cell}.filter-builder li.filtered-field ul.filter-value-list>li{margin:0;padding:3px 5px;pointer-events:auto}.filter-builder li.filtered-field ul.filter-value-list>li.filter-value{font-weight:400;font-size:9pt;border:1px solid #d3d3d3;margin:2px 0 2px 3px;padding:0 4px;border-radius:4px;cursor:pointer;transition:all .14s ease}.filter-builder li.filtered-field ul.filter-value-list>li.filter-value:hover{text-decoration:line-through;border-color:#eaeaea;color:#aaa}.filter-builder li.filtered-field ul.filter-value-list>li.add-value{padding:0 4px;margin-left:2px;border-color:#fff;cursor:pointer;line-height:18px}.filter-builder li.filtered-field ul.filter-value-list>li.add-value .fa-plus{border:1px solid #dfdfdf;padding:1px 3px;border-radius:3px;display:inline}.filter-builder li.filtered-field ul.filter-value-list>li.add-value:hover{border-color:#fff}.filter-builder li.filtered-field ul.filter-value-list>li.add-value:hover .fa-plus{color:#007e40;border-color:#dadada;box-shadow:0 0 7px rgba(0,0,0,.17) inset}.filter-builder li.add-filter .picker-choices,.filter-builder li.filtered-field .picker-choices{border:1px solid #ddd;border-bottom-color:#ccc;position:absolute;z-index:99;background-color:hsla(0,0%,100%,.95);max-height:26em;width:36%;left:0;top:2pc;box-shadow:2px 3px 2px rgba(0,0,0,.1),0 0 7px rgba(0,0,0,.08) inset}.filter-builder li.add-filter .picker-choices .value-list-container,.filter-builder li.filtered-field .picker-choices .value-list-container{left:-180%;top:27px;min-width:174%;max-height:24em!important;overflow-x:hidden;overflow-y:hidden;transition:all .38s ease}.filter-builder li.add-filter .picker-choices .value-list,.filter-builder li.filtered-field .picker-choices .value-list{left:-180%;top:27px;min-width:100%;max-height:14em!important;overflow:auto;overflow-x:hidden;transition:all .38s ease}.filter-builder li.add-filter .picker-choices div.header,.filter-builder li.filtered-field .picker-choices div.header{position:relative;font-family:Abel,Helvetica,Arial,sans-serif;font-size:9pt;padding:.1rem .9375rem;border-bottom:1px solid #ddd;height:27px;line-height:1.4rem;color:#999;background-color:#fff;pointer-events:auto}.filter-builder li.add-filter .picker-choices div.header .fa-times,.filter-builder li.filtered-field .picker-choices div.header .fa-times{width:100%;cursor:pointer;position:absolute;top:0;left:0;height:100%;text-align:right;padding:4px 5px 0 0;font-size:14px}.filter-builder li.add-filter .picker-choices div.header:hover .fa-times,.filter-builder li.filtered-field .picker-choices div.header:hover .fa-times{color:#c2113a}.filter-builder li.add-filter .picker-choices li,.filter-builder li.filtered-field .picker-choices li{display:block;cursor:pointer;border:none;float:none;padding:.4rem .9375rem;font-size:9pt;line-height:1.1rem;pointer-events:auto}.filter-builder li.add-filter .picker-choices li:hover,.filter-builder li.filtered-field .picker-choices li:hover{background-color:#eee}.filter-builder li.add-filter .picker-choices li.selected,.filter-builder li.filtered-field .picker-choices li.selected{background-color:#ddd}.filter-builder li.add-filter .picker-choices li.selected .value-list-container,.filter-builder li.filtered-field .picker-choices li.selected .value-list-container{left:100%;transition:all .18s ease;overflow:hidden}.filter-builder li.add-filter+li.filtered-field{margin-left:0}.filter-builder .listFilterContainer{background-color:#eee;border-bottom:1px solid #dbdbdb;padding:.7%;box-shadow:0 0 5px hsla(0,0%,47%,.2);position:relative}.filter-builder .listFilterContainer i.fa{font-size:1.2em;position:absolute;margin-top:6px;margin-left:6px}.filter-builder .listFilterContainer input{width:100%;padding:5px 5px 5px 21px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:9pt;background-color:#fff;border-radius:3px;border:1px solid #bbb}.filter-builder .add-value .listFilterContainer{padding:.5%}.filter-builder .add-value .listFilterContainer i.fa{margin-top:5px;margin-left:5px}.filter-builder .add-value .listFilterContainer input{padding-top:4px;padding-left:20px}.filter-builder ::-webkit-input-placeholder{font-family:Abel,Helvetica,Arial,sans-serif}.filter-builder :-moz-placeholder,.filter-builder ::-moz-placeholder{font-family:Abel,Helvetica,Arial,sans-serif}.filter-builder :-ms-input-placeholder{font-family:Abel,Helvetica,Arial,sans-serif}.filter-builder li.add-filter i.fa-plus{display:block;padding:8px 3px 5px 1pc;position:relative;left:-1px;z-index:1;cursor:pointer;top:4px;pointer-events:auto}.filter-builder li.add-filter:hover i.fa-plus{color:#007e40}.filter-builder li.filtered-field .picker-choices{overflow-y:hidden;overflow-x:hidden;width:98%}.filter-builder li.filtered-field .picker-choices li{color:#666}.filter-builder .dimension-list-container,.filter-builder .value-list-container,.filter-builder .value-list-container li.hidden.value-option{display:none}",""])},function(t,e,n){var r,a,o;/*! 
	 *  dc 2.0.0-alpha.2 
	 *  http://dc-js.github.io/dc.js/
	 *  Copyright 2012 Nick Zhu and other contributors
	 *
	 *  Licensed under the Apache License, Version 2.0 (the "License");
	 *  you may not use this file except in compliance with the License.
	 *  You may obtain a copy of the License at
	 *
	 *      http://www.apache.org/licenses/LICENSE-2.0
	 *
	 *  Unless required by applicable law or agreed to in writing, software
	 *  distributed under the License is distributed on an "AS IS" BASIS,
	 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 *  See the License for the specific language governing permissions and
	 *  limitations under the License.
	 */
!function(){function i(t){"use strict";var e={version:"2.0.0-alpha.2",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};e.chartRegistry=function(){function t(t){return t||(t=e.constants.DEFAULT_CHART_GROUP),n[t]||(n[t]=[]),t}var n={};return{has:function(t){for(var e in n)if(n[e].indexOf(t)>=0)return!0;return!1},register:function(e,r){r=t(r),n[r].push(e)},deregister:function(e,r){r=t(r);for(var a=0;a<n[r].length;a++)if(n[r][a].anchorName()===e.anchorName()){n[r].splice(a,1);break}},clear:function(t){t?delete n[t]:n={}},list:function(e){return e=t(e),n[e]}}}(),e.registerChart=function(t,n){e.chartRegistry.register(t,n)},e.deregisterChart=function(t,n){e.chartRegistry.deregister(t,n)},e.hasChart=function(t){return e.chartRegistry.has(t)},e.deregisterAllCharts=function(t){e.chartRegistry.clear(t)},e.filterAll=function(t){for(var n=e.chartRegistry.list(t),r=0;r<n.length;++r)n[r].filterAll()},e.refocusAll=function(t){for(var n=e.chartRegistry.list(t),r=0;r<n.length;++r)n[r].focus&&n[r].focus()},e.renderAll=function(t){for(var n=e.chartRegistry.list(t),r=0;r<n.length;++r)n[r].render();null!==e._renderlet&&e._renderlet(t)},e.redrawAll=function(t){for(var n=e.chartRegistry.list(t),r=0;r<n.length;++r)n[r].redraw();null!==e._renderlet&&e._renderlet(t)},e.disableTransitions=!1,e.transition=function(t,n,r){if(0>=n||void 0===n||e.disableTransitions)return t;var a=t.transition().duration(n);return"function"==typeof r&&r(a),a},e.units={},e.units.integers=function(t,e){return Math.abs(e-t)},e.units.ordinal=function(t,e,n){return n},e.units.fp={},e.units.fp.precision=function(t){var n=function(t,r){var a=Math.abs((r-t)/n.resolution);return e.utils.isNegligible(a-Math.floor(a))?Math.floor(a):Math.ceil(a)};return n.resolution=t,n},e.round={},e.round.floor=function(t){return Math.floor(t)},e.round.ceil=function(t){return Math.ceil(t)},e.round.round=function(t){return Math.round(t)},e.override=function(t,e,n){var r=t[e];t["_"+e]=r,t[e]=n},e.renderlet=function(t){return arguments.length?(e._renderlet=t,e):e._renderlet},e.instanceOfChart=function(t){return t instanceof Object&&t.__dc_flag__&&!0},e.errors={},e.errors.Exception=function(t){var e=t||"Unexpected internal error";this.message=e,this.toString=function(){return e}},e.errors.InvalidStateException=function(){e.errors.Exception.apply(this,arguments)},e.dateFormat=t.time.format("%m/%d/%Y"),e.printers={},e.printers.filters=function(t){for(var n="",r=0;r<t.length;++r)r>0&&(n+=", "),n+=e.printers.filter(t[r]);return n},e.printers.filter=function(t){var n="";return t&&(t instanceof Array?t.length>=2?n="["+e.utils.printSingleValue(t[0])+" -> "+e.utils.printSingleValue(t[1])+"]":t.length>=1&&(n=e.utils.printSingleValue(t[0])):n=e.utils.printSingleValue(t)),n},e.pluck=function(t,e){return e?function(n,r){return e.call(n,n[t],r)}:function(e){return e[t]}},e.utils={},e.utils.printSingleValue=function(t){var n=""+t;return t instanceof Date?n=e.dateFormat(t):"string"==typeof t?n=t:e.utils.isFloat(t)?n=e.utils.printSingleValue.fformat(t):e.utils.isInteger(t)&&(n=Math.round(t)),n},e.utils.printSingleValue.fformat=t.format(".2f"),e.utils.add=function(t,e){if("string"==typeof e&&(e=e.replace("%","")),t instanceof Date){"string"==typeof e&&(e=+e);var n=new Date;return n.setTime(t.getTime()),n.setDate(t.getDate()+e),n}if("string"==typeof e){var r=+e/100;return t>0?t*(1+r):t*(1-r)}return t+e},e.utils.subtract=function(t,e){if("string"==typeof e&&(e=e.replace("%","")),t instanceof Date){"string"==typeof e&&(e=+e);var n=new Date;return n.setTime(t.getTime()),n.setDate(t.getDate()-e),n}if("string"==typeof e){var r=+e/100;return 0>t?t*(1+r):t*(1-r)}return t-e},e.utils.isNumber=function(t){return t===+t},e.utils.isFloat=function(t){return t===+t&&t!==(0|t)},e.utils.isInteger=function(t){return t===+t&&t===(0|t)},e.utils.isNegligible=function(t){return!e.utils.isNumber(t)||t<e.constants.NEGLIGIBLE_NUMBER&&t>-e.constants.NEGLIGIBLE_NUMBER},e.utils.clamp=function(t,e,n){return e>t?e:t>n?n:t};var n=0;return e.utils.uniqueId=function(){return++n},e.utils.nameToId=function(t){return t.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},e.utils.appendOrSelect=function(t,e){var n=t.select(e);return n.empty()&&(n=t.append(e)),n},e.utils.safeNumber=function(t){return e.utils.isNumber(+t)?+t:0},e.logger={},e.logger.enableDebugLog=!1,e.logger.warn=function(t){return console&&(console.warn?console.warn(t):console.log&&console.log(t)),e.logger},e.logger.debug=function(t){return e.logger.enableDebugLog&&console&&(console.debug?console.debug(t):console.log&&console.log(t)),e.logger},e.events={current:null},e.events.trigger=function(t,n){return n?(e.events.current=t,void setTimeout(function(){t==e.events.current&&t()},n)):void t()},e.filters={},e.filters.RangedFilter=function(t,e){var n=Array(t,e);return n.isFiltered=function(t){return t>=this[0]&&t<this[1]},n},e.filters.TwoDimensionalFilter=function(t){if(null===t)return null;var e=t;return e.isFiltered=function(t){return t.length&&t.length==e.length&&t[0]==e[0]&&t[1]==e[1]},e},e.filters.RangedTwoDimensionalFilter=function(t){if(null===t)return null;var e,n=t;return e=n[0]instanceof Array?[[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1])],[Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]]:[[t[0],-(1/0)],[t[1],1/0]],n.isFiltered=function(t){var n,r;if(t instanceof Array){if(2!=t.length)return!1;n=t[0],r=t[1]}else n=t,r=e[0][1];return n>=e[0][0]&&n<e[1][0]&&r>=e[0][1]&&r<e[1][1]},n},e.baseMixin=function(n){function r(){return p=n.root().append("svg").attr("width",n.width()).attr("height",n.height())}function a(t){if(!n[t]||!n[t]())throw new e.errors.InvalidStateException("Mandatory attribute chart."+t+" is missing on chart[#"+n.anchorName()+"]")}function o(t){for(var e=0;e<O.length;e++)if(O[e]<=t&&O[e]>=t){O.splice(e,1);break}s(),n._invokeFilteredListener(t)}function i(t){O.push(t),s(),n._invokeFilteredListener(t)}function u(){O=[],s(),n._invokeFilteredListener(null)}function s(){if(n.dimension()&&n.dimension().filter){var t=P(n.dimension(),O);O=t?t:O}}function l(){for(var t=0;t<N.length;++t)N[t](n)}n.__dc_flag__=e.utils.uniqueId();var c,f,d,h,p,g,m,v=200,y=function(t){var e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().width;return e&&e>v?e:v},b=y,x=200,w=function(t){var e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().height;return e&&e>x?e:x},k=w,A=e.pluck("key"),F=e.pluck("value"),M=e.pluck("key"),C=e.pluck("key"),E=!1,_=function(t){return n.keyAccessor()(t)+": "+n.valueAccessor()(t)},S=!1,D=750,T=e.printers.filters,N=[],R=["dimension","group"],L=e.constants.DEFAULT_CHART_GROUP,q=t.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed"),O=[],P=function(t,e){return t.filter(null),0===e.length?t.filter(null):t.filterFunction(function(t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isFiltered&&r.isFiltered(t))return!0;if(t>=r&&r>=t)return!0}return!1}),e},j=function(t){return t.all()};return n.width=function(e){return arguments.length?(b=t.functor(e||y),n):b(h.node())},n.height=function(e){return arguments.length?(k=t.functor(e||w),n):k(h.node())},n.minWidth=function(t){return arguments.length?(v=t,n):v},n.minHeight=function(t){return arguments.length?(x=t,n):x},n.dimension=function(t){return arguments.length?(c=t,n.expireCache(),n):c},n.data=function(e){return arguments.length?(j=t.functor(e),n.expireCache(),n):j.call(n,f)},n.group=function(t,e){return arguments.length?(f=t,n._groupName=e,n.expireCache(),n):f},n.ordering=function(t){return arguments.length?(C=t,g=crossfilter.quicksort.by(C),n.expireCache(),n):C},n._computeOrderedGroups=function(t){var e=t.slice(0);return e.length<=1?e:(g||(g=crossfilter.quicksort.by(C)),g(e,0,e.length))},n.filterAll=function(){return n.filter(null)},n.select=function(t){return h.select(t)},n.selectAll=function(t){return h?h.selectAll(t):null},n.anchor=function(r,a){return arguments.length?(e.instanceOfChart(r)?(d=r.anchor(),h=r.root()):(d=r,h=t.select(d),h.classed(e.constants.CHART_CLASS,!0),e.registerChart(n,a)),L=a,n):d},n.anchorName=function(){var t=n.anchor();return t&&t.id?t.id:t&&t.replace?t.replace("#",""):""+n.chartID()},n.root=function(t){return arguments.length?(h=t,n):h},n.svg=function(t){return arguments.length?(p=t,n):p},n.resetSvg=function(){return n.select("svg").remove(),r()},n.filterPrinter=function(t){return arguments.length?(T=t,n):T},n.turnOnControls=function(){return h&&(n.selectAll(".reset").style("display",null),n.selectAll(".filter").text(T(n.filters())).style("display",null)),n},n.turnOffControls=function(){return h&&(n.selectAll(".reset").style("display","none"),n.selectAll(".filter").style("display","none").text(n.filter())),n},n.transitionDuration=function(t){return arguments.length?(D=t,n):D},n._mandatoryAttributes=function(t){return arguments.length?(R=t,n):R},n.render=function(){q.preRender(n),R&&R.forEach(a);var t=n._doRender();return m&&m.render(),n._activateRenderlets("postRender"),t},n._activateRenderlets=function(t){n.transitionDuration()>0&&p?p.transition().duration(n.transitionDuration()).each("end",function(){l(),t&&q[t](n)}):(l(),t&&q[t](n))},n.redraw=function(){q.preRedraw(n);var t=n._doRedraw();return m&&m.render(),n._activateRenderlets("postRedraw"),t},n.redrawGroup=function(){e.redrawAll(n.chartGroup())},n.renderGroup=function(){e.renderAll(n.chartGroup())},n._invokeFilteredListener=function(t){void 0!==t&&q.filtered(n,t)},n._invokeZoomedListener=function(){q.zoomed(n)},n.hasFilter=function(t){return arguments.length?O.some(function(e){return e>=t&&t>=e}):O.length>0},n.replaceFilter=function(t){O=[],n.filter(t)},n.filter=function(t){return arguments.length?(t instanceof Array&&t[0]instanceof Array&&!t.isFiltered?(t[0].forEach(function(t){n.hasFilter(t)?O.splice(O.indexOf(t),1):O.push(t)}),s(),n._invokeFilteredListener(t)):null===t?u():n.hasFilter(t)?o(t):i(t),null!==h&&n.hasFilter()?n.turnOnControls():n.turnOffControls(),n):O.length>0?O[0]:null},n.filters=function(){return O},n.highlightSelected=function(n){t.select(n).classed(e.constants.SELECTED_CLASS,!0),t.select(n).classed(e.constants.DESELECTED_CLASS,!1)},n.fadeDeselected=function(n){t.select(n).classed(e.constants.SELECTED_CLASS,!1),t.select(n).classed(e.constants.DESELECTED_CLASS,!0)},n.resetHighlight=function(n){t.select(n).classed(e.constants.SELECTED_CLASS,!1),t.select(n).classed(e.constants.DESELECTED_CLASS,!1)},n.onClick=function(t){var r=n.keyAccessor()(t);e.events.trigger(function(){n.filter(r),n.redrawGroup()})},n.filterHandler=function(t){return arguments.length?(P=t,n):P},n._doRender=function(){return n},n._doRedraw=function(){return n},n.legendables=function(){return[]},n.legendHighlight=function(t){},n.legendReset=function(t){},n.legendToggle=function(t){},n.isLegendableHidden=function(t){return!1},n.keyAccessor=function(t){return arguments.length?(A=t,n):A},n.valueAccessor=function(t){return arguments.length?(F=t,n):F},n.label=function(t){return arguments.length?(M=t,E=!0,n):M},n.renderLabel=function(t){return arguments.length?(E=t,n):E},n.title=function(t){return arguments.length?(_=t,S=!0,n):_},n.renderTitle=function(t){return arguments.length?(S=t,n):S},n.renderlet=function(t){return N.push(t),n},n.chartGroup=function(t){return arguments.length?(L=t,n):L},n.expireCache=function(){return n},n.legend=function(t){return arguments.length?(m=t,m.parent(n),n):m},n.chartID=function(){return n.__dc_flag__},n.options=function(t){for(var r in t)"function"==typeof n[r]?n[r].call(n,t[r]):e.logger.debug("Not a valid option setter name: "+r);return n},n.on=function(t,e){return q.on(t,e),n},n},e.marginMixin=function(t){var e={top:10,right:50,bottom:30,left:30};return t.margins=function(n){return arguments.length?(e=n,t):e},t.effectiveWidth=function(){return t.width()-t.margins().left-t.margins().right},t.effectiveHeight=function(){return t.height()-t.margins().top-t.margins().bottom},t},e.colorMixin=function(e){var n=t.scale.category20c(),r=!0,a=function(t){return e.keyAccessor()(t)};return e.colors=function(r){return arguments.length?(n=r instanceof Array?t.scale.quantize().range(r):t.functor(r),e):n},e.ordinalColors=function(n){return e.colors(t.scale.ordinal().range(n))},e.linearColors=function(n){return e.colors(t.scale.linear().range(n).interpolate(t.interpolateHcl))},e.colorAccessor=function(t){return arguments.length?(a=t,r=!1,e):a},e.defaultColorAccessor=function(){return r},e.colorDomain=function(t){return arguments.length?(n.domain(t),e):n.domain()},e.calculateColorDomain=function(){var r=[t.min(e.data(),e.colorAccessor()),t.max(e.data(),e.colorAccessor())];n.domain(r)},e.getColor=function(t,e){return n(a.call(this,t,e))},e.colorCalculator=function(t){return arguments.length?(e.getColor=t,e):e.getColor},e},e.coordinateGridMixin=function(n){function r(t){n.isOrdinal()?(n.elasticX()||0===A.domain().length)&&A.domain(n._ordinalXDomain()):n.elasticX()&&A.domain([n.xAxisMin(),n.xAxisMax()]);var e=A.domain();(!C||e.some(function(t,e){return t!=C[e]}))&&n.rescale(),C=e,n.isOrdinal()?A.rangeBands([0,n.xAxisLength()],et,n._useOuterPadding()?tt:0):A.range([0,n.xAxisLength()]),R=R.scale(n.x()),a(t)}function a(t){var r=t.selectAll("g."+m);if(W){r.empty()&&(r=t.insert("g",":first-child").attr("class",p+" "+m).attr("transform","translate("+n.margins().left+","+n.margins().top+")"));var a=R.tickValues()?R.tickValues():A.ticks(R.ticks()[0]),o=r.selectAll("line").data(a),i=o.enter().append("line").attr("x1",function(t){return A(t)}).attr("y1",n._xAxisY()-n.margins().top).attr("x2",function(t){return A(t)}).attr("y2",0).attr("opacity",0);e.transition(i,n.transitionDuration()).attr("opacity",1),e.transition(o,n.transitionDuration()).attr("x1",function(t){return A(t)}).attr("y1",n._xAxisY()-n.margins().top).attr("x2",function(t){return A(t)}).attr("y2",0),o.exit().remove()}else r.selectAll("line").remove()}function o(){return n._xAxisY()-n.margins().top}function i(){return n.anchorName()+"-clip"}function u(){var t=e.utils.appendOrSelect(x,"defs"),r=e.utils.appendOrSelect(t,"clipPath").attr("id",i()),a=2*Q;e.utils.appendOrSelect(r,"rect").attr("width",n.xAxisLength()+a).attr("height",n.yAxisHeight()+a)}function s(t){n.isOrdinal()&&(U=!1),r(n.g()),n._prepareYAxis(n.g()),n.plotData(),(n.elasticX()||G||t)&&n.renderXAxis(n.g()),(n.elasticY()||t)&&n.renderYAxis(n.g()),t?n.renderBrush(n.g()):n.redrawBrush(n.g())}function l(){J?n._enableMouseZoom():K&&n._disableMouseZoom()}function c(){G=!0,V&&(n.x().domain(f(n.x().domain(),F)),T&&n.x().domain(f(n.x().domain(),T.x().domain())));var t=n.x().domain(),r=e.filters.RangedFilter(t[0],t[1]);n.replaceFilter(r),n.rescale(),n.redraw(),T&&!d(n.filter(),T.filter())&&e.events.trigger(function(){T.replaceFilter(r),T.redraw()}),n._invokeZoomedListener(),e.events.trigger(function(){n.redrawGroup()},e.constants.EVENT_DELAY),G=!d(t,F)}function f(e,n){var r=[];return r[0]=t.max([e[0],n[0]]),r[1]=t.min([e[1],n[1]]),r}function d(t,e){return t||e?t&&e?0===t.length&&0===e.length?!0:t[0].valueOf()===e[0].valueOf()&&t[1].valueOf()===e[1].valueOf()?!0:!1:!1:!0}function h(t){return t instanceof Array&&t.length>1}var p="grid-line",g="horizontal",m="vertical",v="y-axis-label",y="x-axis-label",b=12;n=e.colorMixin(e.marginMixin(e.baseMixin(n))),n.colors(t.scale.category10()),n._mandatoryAttributes().push("x");var x,w,k,A,F,M,C,E,_,S,D,T,N,R=t.svg.axis().orient("bottom"),L=e.units.integers,q=0,O=!1,P=0,j=t.svg.axis().orient("left"),z=0,B=!1,$=0,H=t.svg.brush(),U=!0,I=!1,W=!1,G=!1,Y=[1,1/0],V=!0,X=t.behavior.zoom().on("zoom",c),Z=t.behavior.zoom().on("zoom",null),K=!1,J=!1,Q=0,tt=.5,et=0,nt=!1;return n.rescale=function(){D=void 0},n.rangeChart=function(t){return arguments.length?(T=t,T.focusChart(n),n):T},n.zoomScale=function(t){return arguments.length?(Y=t,n):Y},n.zoomOutRestrict=function(t){return arguments.length?(Y[0]=t?1:0,V=t,n):V},n._generateG=function(t){return x=void 0===t?n.svg():t,w=x.append("g"),k=w.append("g").attr("class","chart-body").attr("transform","translate("+n.margins().left+", "+n.margins().top+")").attr("clip-path","url(#"+i()+")"),w},n.g=function(t){return arguments.length?(w=t,n):w},n.mouseZoomable=function(t){return arguments.length?(J=t,n):J},n.chartBodyG=function(t){return arguments.length?(k=t,n):k},n.x=function(t){return arguments.length?(A=t,F=A.domain(),n):A},n.xOriginalDomain=function(){return F},n.xUnits=function(t){return arguments.length?(L=t,n):L},n.xAxis=function(t){return arguments.length?(R=t,n):R},n.elasticX=function(t){return arguments.length?(O=t,n):O},n.xAxisPadding=function(t){return arguments.length?(q=t,n):q},n.xUnitCount=function(){if(void 0===D){var t=n.xUnits()(n.x().domain()[0],n.x().domain()[1],n.x().domain());D=t instanceof Array?t.length:t}return D},n.useRightYAxis=function(t){return arguments.length?(nt=t,n):nt},n.isOrdinal=function(){return n.xUnits()===e.units.ordinal},n._useOuterPadding=function(){return!0},n._ordinalXDomain=function(){var t=n._computeOrderedGroups(n.data());return t.map(n.keyAccessor())},n.renderXAxis=function(t){var r=t.selectAll("g.x");r.empty()&&(r=t.append("g").attr("class","axis x").attr("transform","translate("+n.margins().left+","+n._xAxisY()+")"));var a=t.selectAll("text."+y);a.empty()&&n.xAxisLabel()&&(a=t.append("text").attr("transform","translate("+(n.margins().left+n.xAxisLength()/2)+","+(n.height()-P)+")").attr("class",y).attr("text-anchor","middle").text(n.xAxisLabel())),n.xAxisLabel()&&a.text()!=n.xAxisLabel()&&a.text(n.xAxisLabel()),e.transition(r,n.transitionDuration()).call(R)},n._xAxisY=function(){return n.height()-n.margins().bottom},n.xAxisLength=function(){return n.effectiveWidth()},n.xAxisLabel=function(t,e){return arguments.length?(M=t,n.margins().bottom-=P,P=void 0===e?b:e,n.margins().bottom+=P,n):M},n._prepareYAxis=function(e){if(void 0===E||n.elasticY()){E=t.scale.linear();var r=n.yAxisMin()||0,a=n.yAxisMax()||0;E.domain([r,a]).rangeRound([n.yAxisHeight(),0])}E.range([n.yAxisHeight(),0]),j=j.scale(E),nt&&j.orient("right"),n._renderHorizontalGridLinesForAxis(e,E,j)},n.renderYAxisLabel=function(t,e,r,a){a=a||$;var o=n.g().selectAll("text."+v+"."+t+"-label");if(o.empty()&&e){var i=n.margins().top+n.yAxisHeight()/2;o=n.g().append("text").attr("transform","translate("+a+","+i+"),rotate("+r+")").attr("class",v+" "+t+"-label").attr("text-anchor","middle").text(e)}e&&o.text()!=e&&o.text(e)},n.renderYAxisAt=function(t,r,a){var o=n.g().selectAll("g."+t);o.empty()&&(o=n.g().append("g").attr("class","axis "+t).attr("transform","translate("+a+","+n.margins().top+")")),e.transition(o,n.transitionDuration()).call(r)},n.renderYAxis=function(){var t=nt?n.width()-n.margins().right:n._yAxisX();n.renderYAxisAt("y",j,t);var e=nt?n.width()-$:$,r=nt?90:-90;n.renderYAxisLabel("y",n.yAxisLabel(),r,e)},n._renderHorizontalGridLinesForAxis=function(t,r,a){var o=t.selectAll("g."+g);if(I){var i=a.tickValues()?a.tickValues():r.ticks(a.ticks()[0]);o.empty()&&(o=t.insert("g",":first-child").attr("class",p+" "+g).attr("transform","translate("+n.margins().left+","+n.margins().top+")"));var u=o.selectAll("line").data(i),s=u.enter().append("line").attr("x1",1).attr("y1",function(t){return r(t)}).attr("x2",n.xAxisLength()).attr("y2",function(t){return r(t)}).attr("opacity",0);e.transition(s,n.transitionDuration()).attr("opacity",1),e.transition(u,n.transitionDuration()).attr("x1",1).attr("y1",function(t){return r(t)}).attr("x2",n.xAxisLength()).attr("y2",function(t){return r(t)}),u.exit().remove()}else o.selectAll("line").remove()},n._yAxisX=function(){return n.useRightYAxis()?n.width()-n.margins().right:n.margins().left},n.yAxisLabel=function(t,e){return arguments.length?(_=t,n.margins().left-=$,$=void 0===e?b:e,n.margins().left+=$,n):_},n.y=function(t){return arguments.length?(E=t,n):E},n.yAxis=function(t){return arguments.length?(j=t,n):j},n.elasticY=function(t){return arguments.length?(B=t,n):B},n.renderHorizontalGridLines=function(t){return arguments.length?(I=t,n):I},n.renderVerticalGridLines=function(t){return arguments.length?(W=t,n):W},n.xAxisMin=function(){var r=t.min(n.data(),function(t){return n.keyAccessor()(t)});return e.utils.subtract(r,q)},n.xAxisMax=function(){var r=t.max(n.data(),function(t){return n.keyAccessor()(t)});return e.utils.add(r,q)},n.yAxisMin=function(){var r=t.min(n.data(),function(t){return n.valueAccessor()(t)});return e.utils.subtract(r,z)},n.yAxisMax=function(){var r=t.max(n.data(),function(t){return n.valueAccessor()(t)});return e.utils.add(r,z)},n.yAxisPadding=function(t){return arguments.length?(z=t,n):z},n.yAxisHeight=function(){return n.effectiveHeight()},n.round=function(t){return arguments.length?(S=t,n):S},n._rangeBandPadding=function(t){return arguments.length?(et=t,n):et},n._outerRangeBandPadding=function(t){return arguments.length?(tt=t,n):tt},e.override(n,"filter",function(t){return arguments.length?(n._filter(t),t?n.brush().extent(t):n.brush().clear(),n):n._filter()}),n.brush=function(t){return arguments.length?(H=t,n):H},n.renderBrush=function(t){if(U){H.on("brush",n._brushing),H.on("brushstart",n._disableMouseZoom),H.on("brushend",l);var e=t.append("g").attr("class","brush").attr("transform","translate("+n.margins().left+","+n.margins().top+")").call(H.x(n.x()));n.setBrushY(e),n.setHandlePaths(e),n.hasFilter()&&n.redrawBrush(t)}},n.setHandlePaths=function(t){t.selectAll(".resize").append("path").attr("d",n.resizeHandlePath)},n.setBrushY=function(t){t.selectAll("rect").attr("height",o())},n.extendBrush=function(){var t=H.extent();return n.round()&&(t[0]=t.map(n.round())[0],t[1]=t.map(n.round())[1],w.select(".brush").call(H.extent(t))),t},n.brushIsEmpty=function(t){return H.empty()||!t||t[1]<=t[0]},n._brushing=function(){var t=n.extendBrush();if(n.redrawBrush(w),n.brushIsEmpty(t))e.events.trigger(function(){n.filter(null),n.redrawGroup()},e.constants.EVENT_DELAY);else{var r=e.filters.RangedFilter(t[0],t[1]);e.events.trigger(function(){n.replaceFilter(r),n.redrawGroup()},e.constants.EVENT_DELAY)}},n.redrawBrush=function(t){if(U){n.filter()&&n.brush().empty()&&n.brush().extent(n.filter());var e=t.select("g.brush");e.call(n.brush().x(n.x())),n.setBrushY(e)}n.fadeDeselectedArea()},n.fadeDeselectedArea=function(){},n.resizeHandlePath=function(t){var e=+("e"==t),n=e?1:-1,r=o()/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)},n.clipPadding=function(t){return arguments.length?(Q=t,n):Q},n._preprocessData=function(){},n._doRender=function(){return n.resetSvg(),n._preprocessData(),n._generateG(),u(),s(!0),l(),n},n._doRedraw=function(){return n._preprocessData(),s(!1),n},n._enableMouseZoom=function(){K=!0,X.x(n.x()).scaleExtent(Y).size([n.width(),n.height()]),n.root().call(X)},n._disableMouseZoom=function(){n.root().call(Z)},n.focus=function(t){h(t)?n.x().domain(t):n.x().domain(F),X.x(n.x()),c()},n.refocused=function(){return G},n.focusChart=function(t){return arguments.length?(N=t,n.on("filtered",function(t){t.filter()?d(t.filter(),N.filter())||e.events.trigger(function(){N.focus(t.filter())}):e.events.trigger(function(){N.x().domain(N.xOriginalDomain())})}),n):N},n.brushOn=function(t){return arguments.length?(U=t,n):U},n},e.stackMixin=function(n){function r(t,e){var r=t.accessor||n.valueAccessor();return t.name=String(t.name||e),t.values=t.group.all().map(function(e,a){return{x:n.keyAccessor()(e,a),y:t.hidden?null:r(e,a),data:e,layer:t.name,hidden:t.hidden}}),t.values=t.values.filter(a()),t.values}function a(){if(!n.x())return t.functor(!0);var e=n.x().domain();return n.isOrdinal()?function(t){return!0}:n.elasticX()?function(){return!0}:function(t){return t.x>=e[0]&&t.x<=e[e.length-1]}}function o(t){var n=l.map(e.pluck("name")).indexOf(t);return l[n]}function i(){return n.data().reduce(function(t,e){return t.concat(e.values)},[])}function u(t){return!t.hidden}var s=t.layout.stack().values(r),l=[],c={},f=!1;return n.stack=function(t,e,r){if(!arguments.length)return l;arguments.length<=2&&(r=e);var a={group:t};return"string"==typeof e&&(a.name=e),"function"==typeof r&&(a.accessor=r),l.push(a),n},e.override(n,"group",function(t,e,r){return arguments.length?(l=[],c={},n.stack(t,e),r&&n.valueAccessor(r),n._group(t,e)):n._group()}),n.hidableStacks=function(t){return arguments.length?(f=t,n):f},n.hideStack=function(t){var e=o(t);return e&&(e.hidden=!0),n},n.showStack=function(t){var e=o(t);return e&&(e.hidden=!1),n},n.getValueAccessorByIndex=function(t){return l[t].accessor||n.valueAccessor()},n.yAxisMin=function(){var r=t.min(i(),function(t){return t.y+t.y0<t.y0?t.y+t.y0:t.y0});return e.utils.subtract(r,n.yAxisPadding())},n.yAxisMax=function(){var r=t.max(i(),function(t){return t.y+t.y0});return e.utils.add(r,n.yAxisPadding())},n.xAxisMin=function(){var r=t.min(i(),e.pluck("x"));return e.utils.subtract(r,n.xAxisPadding())},n.xAxisMax=function(){var r=t.max(i(),e.pluck("x"));return e.utils.add(r,n.xAxisPadding())},e.override(n,"title",function(t,e){return t?"function"==typeof t?n._title(t):t==n._groupName&&"function"==typeof e?n._title(e):"function"!=typeof e?c[t]||n._title():(c[t]=e,n):n._title()}),n.stackLayout=function(t){return arguments.length?(s=t,n):s},n.data(function(){var t=l.filter(u);return t.length?n.stackLayout()(t):[]}),n._ordinalXDomain=function(){return i().map(e.pluck("x"))},n.colorAccessor(function(t){var e=this.layer||this.name||t.name||t.layer;return e}),n.legendables=function(){return l.map(function(t,e){return{chart:n,name:t.name,hidden:t.hidden||!1,color:n.getColor.call(t,t.values,e)}})},n.isLegendableHidden=function(t){var e=o(t.name);return e?e.hidden:!1},n.legendToggle=function(t){f&&(n.isLegendableHidden(t)?n.showStack(t.name):n.hideStack(t.name),n.renderGroup())},n},e.capMixin=function(n){var r=1/0,a="Others",o=function(e){var r=t.sum(e,n.valueAccessor()),o=n.group().all(),i=t.sum(o,n.valueAccessor()),u=e.map(n.keyAccessor()),s=o.map(n.keyAccessor()),l=t.set(u),c=s.filter(function(t){return!l.has(t)});return i>r?e.concat([{others:c,key:a,value:i-r}]):e};return n.cappedKeyAccessor=function(t,e){return t.others?t.key:n.keyAccessor()(t,e)},n.cappedValueAccessor=function(t,e){return t.others?t.value:n.valueAccessor()(t,e)},n.data(function(t){if(r==1/0)return n._computeOrderedGroups(t.all());var e=t.top(r);return e=n._computeOrderedGroups(e),o?o(e):e}),n.cap=function(t){return arguments.length?(r=t,n):r},n.othersLabel=function(t){return arguments.length?(a=t,n):a},n.othersGrouper=function(t){return arguments.length?(o=t,n):o},e.override(n,"onClick",function(t){t.others&&n.filter([t.others]),n._onClick(t)}),n},e.bubbleMixin=function(n){var r=.3,a=10;n.BUBBLE_NODE_CLASS="node",n.BUBBLE_CLASS="bubble",n.MIN_RADIUS=10,n=e.colorMixin(n),n.renderLabel(!0),n.renderTitle(!1),n.data(function(t){return t.top(1/0)});var o=t.scale.linear().domain([0,100]),i=function(t){return t.r};n.r=function(t){return arguments.length?(o=t,n):o},n.radiusValueAccessor=function(t){return arguments.length?(i=t,n):i},n.rMin=function(){var e=t.min(n.data(),function(t){return n.radiusValueAccessor()(t)});return e},n.rMax=function(){var e=t.max(n.data(),function(t){return n.radiusValueAccessor()(t)});return e},n.bubbleR=function(t){var e=n.radiusValueAccessor()(t),r=n.r()(e);return(isNaN(r)||0>=e)&&(r=0),r};var u=function(t){return n.label()(t)},s=function(t){return n.bubbleR(t)>a?1:0};n._doRenderLabel=function(t){if(n.renderLabel()){var r=t.select("text");r.empty()&&(r=t.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",n.onClick)),r.attr("opacity",0).text(u),e.transition(r,n.transitionDuration()).attr("opacity",s)}},n.doUpdateLabels=function(t){if(n.renderLabel()){var r=t.selectAll("text").text(u);e.transition(r,n.transitionDuration()).attr("opacity",s)}};var l=function(t){return n.title()(t)};return n._doRenderTitles=function(t){if(n.renderTitle()){var e=t.select("title");e.empty()&&t.append("title").text(l)}},n.doUpdateTitles=function(t){n.renderTitle()&&t.selectAll("title").text(l)},n.minRadiusWithLabel=function(t){return arguments.length?(a=t,n):a},n.maxBubbleRelativeSize=function(t){return arguments.length?(r=t,n):r},n.fadeDeselectedArea=function(){n.hasFilter()?n.selectAll("g."+n.BUBBLE_NODE_CLASS).each(function(t){n.isSelectedNode(t)?n.highlightSelected(this):n.fadeDeselected(this)}):n.selectAll("g."+n.BUBBLE_NODE_CLASS).each(function(t){n.resetHighlight(this)})},n.isSelectedNode=function(t){return n.hasFilter(t.key)},n.onClick=function(t){var r=t.key;e.events.trigger(function(){n.filter(r),n.redrawGroup()})},n},e.hierarchyMixin=function(t){function e(e,n){var a=t.lookupDimension(e);i[e].filterValues.forEach(function(t,r){if(t===n){i[e].filterValues.splice(r,1)}}),r(),t._invokeFilteredListener(a)}function n(e,n){var a=function(){return t.lookupDimension(e)};i[e]||(i[e]={dimension:a,filterValues:[]}),i[e].filterValues.push(n),r(),t._invokeFilteredListener(a)}function r(){Object.keys(i).forEach(function(t){var e=i[t].filterValues,n=i[t].dimension(),r=u(n,e);i[t].filterValues=r?r:e})}var a,o=[],i={},u=function(t,e){return t.filter(null),0===e.length?t.filter(null):t.filterFunction(function(t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isFiltered&&r.isFiltered(t))return!0;if(t>=r&&r>=t)return!0}return!1}),e};return t.hasFilter=function(t,e){return arguments.length?e?i[t]?i[t].filterValues.some(function(t){return t===e}):!1:i[t]&&i[t].filterValues&&!!i[t].filterValues.length:0===Object.keys(i).length?!1:Object.keys(i).some(function(t){var e=i[t].filterValues;return e.length>0})},t.replaceFilter=function(t,e){i[t].filterValues=[],_charts.filter(t,e)},t.filter=function(r,a){return arguments.length?void(t.hasFilter(r,a)?e(r,a):n(r,a)):i},t.filterAll=function(e){arguments.length?t.filterAllForLevel(e):Object.keys(i).forEach(function(e){i[e].filterValues=[];var n=i[e].dimension();r(),t._invokeFilteredListener(n)})},t.filterAllForLevel=function(e){if(i[e]){i[e].filterValues=[];var n=i[e].dimension;r(),t._invokeFilteredListener(n)}},t.filters=function(t){return arguments.length?i[t].filterValues:i},t.lookupDimension=function(t){var e="";return o.forEach(function(n){n.columnName===t&&(e=n.dimension)}),e},t._mandatoryAttributes([]),t.levels=function(e){return arguments.length?(o=e,t):o},t.measureColumn=function(e){return arguments.length?(a=e,t):a},t.initData=function(){return t},t},e.pieChart=function(n,r){function a(){S=S?S:t.min([B.width(),B.height()])/2;var e,n=v(),r=b();if(t.sum(B.data(),B.valueAccessor())?(e=r(B.data()),D.classed(O,!1)):(e=r([{key:P,value:1,others:[P]}]),D.classed(O,!0)),D){var a=D.selectAll("g."+q).data(e);o(a,n,e),f(e,n),g(a),m()}}function o(t,e,n){var r=i(t);u(r,e),s(r),c(n,e)}function i(t){var e=t.enter().append("g").attr("class",function(t,e){return q+" _"+e});return e}function u(t,n){var r=t.append("path").attr("fill",F).on("click",M).attr("d",function(t,e){return C(t,e,n)});e.transition(r,B.transitionDuration(),function(t){t.attrTween("d",k)})}function s(t){B.renderTitle()&&t.append("title").text(function(t){return B.title()(t)})}function l(t,n){e.transition(t,B.transitionDuration()).attr("transform",function(t){return E(t,n)}).attr("text-anchor","middle").text(function(t){var e=t.data;return w(e)||x(t)?"":B.label()(t.data)})}function c(t,e){if(B.renderLabel()){var n=D.selectAll("text."+q).data(t);n.exit().remove();var r=n.enter().append("text").attr("class",function(t,e){var n=q+" _"+e;return R&&(n+=" external"),n}).on("click",M);l(r,e)}}function f(t,e){d(t,e),h(t,e),p(t)}function d(t,n){var r=D.selectAll("g."+q).data(t).select("path").attr("d",function(t,e){return C(t,e,n)});e.transition(r,B.transitionDuration(),function(t){t.attrTween("d",k)}).attr("fill",F)}function h(t,e){if(B.renderLabel()){var n=D.selectAll("text."+q).data(t);l(n,e)}}function p(t){B.renderTitle()&&D.selectAll("g."+q).data(t).select("title").text(function(t){return B.title()(t.data)})}
function g(t){t.exit().remove()}function m(){B.hasFilter()?B.selectAll("g."+q).each(function(t){y(t)?B.highlightSelected(this):B.fadeDeselected(this)}):B.selectAll("g."+q).each(function(t){B.resetHighlight(this)})}function v(){return t.svg.arc().outerRadius(S).innerRadius(j)}function y(t){return B.hasFilter(B.cappedKeyAccessor(t.data))}function b(){return t.layout.pie().sort(null).value(B.cappedValueAccessor)}function x(t){var e=t.endAngle-t.startAngle;return isNaN(e)||z>e}function w(t){return 0===B.cappedValueAccessor(t)}function k(e){e.innerRadius=j;var n=this._current;A(n)&&(n={startAngle:0,endAngle:0});var r=t.interpolate(n,e);return this._current=r(0),function(t){return C(r(t),0,v())}}function A(t){return!t||isNaN(t.startAngle)||isNaN(t.endAngle)}function F(t,e){return B.getColor(t.data,e)}function M(t,e){D.attr("class")!=O&&B.onClick(t.data,e)}function C(t,e,n){var r=n(t,e);return r.indexOf("NaN")>=0&&(r="M0,0"),r}function E(e,n){var r;return r=R?t.svg.arc().outerRadius(S+R).innerRadius(S+R).centroid(e):n.centroid(e),isNaN(r[0])||isNaN(r[1])?"translate(0,0)":"translate("+r+")"}function _(e,n){B.selectAll("g.pie-slice").each(function(r){e.name==r.data.key&&t.select(this).classed("highlight",n)})}var S,D,T,N,R,L=.5,q="pie-slice",O="empty-chart",P="empty",j=0,z=L,B=e.capMixin(e.colorMixin(e.baseMixin({})));return B.colorAccessor(B.cappedKeyAccessor),B.title(function(t){return B.cappedKeyAccessor(t)+": "+B.cappedValueAccessor(t)}),B.slicesCap=B.cap,B.label(B.cappedKeyAccessor),B.renderLabel(!0),B.transitionDuration(350),B._doRender=function(){return B.resetSvg(),D=B.svg().append("g").attr("transform","translate("+B.cx()+","+B.cy()+")"),a(),B},B.innerRadius=function(t){return arguments.length?(j=t,B):j},B.radius=function(t){return arguments.length?(S=t,B):S},B.cx=function(t){return arguments.length?(T=t,B):T||B.width()/2},B.cy=function(t){return arguments.length?(N=t,B):N||B.height()/2},B._doRedraw=function(){return a(),B},B.minAngleForLabel=function(t){return arguments.length?(z=t,B):z},B.emptyTitle=function(t){return 0===arguments.length?P:(P=t,B)},B.externalLabels=function(t){return 0===arguments.length?R:(R=t?t:void 0,B)},B.legendables=function(){return B.data().map(function(t,e){var n={name:t.key,data:t.value,others:t.others,chart:B};return n.color=B.getColor(t,e),n})},B.legendHighlight=function(t){_(t,!0)},B.legendReset=function(t){_(t,!1)},B.legendToggle=function(t){B.onClick({key:t.name,others:t.others})},B.anchor(n,r)},e.barChart=function(n,r){function a(t){return e.utils.safeNumber(Math.abs(d.y()(t.y+t.y0)-d.y()(t.y0)))}function o(t,n,r){var o=t.selectAll("rect.bar").data(r.values,e.pluck("x")),i=o.enter().append("rect").attr("class","bar").attr("fill",e.pluck("data",d.getColor)).attr("height",0);d.renderTitle()&&i.append("title").text(e.pluck("data",d.title(r.name))),d.isOrdinal()&&o.on("click",u),e.transition(o,d.transitionDuration()).attr("x",function(t){var n=d.x()(t.x);return p&&(n-=l/2),d.isOrdinal()&&void 0!==h&&(n+=h/2),e.utils.safeNumber(n)}).attr("y",function(t){var n=d.y()(t.y+t.y0);return t.y<0&&(n-=a(t)),e.utils.safeNumber(n)}).attr("width",l).attr("height",function(t){return a(t)}).attr("fill",e.pluck("data",d.getColor)).select("title").text(e.pluck("data",d.title(r.name))),e.transition(o.exit(),d.transitionDuration()).attr("height",0).remove()}function i(){if(void 0===l){var t=d.xUnitCount();l=d.isOrdinal()&&void 0===h?Math.floor(d.x().rangeBand()):h?Math.floor((d.xAxisLength()-(t-1)*h)/t):Math.floor(d.xAxisLength()/(1+d.barPadding())/t),(l==1/0||isNaN(l)||c>l)&&(l=c)}}function u(t){d.onClick(t.data)}function s(e,n){return function(){var r=t.select(this),a=r.attr("fill")==e;return n?!a:a}}var l,c=1,f=2,d=e.stackMixin(e.coordinateGridMixin({})),h=f,p=!1,g=!1;return e.override(d,"rescale",function(){d._rescale(),l=void 0}),e.override(d,"render",function(){d.round()&&p&&!g&&e.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),d._render()}),d.plotData=function(){var e=d.chartBodyG().selectAll("g.stack").data(d.data());i(),e.enter().append("g").attr("class",function(t,e){return"stack _"+e}),e.each(function(e,n){var r=t.select(this);o(r,n,e)})},d.fadeDeselectedArea=function(){var t=d.chartBodyG().selectAll("rect.bar"),n=d.brush().extent();if(d.isOrdinal())d.hasFilter()?(t.classed(e.constants.SELECTED_CLASS,function(t){return d.hasFilter(t.x)}),t.classed(e.constants.DESELECTED_CLASS,function(t){return!d.hasFilter(t.x)})):(t.classed(e.constants.SELECTED_CLASS,!1),t.classed(e.constants.DESELECTED_CLASS,!1));else if(d.brushIsEmpty(n))t.classed(e.constants.DESELECTED_CLASS,!1);else{var r=n[0],a=n[1];t.classed(e.constants.DESELECTED_CLASS,function(t){return t.x<r||t.x>=a})}},d.centerBar=function(t){return arguments.length?(p=t,d):p},d.barPadding=function(t){return arguments.length?(d._rangeBandPadding(t),h=void 0,d):d._rangeBandPadding()},d._useOuterPadding=function(){return void 0===h},d.outerPadding=d._outerRangeBandPadding,d.gap=function(t){return arguments.length?(h=t,d):h},d.extendBrush=function(){var t=d.brush().extent();return!d.round()||p&&!g||(t[0]=t.map(d.round())[0],t[1]=t.map(d.round())[1],d.chartBodyG().select(".brush").call(d.brush().extent(t))),t},d.alwaysUseRounding=function(t){return arguments.length?(g=t,d):g},d.legendHighlight=function(t){d.isLegendableHidden(t)||d.g().selectAll("rect.bar").classed("highlight",s(t.color)).classed("fadeout",s(t.color,!0))},d.legendReset=function(){d.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},e.override(d,"xAxisMax",function(){var t=this._xAxisMax();if("resolution"in d.xUnits()){var e=d.xUnits().resolution;t+=e}return t}),d.anchor(n,r)},e.lineChart=function(n,r){function a(t,e){return F.getColor.call(t,t.values,e)}function o(n,r){var o=t.svg.line().x(function(t){return F.x()(t.x)}).y(function(t){return F.y()(t.y+t.y0)}).interpolate(D).tension(T);m&&o.defined(m);var i=n.append("path").attr("class","line").attr("stroke",a);v&&i.attr("stroke-dasharray",v),e.transition(r.select("path.line"),F.transitionDuration()).attr("stroke",a).attr("d",function(t){return u(o(t.values))})}function i(n,r){if(M){var o=t.svg.area().x(function(t){return F.x()(t.x)}).y(function(t){return F.y()(t.y+t.y0)}).y0(function(t){return F.y()(t.y0)}).interpolate(D).tension(T);m&&o.defined(m),n.append("path").attr("class","area").attr("fill",a).attr("d",function(t){return u(o(t.values))}),e.transition(r.select("path.area"),F.transitionDuration()).attr("fill",a).attr("d",function(t){return u(o(t.values))})}}function u(t){return!t||t.indexOf("NaN")>=0?"M0,0":t}function s(n,r){if(!F.brushOn()){var a=b+"-list",o=n.select("g."+a);o.empty()&&(o=n.append("g").attr("class",a)),r.each(function(n,r){var a=n.values;m&&(a=a.filter(m));var i=o.select("g."+b+"._"+r);i.empty()&&(i=o.append("g").attr("class",b+" _"+r)),l(i);var u=i.selectAll("circle."+x).data(a,e.pluck("x"));u.enter().append("circle").attr("class",x).attr("r",d()).attr("fill",F.getColor).style("fill-opacity",_).style("stroke-opacity",S).on("mousemove",function(e){var n=t.select(this);c(n),f(n,i)}).on("mouseout",function(e){var n=t.select(this);h(n),p(i)}).append("title").text(e.pluck("data",F.title(n.name))),u.attr("cx",function(t){return e.utils.safeNumber(F.x()(t.x))}).attr("cy",function(t){return e.utils.safeNumber(F.y()(t.y+t.y0))}).attr("fill",F.getColor).select("title").text(e.pluck("data",F.title(n.name))),u.exit().remove()})}}function l(t){var e=t.select("path."+w).empty()?t.append("path").attr("class",w):t.select("path."+w);e.style("display","none").attr("stroke-dasharray","5,5");var n=t.select("path."+k).empty()?t.append("path").attr("class",k):t.select("path."+k);n.style("display","none").attr("stroke-dasharray","5,5")}function c(t){return t.style("fill-opacity",.8),t.style("stroke-opacity",.8),t.attr("r",C),t}function f(t,e){var n=t.attr("cx"),r=t.attr("cy"),a=F._yAxisX()-F.margins().left,o="M"+a+" "+r+"L"+n+" "+r,i="M"+n+" "+F.yAxisHeight()+"L"+n+" "+r;e.select("path."+w).style("display","").attr("d",o),e.select("path."+k).style("display","").attr("d",i)}function d(){return E||C}function h(t){t.style("fill-opacity",_).style("stroke-opacity",S).attr("r",d())}function p(t){t.select("path."+w).style("display","none"),t.select("path."+k).style("display","none")}function g(e,n,r){return function(){var a=t.select(this),o=a.attr("stroke")==e&&a.attr("stroke-dasharray")==(n instanceof Array?n.join(","):null)||a.attr("fill")==e;return r?!o:o}}var m,v,y=5,b="dc-tooltip",x="dot",w="yRef",k="xRef",A=1e-6,F=e.stackMixin(e.coordinateGridMixin({})),M=!1,C=y,E=null,_=A,S=A,D="linear",T=.7;return F.transitionDuration(500),F._rangeBandPadding(1),F.plotData=function(){var t=F.chartBodyG(),e=t.selectAll("g.stack-list");e.empty()&&(e=t.append("g").attr("class","stack-list"));var n=e.selectAll("g.stack").data(F.data()),r=n.enter().append("g").attr("class",function(t,e){return"stack _"+e});o(r,n),i(r,n),s(t,n)},F.interpolate=function(t){return arguments.length?(D=t,F):D},F.tension=function(t){return arguments.length?(T=t,F):T},F.defined=function(t){return arguments.length?(m=t,F):m},F.dashStyle=function(t){return arguments.length?(v=t,F):v},F.renderArea=function(t){return arguments.length?(M=t,F):M},F.dotRadius=function(t){return arguments.length?(C=t,F):C},F.renderDataPoints=function(t){return arguments.length?(t?(_=t.fillOpacity||.8,S=t.strokeOpacity||.8,E=t.radius||2):(_=A,S=A,E=null),F):{fillOpacity:_,strokeOpacity:S,radius:E}},F.legendHighlight=function(t){F.isLegendableHidden(t)||F.g().selectAll("path.line, path.area").classed("highlight",g(t.color,t.dashstyle)).classed("fadeout",g(t.color,t.dashstyle,!0))},F.legendReset=function(){F.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},e.override(F,"legendables",function(){var t=F._legendables();return v?t.map(function(t){return t.dashstyle=v,t}):t}),F.anchor(n,r)},e.dataCount=function(n,r){var a=t.format(",d"),o=e.baseMixin({}),i={some:"",all:""};return o.html=function(t){return arguments.length?(t.all&&(i.all=t.all),t.some&&(i.some=t.some),o):i},o._doRender=function(){var t=o.dimension().size(),e=o.group().value(),n=a(t),r=a(e);return t===e&&""!==i.all?o.root().html(i.all.replace("%total-count",n).replace("%filter-count",r)):""!==i.some?o.root().html(i.some.replace("%total-count",n).replace("%filter-count",r)):(o.selectAll(".total-count").text(n),o.selectAll(".filter-count").text(r)),o},o._doRedraw=function(){return o._doRender()},o.anchor(n,r)},e.dataTable=function(n,r){function a(){var t=f.root().selectAll("tbody").data(o(),function(t){return f.keyAccessor()(t)}),e=t.enter().append("tbody");return e.append("tr").attr("class",c).append("td").attr("class",u).attr("colspan",h.length).html(function(t){return f.keyAccessor()(t)}),t.exit().remove(),e}function o(){var e=f.dimension().top(d);return t.nest().key(f.group()).sortKeys(g).entries(e.sort(function(t,e){return g(p(t),p(e))}))}function i(t){var e=t.order().selectAll("tr."+s).data(function(t){return t.values}),n=e.enter().append("tr").attr("class",s);return h.forEach(function(t,e){n.append("td").attr("class",l+" _"+e).html(t)}),e.exit().remove(),e}var u="dc-table-label",s="dc-table-row",l="dc-table-column",c="dc-table-group",f=e.baseMixin({}),d=25,h=[],p=function(t){return t},g=t.ascending;return f._doRender=function(){return f.selectAll("tbody").remove(),i(a()),f},f._doRedraw=function(){return f._doRender()},f.size=function(t){return arguments.length?(d=t,f):d},f.columns=function(t){return arguments.length?(h=t,f):h},f.sortBy=function(t){return arguments.length?(p=t,f):p},f.order=function(t){return arguments.length?(g=t,f):g},f.anchor(n,r)},e.dataGrid=function(n,r){function a(){var t=f.root().selectAll("div."+c).data(o(),function(t){return f.keyAccessor()(t)}),e=t.enter().append("div").attr("class",c);return m&&e.html(function(t){return m(t)}),t.exit().remove(),e}function o(){var e=f.dimension().top(d);return t.nest().key(f.group()).sortKeys(g).entries(e.sort(function(t,e){return g(p(t),p(e))}))}function i(t){var e=t.order().selectAll("div."+s).data(function(t){return t.values});return e.enter().append("div").attr("class",s).html(function(t){return h(t)}),e.exit().remove(),e}var u="dc-grid-label",s="dc-grid-item",l="dc-grid-group",c="dc-grid-top",f=e.baseMixin({}),d=999,h=function(t){return"you need to provide an html() handling param:  "+JSON.stringify(t)},p=function(t){return t},g=t.ascending,m=function(t){return"<div class='"+l+"'><h1 class='"+u+"'>"+f.keyAccessor()(t)+"</h1></div>"};return f._doRender=function(){return f.selectAll("div."+c).remove(),i(a()),f},f._doRedraw=function(){return f._doRender()},f.size=function(t){return arguments.length?(d=t,f):d},f.html=function(t){return arguments.length?(h=t,f):h},f.htmlGroup=function(t){return arguments.length?(m=t,f):m},f.sortBy=function(t){return arguments.length?(p=t,f):p},f.order=function(t){return arguments.length?(g=t,f):g},f.anchor(n,r)},e.bubbleChart=function(t,n){function r(t){var n=t.enter().append("g");n.attr("class",s.BUBBLE_NODE_CLASS).attr("transform",c).append("circle").attr("class",function(t,e){return s.BUBBLE_CLASS+" _"+e}).on("click",s.onClick).attr("fill",s.getColor).attr("r",0),e.transition(t,s.transitionDuration()).selectAll("circle."+s.BUBBLE_CLASS).attr("r",function(t){return s.bubbleR(t)}).attr("opacity",function(t){return s.bubbleR(t)>0?1:0}),s._doRenderLabel(n),s._doRenderTitles(n)}function a(t){e.transition(t,s.transitionDuration()).attr("transform",c).selectAll("circle."+s.BUBBLE_CLASS).attr("fill",s.getColor).attr("r",function(t){return s.bubbleR(t)}).attr("opacity",function(t){return s.bubbleR(t)>0?1:0}),s.doUpdateLabels(t),s.doUpdateTitles(t)}function o(t){t.exit().remove()}function i(t){var e=s.x()(s.keyAccessor()(t));return isNaN(e)&&(e=0),e}function u(t){var e=s.y()(s.valueAccessor()(t));return isNaN(e)&&(e=0),e}var s=e.bubbleMixin(e.coordinateGridMixin({})),l=!1;s.transitionDuration(750);var c=function(t){return"translate("+i(t)+","+u(t)+")"};return s.elasticRadius=function(t){return arguments.length?(l=t,s):l},s.plotData=function(){l&&s.r().domain([s.rMin(),s.rMax()]),s.r().range([s.MIN_RADIUS,s.xAxisLength()*s.maxBubbleRelativeSize()]);var t=s.chartBodyG().selectAll("g."+s.BUBBLE_NODE_CLASS).data(s.data(),function(t){return t.key});r(t),a(t),o(t),s.fadeDeselectedArea()},s.renderBrush=function(t){},s.redrawBrush=function(t){s.fadeDeselectedArea()},s.anchor(t,n)},e.compositeChart=function(n,r){function a(){(void 0===x.rightY()||x.elasticY())&&(x.rightY(t.scale.linear()),x.rightY().domain([f(),p()]).rangeRound([x.yAxisHeight(),0])),x.rightY().range([x.yAxisHeight(),0]),x.rightYAxis(x.rightYAxis().scale(x.rightY())),x.rightYAxis().orient("right")}function o(){(void 0===x.y()||x.elasticY())&&(x.y(t.scale.linear()),x.y().domain([c(),h()]).rangeRound([x.yAxisHeight(),0])),x.y().range([x.yAxisHeight(),0]),x.yAxis(x.yAxis().scale(x.y())),x.yAxis().orient("left")}function i(t,e){t._generateG(x.g()),t.g().attr("class",y+" _"+e)}function u(){return w.filter(function(t){return!t.useRightYAxis()})}function s(){return w.filter(function(t){return t.useRightYAxis()})}function l(t){return t.map(function(t){return t.yAxisMin()})}function c(){return t.min(l(u()))}function f(){return t.min(l(s()))}function d(t){return t.map(function(t){return t.yAxisMax()})}function h(){return e.utils.add(t.max(d(u())),x.yAxisPadding())}function p(){return e.utils.add(t.max(d(s())),x.yAxisPadding())}function g(){return w.map(function(t){return t.xAxisMin()})}function m(){return w.map(function(t){return t.xAxisMax()})}var v,y="sub",b=12,x=e.coordinateGridMixin({}),w=[],k={},A=!1,F=!0,M=t.svg.axis(),C=0,E=b,_=!1;return x._mandatoryAttributes([]),x.transitionDuration(500),e.override(x,"_generateG",function(){for(var t=this.__generateG(),e=0;e<w.length;++e){var n=w[e];i(n,e),n.dimension()||n.dimension(x.dimension()),n.group()||n.group(x.group()),n.chartGroup(x.chartGroup()),n.svg(x.svg()),n.xUnits(x.xUnits()),n.transitionDuration(x.transitionDuration()),n.brushOn(x.brushOn())}return t}),x._brushing=function(){for(var t=x.extendBrush(),e=x.brushIsEmpty(t),n=0;n<w.length;++n)w[n].filter(null),e||w[n].filter(t)},x._prepareYAxis=function(){0!==u().length&&o(),0!==s().length&&a(),u().length>0&&!_?x._renderHorizontalGridLinesForAxis(x.g(),x.y(),x.yAxis()):s().length>0&&x._renderHorizontalGridLinesForAxis(x.g(),v,M)},x.renderYAxis=function(){0!==u().length&&(x.renderYAxisAt("y",x.yAxis(),x.margins().left),x.renderYAxisLabel("y",x.yAxisLabel(),-90)),0!==s().length&&(x.renderYAxisAt("yr",x.rightYAxis(),x.width()-x.margins().right),x.renderYAxisLabel("yr",x.rightYAxisLabel(),90,x.width()-E))},x.plotData=function(){for(var t=0;t<w.length;++t){var e=w[t];e.g()||i(e,t),A&&e.colors(x.colors()),e.x(x.x()),e.xAxis(x.xAxis()),e.useRightYAxis()?(e.y(x.rightY()),e.yAxis(x.rightYAxis())):(e.y(x.y()),e.yAxis(x.yAxis())),e.plotData(),e._activateRenderlets()}},x.useRightAxisGridLines=function(t){return arguments?(_=t,x):_},x.childOptions=function(t){return arguments.length?(k=t,w.forEach(function(t){t.options(k)}),x):k},x.fadeDeselectedArea=function(){for(var t=0;t<w.length;++t){var e=w[t];e.brush(x.brush()),e.fadeDeselectedArea()}},x.rightYAxisLabel=function(t,e){return arguments.length?(C=t,x.margins().right-=E,E=void 0===e?b:e,x.margins().right+=E,x):C},x.compose=function(t){return w=t,w.forEach(function(t){t.height(x.height()),t.width(x.width()),t.margins(x.margins()),F&&t.title(x.title()),t.options(k)}),x},x.children=function(){return w},x.shareColors=function(t){return arguments.length?(A=t,x):A},x.shareTitle=function(t){return arguments.length?(F=t,x):F},x.rightY=function(t){return arguments.length?(v=t,x):v},delete x.yAxisMin,delete x.yAxisMax,e.override(x,"xAxisMin",function(){return e.utils.subtract(t.min(g()),x.xAxisPadding())}),e.override(x,"xAxisMax",function(){return e.utils.add(t.max(m()),x.xAxisPadding())}),x.legendables=function(){return w.reduce(function(t,e){return A&&e.colors(x.colors()),t.push.apply(t,e.legendables()),t},[])},x.legendHighlight=function(t){for(var e=0;e<w.length;++e){var n=w[e];n.legendHighlight(t)}},x.legendReset=function(t){for(var e=0;e<w.length;++e){var n=w[e];n.legendReset(t)}},x.legendToggle=function(t){console.log("composite should not be getting legendToggle itself")},x.rightYAxis=function(t){return arguments.length?(M=t,x):M},x.anchor(n,r)},e.seriesChart=function(n,r){function a(e,n){return t.ascending(s.keyAccessor()(e),s.keyAccessor()(n))}function o(t){l[t].g()&&l[t].g().remove(),delete l[t]}function i(){Object.keys(l).map(o),l={}}var u,s=e.compositeChart(n,r),l={},c=e.lineChart,f=t.ascending,d=a;return s._mandatoryAttributes().push("seriesAccessor","chart"),s.shareColors(!0),s._preprocessData=function(){var e,n=[],a=t.nest().key(u);f&&a.sortKeys(f),d&&a.sortValues(d);var i=a.entries(s.data()),h=i.map(function(a,o){var i=l[a.key]||c.call(s,s,r,a.key,o);return l[a.key]||(e=!0),l[a.key]=i,n.push(a.key),i.dimension(s.dimension()).group({all:t.functor(a.values)},a.key).keyAccessor(s.keyAccessor()).valueAccessor(s.valueAccessor()).brushOn(s.brushOn())});Object.keys(l).filter(function(t){return-1===n.indexOf(t)}).forEach(function(t){o(t),e=!0}),s._compose(h),e&&s.legend()&&s.legend().render()},s.chart=function(t){return arguments.length?(c=t,i(),s):c},s.seriesAccessor=function(t){return arguments.length?(u=t,i(),s):u},s.seriesSort=function(t){return arguments.length?(f=t,i(),s):f},s.valueSort=function(t){return arguments.length?(d=t,i(),s):d},s._compose=s.compose,delete s.compose,s},e.geoChoroplethChart=function(n,r){function a(t){var e=o();if(i(t)){var n=u(t);h(n,t,e),p(n,t,e)}}function o(){for(var t={},e=x.data(),n=0;n<e.length;++n)t[x.keyAccessor()(e[n])]=x.valueAccessor()(e[n]);return t}function i(t){return d(t).keyAccessor}function u(t){var n=F.selectAll(s(t)).classed("selected",function(e){return l(t,e)}).classed("deselected",function(e){return c(t,e)}).attr("class",function(n){var r=d(t).name,a=e.utils.nameToId(d(t).keyAccessor(n)),o=r+" "+a;return l(t,n)&&(o+=" selected"),c(t,n)&&(o+=" deselected"),o});return n}function s(t){return"g.layer"+t+" g."+d(t).name}function l(t,e){return x.hasFilter()&&x.hasFilter(f(t,e))}function c(t,e){return x.hasFilter()&&!x.hasFilter(f(t,e))}function f(t,e){return d(t).keyAccessor(e)}function d(t){return C[t]}function h(n,r,a){var o=n.select("path").attr("fill",function(){var e=t.select(this).attr("fill");return e?e:"none"}).on("click",function(e){return t.event.defaultPrevented?void 0:x.onClick(e,r)});e.transition(o,x.transitionDuration()).attr("fill",function(t,e){return x.getColor(a[d(r).keyAccessor(t)],e)})}function p(t,e,n){x.renderTitle()&&t.selectAll("title").text(function(t){var r=f(e,t),a=n[r];return x.title()({key:r,value:a})})}function g(){x.select("."+S).html("");var t=x.select("."+S).append("div").classed("dc-zoom-button",!0),e=t.append("div").classed("in",!0).text("+"),n=t.append("div").classed("out",!0).text("-"),r=x.select("."+D).html("");r=x.select("."+D).append("div").classed("dc-zoom-reset",!0).text("Reset Zoom").on("click",function(){b(),A(F,1)}),e.on("click",function(){2*k.scale()>k.scaleExtent()[1]||y(2*k.scale())}),n.on("click",function(){k.scale()/2<k.scaleExtent()[0]?b():y(k.scale()/2)})}function m(){var e,n,r=x.width()/2-50,a=x.width()/2;t.event?(e=t.event.scale,n=t.event.translate):(e=k.scale(),n=k.translate()),n[0]=Math.min((x.width()/2-r-100)*(e-1),Math.max((x.width()/2+r)*(1-e),n[0])),n[1]=Math.min((x.height()/2-a+200)*(e-1),Math.max((x.height()/2+a-175)*(1-e),n[1])),k.translate(n),F.attr("transform","translate("+n+")scale("+e+")"),A&&A(F,e)}function v(e,n){return t.transition().duration(350).tween("zoom",function(){var r=t.interpolate(k.translate(),e),a=t.interpolate(k.scale(),n);return function(t){k.scale(a(t)).translate(r(t)),m()}})}function y(e){var n=k.translate(),r=[],a=[],o={x:n[0],y:n[1],k:k.scale()},i=k.scaleExtent(),u=[x.width()/2,x.height()/2],s=e;x.width()/2-50,x.width()/2;return t.event.preventDefault(),s<i[0]||s>i[1]?!1:(r=[(u[0]-o.x)/o.k,(u[1]-o.y)/o.k],o.k=s,a=[r[0]*o.k+o.x,r[1]*o.k+o.y],o.x+=u[0]-a[0],o.y+=u[1]-a[1],void v([o.x,o.y],o.k))}function b(){k.scale(1),k.translate([0,0]),F.transition().duration(500).attr("transform","translate(0,0)scale(1)")}var x=e.colorMixin(e.baseMixin({}));x.colorAccessor(function(t){return t||0});var w,k,A,F,M=t.geo.path(),C=[],E=[1,50],_=m,S="zoomButton",D="resetZoomButton",T=!1;return x._doRender=function(){x.resetSvg(),F=x.svg().append("g");for(var e=0;e<C.length;++e){var n=F.append("g").attr("class","layer"+e),r=n.selectAll("g."+d(e).name).data(d(e).data).enter().append("g").attr("class",d(e).name);r.append("path").attr("fill","white").attr("d",M),r.append("title"),a(e)}w=!1,T&&(k=t.behavior.zoom().scaleExtent(E).on("zoom",_),x.svg().call(k),g())},x.enableZoom=function(t){return arguments.length?(T=t,x):T},x.afterZoom=function(t){return arguments.length?(A=t,x):A},x.onClick=function(t,n){var r=d(n).keyAccessor(t);e.events.trigger(function(){x.filter(r),x.redrawGroup()})},x._doRedraw=function(){for(var t=0;t<C.length;++t)a(t),w&&F.selectAll("g."+d(t).name+" path").attr("d",M);w=!1},x.overlayGeoJson=function(t,e,n){for(var r=0;r<C.length;++r)if(C[r].name===e)return C[r].data=t,C[r].keyAccessor=n,x;return C.push({name:e,data:t,keyAccessor:n}),x},x.projection=function(t){return M.projection(t),w=!0,x},x.geoJsons=function(){return C},x.geoPath=function(){return M},x.removeGeoJson=function(t){for(var e=[],n=0;n<C.length;++n){var r=C[n];r.name!==t&&e.push(r)}return C=e,x},x.anchor(n,r)},e.bubbleOverlay=function(n,r){function a(){return l=h.select("g."+c),l.empty()&&(l=h.svg().append("g").attr("class",c)),l}function o(){var t=i();p.forEach(function(n){var r=u(n,t),a=r.select("circle."+d);a.empty()&&(a=r.append("circle").attr("class",d).attr("r",0).attr("fill",h.getColor).on("click",h.onClick)),e.transition(a,h.transitionDuration()).attr("r",function(t){return h.bubbleR(t)}),h._doRenderLabel(r),h._doRenderTitles(r)})}function i(){var t={};return h.data().forEach(function(e){t[h.keyAccessor()(e)]=e}),t}function u(t,n){var r=f+" "+e.utils.nameToId(t.name),a=l.select("g."+e.utils.nameToId(t.name));return a.empty()&&(a=l.append("g").attr("class",r).attr("transform","translate("+t.x+","+t.y+")")),a.datum(n[t.name]),a}function s(){var t=i();p.forEach(function(n){var r=u(n,t),a=r.select("circle."+d);e.transition(a,h.transitionDuration()).attr("r",function(t){return h.bubbleR(t)}).attr("fill",h.getColor),h.doUpdateLabels(r),h.doUpdateTitles(r)})}var l,c="bubble-overlay",f="node",d="bubble",h=e.bubbleMixin(e.baseMixin({})),p=[];return h.transitionDuration(750),h.radiusValueAccessor(function(t){return t.value}),h.point=function(t,e,n){return p.push({name:t,x:e,y:n}),h},h._doRender=function(){return l=a(),h.r().range([h.MIN_RADIUS,h.width()*h.maxBubbleRelativeSize()]),o(),h.fadeDeselectedArea(),h},h._doRedraw=function(){return s(),h.fadeDeselectedArea(),h},h.debug=function(n){if(n){var r=h.select("g."+e.constants.DEBUG_GROUP_CLASS);r.empty()&&(r=h.svg().append("g").attr("class",e.constants.DEBUG_GROUP_CLASS));var a=r.append("text").attr("x",10).attr("y",20);r.append("rect").attr("width",h.width()).attr("height",h.height()).on("mousemove",function(){var e=t.mouse(r.node()),n=e[0]+", "+e[1];a.text(n)})}else h.selectAll(".debug").remove();return h},h.anchor(n,r),h},e.rowChart=function(n,r){function a(){if(!b||x){var e=t.extent(w,D.cappedValueAccessor);e[0]>0&&(e[0]=0),b=t.scale.linear().domain(e).range([0,D.effectiveWidth()])}T.scale(b)}function o(){var t=y.select("g.axis");a(),t.empty()&&(t=y.append("g").attr("class","axis").attr("transform","translate(0, "+D.effectiveHeight()+")")),e.transition(t,D.transitionDuration()).call(T)}function i(){y.selectAll("g.tick").select("line.grid-line").remove(),y.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-D.effectiveHeight()})}function u(){w=D.data(),o(),i();var t=y.selectAll("g."+E).data(w);s(t),l(t),f(t)}function s(t){var e=t.enter().append("g").attr("class",function(t,e){return E+" _"+e});e.append("rect").attr("width",0),h(e),p(t)}function l(t){t.exit().remove()}function c(){var t=b(0);return t===-(1/0)?b(1):t}function f(t){var n,r=w.length;n=C?C:(D.effectiveHeight()-(r+1)*M)/r;var a=t.attr("transform",function(t,e){return"translate(0,"+((e+1)*M+e*n)+")"}).select("rect").attr("height",n).attr("fill",D.getColor).on("click",g).classed("deselected",function(t){return D.hasFilter()?!v(t):!1}).classed("selected",function(t){return D.hasFilter()?v(t):!1});e.transition(a,D.transitionDuration()).attr("width",function(t){return Math.abs(c()-b(D.valueAccessor()(t)))}).attr("transform",m),d(t),p(t)}function d(t){D.renderTitle()&&(t.selectAll("title").remove(),t.append("title").text(D.title()))}function h(t){D.renderLabel()&&t.append("text").on("click",g),D.renderTitleLabel()&&t.append("text").attr("class",_).on("click",g)}function p(t){if(D.renderLabel()){var n=t.select("text").attr("x",k).attr("y",A).on("click",g).attr("class",function(t,e){return E+" _"+e}).text(function(t){return D.label()(t)});e.transition(n,D.transitionDuration()).attr("transform",m)}if(D.renderTitleLabel()){var r=t.select("."+_).attr("x",D.effectiveWidth()-F).attr("y",A).attr("text-anchor","end").on("click",g).attr("class",function(t,e){return _+" _"+e}).text(function(t){return D.title()(t)});e.transition(r,D.transitionDuration()).attr("transform",m)}}function g(t){D.onClick(t)}function m(t){var e=b(D.cappedValueAccessor(t)),n=c(),r=e>n?n:e;return"translate("+r+",0)"}function v(t){return D.hasFilter(D.cappedKeyAccessor(t))}var y,b,x,w,k=10,A=15,F=2,M=5,C=!1,E="row",_="titlerow",S=!1,D=e.capMixin(e.marginMixin(e.colorMixin(e.baseMixin({})))),T=t.svg.axis().orient("bottom");return D.rowsCap=D.cap,D._doRender=function(){return D.resetSvg(),y=D.svg().append("g").attr("transform","translate("+D.margins().left+","+D.margins().top+")"),u(),D},D.title(function(t){return D.cappedKeyAccessor(t)+": "+D.cappedValueAccessor(t)}),D.label(D.cappedKeyAccessor),D.x=function(t){return arguments.length?(b=t,D):b},D.renderTitleLabel=function(t){return arguments.length?(S=t,D):S},D._doRedraw=function(){return u(),D},D.xAxis=function(){return T},D.fixedBarHeight=function(t){return arguments.length?(C=t,D):C},D.gap=function(t){return arguments.length?(M=t,D):M},D.elasticX=function(t){return arguments.length?(x=t,D):x},D.labelOffsetX=function(t){return arguments.length?(k=t,D):k},D.labelOffsetY=function(t){return arguments.length?(A=t,D):A},D.titleLabelOffsetX=function(t){return arguments.length?(F=t,D):F},D.anchor(n,r)},e.legend=function(){function t(){return l+s}var n,r,a=2,o={},i=0,u=0,s=12,l=5,c=!1,f=560,d=70;return o.parent=function(t){return arguments.length?(n=t,o):n},o.render=function(){n.svg().select("g.dc-legend").remove(),r=n.svg().append("g").attr("class","dc-legend").attr("transform","translate("+i+","+u+")");var o=n.legendables(),l=r.selectAll("g.dc-legend-item").data(o).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(t){n.legendHighlight(t)}).on("mouseout",function(t){n.legendReset(t)}).on("click",function(t){t.chart.legendToggle(t)});r.selectAll("g.dc-legend-item").classed("fadeout",function(t){return t.chart.isLegendableHidden(t)}),o.some(e.pluck("dashstyle"))?l.append("line").attr("x1",0).attr("y1",s/2).attr("x2",s).attr("y2",s/2).attr("stroke-width",2).attr("stroke-dasharray",e.pluck("dashstyle")).attr("stroke",e.pluck("color")):l.append("rect").attr("width",s).attr("height",s).attr("fill",function(t){return t?t.color:"blue"}),l.append("text").text(e.pluck("name")).attr("x",s+a).attr("y",function(){return s/2+(this.clientHeight?this.clientHeight:13)/2-2});var h=0,p=0;l.attr("transform",function(e,n){if(c){var r="translate("+h+","+p*t()+")";return h+d>=f?(++p,h=0):h+=d,r}return"translate(0,"+n*t()+")"})},o.x=function(t){return arguments.length?(i=t,o):i},o.y=function(t){return arguments.length?(u=t,o):u},o.gap=function(t){return arguments.length?(l=t,o):l},o.itemHeight=function(t){return arguments.length?(s=t,o):s},o.horizontal=function(t){return arguments.length?(c=t,o):c},o.legendWidth=function(t){return arguments.length?(f=t,o):f},o.itemWidth=function(t){return arguments.length?(d=t,o):d},o},e.scatterPlot=function(n,r){function a(n,r){var a=i.selectAll(".chart-body path.symbol").filter(function(e){return n(t.select(this))}),o=u.size();u.size(Math.pow(r,2)),e.transition(a,i.transitionDuration()).attr("d",u),u.size(o)}function o(t){var n=i.selectAll(".chart-body path.symbol").each(function(e){this.filtered=t&&t.isFiltered(e.key)});e.transition(n,i.transitionDuration()).attr("d",u)}var i=e.coordinateGridMixin({}),u=t.svg.symbol(),s=i.keyAccessor();i.keyAccessor(function(t){return s(t)[0]}),i.valueAccessor(function(t){return s(t)[1]}),i.colorAccessor(function(t){return i._groupName});var l=function(t){return"translate("+i.x()(i.keyAccessor()(t))+","+i.y()(i.valueAccessor()(t))+")"},c=3,f=5,d=0;return u.size(function(t){return 0===t.value?d:this.filtered?Math.pow(f,2):Math.pow(c,2)}),e.override(i,"_filter",function(t){return arguments.length?i.__filter(e.filters.RangedTwoDimensionalFilter(t)):i.__filter()}),i.plotData=function(){var t=i.chartBodyG().selectAll("path.symbol").data(i.data());t.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",i.getColor).attr("transform",l),e.transition(t,i.transitionDuration()).attr("opacity",function(t){return t.value?1:0}).attr("fill",i.getColor).attr("transform",l).attr("d",u),e.transition(t.exit(),i.transitionDuration()).attr("opacity",0).remove()},i.symbol=function(t){return arguments.length?(u.type(t),i):u.type()},i.symbolSize=function(t){return arguments.length?(c=t,i):c},i.highlightedSize=function(t){return arguments.length?(f=t,i):f},i.hiddenSize=function(t){return arguments.length?(d=t,i):d},i.legendables=function(){return[{chart:i,name:i._groupName,color:i.getColor()}]},i.legendHighlight=function(e){a(function(t){return t.attr("fill")==e.color;
},f),i.selectAll(".chart-body path.symbol").filter(function(){return t.select(this).attr("fill")!=e.color}).classed("fadeout",!0)},i.legendReset=function(e){a(function(t){return t.attr("fill")==e.color},c),i.selectAll(".chart-body path.symbol").filter(function(){return t.select(this).attr("fill")!=e.color}).classed("fadeout",!1)},i.setHandlePaths=function(){},i.extendBrush=function(){var t=i.brush().extent();return i.round()&&(t[0]=t[0].map(i.round()),t[1]=t[1].map(i.round()),i.g().select(".brush").call(i.brush().extent(t))),t},i.brushIsEmpty=function(t){return i.brush().empty()||!t||t[0][0]>=t[1][0]||t[0][1]>=t[1][1]},i._brushing=function(){var t=i.extendBrush();if(i.redrawBrush(i.g()),i.brushIsEmpty(t))e.events.trigger(function(){i.filter(null),i.redrawGroup()}),o(!1);else{var n=e.filters.RangedTwoDimensionalFilter(t);e.events.trigger(function(){i.filter(null),i.filter(n),i.redrawGroup()},e.constants.EVENT_DELAY),o(n)}},i.setBrushY=function(t){t.call(i.brush().y(i.y()))},i.anchor(n,r)},e.numberDisplay=function(n,r){var a="number-display",o=t.format(".2s"),i=e.baseMixin({}),u={one:"",some:"",none:""};return i._mandatoryAttributes(["group"]),i.html=function(t){return arguments.length?(t.none?u.none=t.none:t.one?u.none=t.one:t.some&&(u.none=t.some),t.one?u.one=t.one:t.some&&(u.one=t.some),t.some?u.some=t.some:t.one&&(u.some=t.one),i):u},i.value=function(){return i.data()},i.data(function(t){var e=t.value?t.value():t.top(1)[0];return i.valueAccessor()(e)}),i.transitionDuration(250),i._doRender=function(){var e=i.value(),n=i.selectAll("."+a);n.empty()&&(n=n.data([0]).enter().append("span").attr("class",a)),n.transition().duration(i.transitionDuration()).ease("quad-out-in").tween("text",function(){var n=t.interpolateNumber(this.lastValue||0,e);return this.lastValue=e,function(t){var r=null,a=i.formatNumber()(n(t));0===e&&""!==u.none?r=u.none:1===e&&""!==u.one?r=u.one:""!==u.some&&(r=u.some),this.innerHTML=r?r.replace("%number",a):a}})},i._doRedraw=function(){return i._doRender()},i.formatNumber=function(t){return arguments.length?(o=t,i):o},i.anchor(n,r)},e.heatMap=function(n,r){function a(t,n){var r=d.selectAll(".box-group").filter(function(e){return e.key[t]==n}),a=r.filter(function(t){return!d.hasFilter(t.key)});e.events.trigger(function(){a.empty()?r.each(function(t){d.filter(t.key)}):a.each(function(t){d.filter(t.key)}),d.redrawGroup()})}function o(t,e,n){return!e||n[e-1]!=t}var i,u,s,l=6.75,c=l,f=l,d=e.colorMixin(e.marginMixin(e.baseMixin({})));d._mandatoryAttributes(["group"]),d.title(d.colorAccessor());var h=function(t){a(0,t)},p=function(t){a(1,t)},g=function(t){var n=t.key;e.events.trigger(function(){d.filter(n),d.redrawGroup()})};return e.override(d,"filter",function(t){return arguments.length?d._filter(e.filters.TwoDimensionalFilter(t)):d._filter()}),d.rows=function(e){if(arguments.length)return s=e,d;if(s)return s;var n=d.data().map(d.valueAccessor());return n.sort(t.ascending),t.scale.ordinal().domain(n.filter(o))},d.cols=function(e){if(arguments.length)return u=e,d;if(u)return u;var n=d.data().map(d.keyAccessor());return n.sort(t.ascending),t.scale.ordinal().domain(n.filter(o))},d._doRender=function(){return d.resetSvg(),i=d.svg().append("g").attr("class","heatmap").attr("transform","translate("+d.margins().left+","+d.margins().top+")"),d._doRedraw()},d._doRedraw=function(){var t=d.rows(),n=d.cols(),r=t.domain().length,a=n.domain().length,o=Math.floor(d.effectiveWidth()/a),u=Math.floor(d.effectiveHeight()/r);n.rangeRoundBands([0,d.effectiveWidth()]),t.rangeRoundBands([d.effectiveHeight(),0]);var s=i.selectAll("g.box-group").data(d.data(),function(t,e){return d.keyAccessor()(t,e)+"\x00"+d.valueAccessor()(t,e)}),l=s.enter().append("g").attr("class","box-group");l.append("rect").attr("class","heat-box").attr("fill","white").on("click",d.boxOnClick()),l.append("title").text(d.title()),e.transition(s.selectAll("rect"),d.transitionDuration()).attr("x",function(t,e){return n(d.keyAccessor()(t,e))}).attr("y",function(e,n){return t(d.valueAccessor()(e,n))}).attr("rx",c).attr("ry",f).attr("fill",d.getColor).attr("width",o).attr("height",u),s.exit().remove();var h=i.selectAll("g.cols");h.empty()&&(h=i.append("g").attr("class","cols axis"));var p=h.selectAll("text").data(n.domain());p.enter().append("text").attr("x",function(t){return n(t)+o/2}).style("text-anchor","middle").attr("y",d.effectiveHeight()).attr("dy",12).on("click",d.xAxisOnClick()).text(function(t){return t}),e.transition(p,d.transitionDuration()).text(function(t){return t}).attr("x",function(t){return n(t)+o/2}),p.exit().remove();var g=i.selectAll("g.rows");g.empty()&&(g=i.append("g").attr("class","rows axis"));var m=g.selectAll("text").data(t.domain());return m.enter().append("text").attr("dy",6).style("text-anchor","end").attr("x",0).attr("dx",-2).on("click",d.yAxisOnClick()).text(function(t){return t}),e.transition(m,d.transitionDuration()).text(function(t){return t}).attr("y",function(e){return t(e)+u/2}),m.exit().remove(),d.hasFilter()?d.selectAll("g.box-group").each(function(t){d.isSelectedNode(t)?d.highlightSelected(this):d.fadeDeselected(this)}):d.selectAll("g.box-group").each(function(){d.resetHighlight(this)}),d},d.boxOnClick=function(t){return arguments.length?(g=t,d):g},d.xAxisOnClick=function(t){return arguments.length?(h=t,d):h},d.yAxisOnClick=function(t){return arguments.length?(p=t,d):p},d.xBorderRadius=function(t){return arguments.length?(c=t,d):c},d.yBorderRadius=function(t){return arguments.length?(f=t,d):f},d.isSelectedNode=function(t){return d.hasFilter(t.key)},d.anchor(n,r)},function(){function e(t){return[0,t.length-1]}function n(e){return[t.quantile(e,.25),t.quantile(e,.5),t.quantile(e,.75)]}t.box=function(){function r(e){e.each(function(e,n){e=e.map(s).sort(t.ascending);var r=t.select(this),d=e.length,h=e[0],p=e[d-1],g=e.quartiles=c(e),m=l&&l.call(this,e,n),v=m&&m.map(function(t){return e[t]}),y=m?t.range(0,m[0]).concat(t.range(m[1]+1,d)):t.range(d),b=t.scale.linear().domain(u&&u.call(this,e,n)||[h,p]).range([o,0]),x=this.__chart__||t.scale.linear().domain([0,1/0]).range(b.range());this.__chart__=b;var w=r.selectAll("line.center").data(v?[v]:[]);w.enter().insert("line","rect").attr("class","center").attr("x1",a/2).attr("y1",function(t){return x(t[0])}).attr("x2",a/2).attr("y2",function(t){return x(t[1])}).style("opacity",1e-6).transition().duration(i).style("opacity",1).attr("y1",function(t){return b(t[0])}).attr("y2",function(t){return b(t[1])}),w.transition().duration(i).style("opacity",1).attr("y1",function(t){return b(t[0])}).attr("y2",function(t){return b(t[1])}),w.exit().transition().duration(i).style("opacity",1e-6).attr("y1",function(t){return b(t[0])}).attr("y2",function(t){return b(t[1])}).remove();var k=r.selectAll("rect.box").data([g]);k.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return x(t[2])}).attr("width",a).attr("height",function(t){return x(t[0])-x(t[2])}).transition().duration(i).attr("y",function(t){return b(t[2])}).attr("height",function(t){return b(t[0])-b(t[2])}),k.transition().duration(i).attr("y",function(t){return b(t[2])}).attr("height",function(t){return b(t[0])-b(t[2])});var A=r.selectAll("line.median").data([g[1]]);A.enter().append("line").attr("class","median").attr("x1",0).attr("y1",x).attr("x2",a).attr("y2",x).transition().duration(i).attr("y1",b).attr("y2",b),A.transition().duration(i).attr("y1",b).attr("y2",b);var F=r.selectAll("line.whisker").data(v||[]);F.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",x).attr("x2",a).attr("y2",x).style("opacity",1e-6).transition().duration(i).attr("y1",b).attr("y2",b).style("opacity",1),F.transition().duration(i).attr("y1",b).attr("y2",b).style("opacity",1),F.exit().transition().duration(i).attr("y1",b).attr("y2",b).style("opacity",1e-6).remove();var M=r.selectAll("circle.outlier").data(y,Number);M.enter().insert("circle","text").attr("class","outlier").attr("r",5).attr("cx",a/2).attr("cy",function(t){return x(e[t])}).style("opacity",1e-6).transition().duration(i).attr("cy",function(t){return b(e[t])}).style("opacity",1),M.transition().duration(i).attr("cy",function(t){return b(e[t])}).style("opacity",1),M.exit().transition().duration(i).attr("cy",function(t){return b(e[t])}).style("opacity",1e-6).remove();var C=f||b.tickFormat(8),E=r.selectAll("text.box").data(g);E.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,e){return 1&e?6:-6}).attr("x",function(t,e){return 1&e?a:0}).attr("y",x).attr("text-anchor",function(t,e){return 1&e?"start":"end"}).text(C).transition().duration(i).attr("y",b),E.transition().duration(i).text(C).attr("y",b);var _=r.selectAll("text.whisker").data(v||[]);_.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",a).attr("y",x).text(C).style("opacity",1e-6).transition().duration(i).attr("y",b).style("opacity",1),_.transition().duration(i).text(C).attr("y",b).style("opacity",1),_.exit().transition().duration(i).attr("y",b).style("opacity",1e-6).remove()}),t.timer.flush()}var a=1,o=1,i=0,u=null,s=Number,l=e,c=n,f=null;return r.width=function(t){return arguments.length?(a=t,r):a},r.height=function(t){return arguments.length?(o=t,r):o},r.tickFormat=function(t){return arguments.length?(f=t,r):f},r.duration=function(t){return arguments.length?(i=t,r):i},r.domain=function(e){return arguments.length?(u=null==e?e:t.functor(e),r):u},r.value=function(t){return arguments.length?(s=t,r):s},r.whiskers=function(t){return arguments.length?(l=t,r):l},r.quartiles=function(t){return arguments.length?(c=t,r):c},r}}(),e.boxPlot=function(n,r){function a(t){var e=t.enter().append("g");e.attr("class","box").attr("transform",g).call(d).on("click",function(t){s.filter(t.key),s.redrawGroup()})}function o(n){e.transition(n,s.transitionDuration()).attr("transform",g).call(d).each(function(){t.select(this).select("rect.box").attr("fill",s.getColor)})}function i(t){t.exit().remove().call(d)}function u(t){return function(e){for(var n=e.quartiles[0],r=e.quartiles[2],a=(r-n)*t,o=-1,i=e.length;e[++o]<n-a;);for(;e[--i]>r+a;);return[o,i]}}var s=e.coordinateGridMixin({}),l=1.5,c=u,f=c(l),d=t.box(),h=null,p=function(t,e){return s.isOrdinal()?s.x().rangeBand():t/(1+s.boxPadding())/e};s.yAxisPadding(12),s.x(t.scale.ordinal()),s.xUnits(e.units.ordinal),s.data(function(t){return t.all().map(function(t){return t.map=function(e){return e.call(t,t)},t}).filter(function(t){var e=s.valueAccessor()(t);return 0!==e.length})}),s.boxPadding=s._rangeBandPadding,s.boxPadding(.8),s.outerPadding=s._outerRangeBandPadding,s.outerPadding(.5),s.boxWidth=function(e){return arguments.length?(p=t.functor(e),s):p};var g=function(t,e){var n=s.x()(s.keyAccessor()(t,e));return"translate("+n+",0)"};return s._preprocessData=function(){s.elasticX()&&s.x().domain([])},s.plotData=function(){var t=p(s.effectiveWidth(),s.xUnitCount());d.whiskers(f).width(t).height(s.effectiveHeight()).value(s.valueAccessor()).domain(s.y().domain()).duration(s.transitionDuration()).tickFormat(h);var e=s.chartBodyG().selectAll("g.box").data(s.data(),function(t){return t.key});a(e),o(e),i(e),s.fadeDeselectedArea()},s.fadeDeselectedArea=function(){s.hasFilter()?s.g().selectAll("g.box").each(function(t){s.isSelectedNode(t)?s.highlightSelected(this):s.fadeDeselected(this)}):s.g().selectAll("g.box").each(function(){s.resetHighlight(this)})},s.isSelectedNode=function(t){return s.hasFilter(t.key)},s.yAxisMin=function(){var n=t.min(s.data(),function(e){return t.min(s.valueAccessor()(e))});return e.utils.subtract(n,s.yAxisPadding())},s.yAxisMax=function(){var n=t.max(s.data(),function(e){return t.max(s.valueAccessor()(e))});return e.utils.add(n,s.yAxisPadding())},s.tickFormat=function(t){return arguments.length?(h=t,s):h},s.anchor(n,r)},e.barGauge=function(n,r){function a(){var e=[0,p.totalCapacity()];f=t.scale.linear().domain(e).range([0,p.effectiveWidth()]),y.scale(f),y.tickFormat(k)}function o(){var t=d.select("g.axis");a(),t=d.append("g").attr("class","axis").attr("transform","translate(0, "+p.effectiveHeight()+")"),e.transition(t,p.transitionDuration()).call(y)}function i(){d.selectAll("g.tick").select("line.grid-line").remove(),d.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-p.effectiveHeight()})}function u(t){return arguments.length?void t.forEach(function(t){var e=d.select("g.marker-labels-top").append("g").classed("marker-tick",!0).attr("transform","translate("+f(t.value)+", 0)");e.data([{markerName:t.statName,memberValue:t.value,memberName:t.member}]).enter(),C&&e.append("title").text(A(t)),e.append("text").text(t.statName).attr("style","text-anchor: middle").attr("transform","translate(0,"+-x.bottom+")");var n=e.select("text").property("offsetWidth"),r=e.select("text").property("offsetHeight");e.insert("rect","text").classed("marker-rect",!0).attr("x",-n/2-x.left).attr("y",-r-x.top-x.bottom).attr("width",n+x.left+x.right).attr("height",r+x.top+x.bottom),e.append("line").classed("marker-line",!0).attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",5)}):void h().forEach(function(t){var e=d.select("g.marker-labels-top").append("g").classed("marker-tick",!0).attr("transform","translate("+f(t.value)+", 0)");e.data([{markerName:t.statName,memberValue:t.value,memberName:t.member}]).enter(),C&&e.append("title").text(A(t)),e.append("text").text(t.statName).attr("style","text-anchor: middle").attr("transform","translate(0,"+-x.bottom+")");var n=e.select("text").property("offsetWidth"),r=e.select("text").property("offsetHeight"),a=n>0?n:M,o=r>0?r:F;e.insert("rect","text").classed("marker-rect",!0).attr("x",-a/2-x.left).attr("y",-o-x.top-x.bottom).attr("width",a+x.left+x.right).attr("height",o+x.top+x.bottom),e.append("line").classed("marker-line",!0).attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",5)})}var s,l,c,f,d,h,p=e.marginMixin(e.baseMixin({})),g="horizontal",m=!1,v=0,y=t.svg.axis().orient("bottom"),b=!1,x={top:5,right:5,bottom:5,left:5},w=t.format(".0f"),k=t.format(",.0f"),A=function(t){var e="";return t.member&&(e=e+t.member+": "),e+w(t.value)},F=40,M=20,C=!0;p._mandatoryAttributes(["group"]),p.transitionDuration(700),p.value=function(){return p.data()},p.data(function(t){var e=t.value?t.value():t.top(1)[0];return p.valueAccessor()(e)}),p.orientation=function(t){return arguments.length?(g=t,p):g},p.usePercentageLength=function(t){return arguments.length?(m=t,p):m},p.gap=function(t){return arguments.length?(v=t,p):v},p.markerPadding=function(t){return arguments.length?(x=t,p):x},p.defaultMarkerWidth=function(t){return arguments.length?(M=t,p):M},p.defaultMarkerHeight=function(t){return arguments.length?(F=t,p):F},p.defaultToolTips=function(t){return arguments.length?(C=t,p):C},p.totalCapacity=function(e){return arguments.length?(c=t.functor(e),p.expireCache(),p):c.call(p)},p.filledValue=function(t){return arguments.length?(s=t,p):s},p.drawScale=function(t){return arguments.length?(b=t,p):b},p.setMarkers=function(e){return arguments.length?(h=t.functor(e),p.expireCache(),p):h.call(p)},p.markerTitle=function(t){return arguments.length?(A=t,p):A},p.markerFormat=function(t){return arguments.length?(w=t,p):w},p.tickFormat=function(t){return arguments.length?(k=t,p):k};var E=function(t){var n,r,a,o,i,u,f,h,g,y,b,x=s/c()*100<=100?s/c()*100:100,k=l/c()*100<=100?l/c()*100:100;"vertical"==t?(g=p.width()-p.margins().left-p.margins().right-2*v,n=g,r=p.effectiveHeight()*(k/100),a=n,o=p.effectiveHeight()*(x/100),f=g,h=p.effectiveHeight(),i=v,u=100-x+"%",p.root().select("svg").attr("width",p.width()).attr("height",p.height()),b=d.append("g").classed("rectangle-container",!0),b.append("rect").classed("dc-bar-gauge-background",!0).attr("width",function(){return f}).attr("height",function(){return h}).attr("x",0).attr("y",0),C&&b.append("title").text(w(s)),b.append("rect").classed("dc-bar-gauge-foreground",!0).attr("width",function(){return n}).attr("height",function(){return r}).attr("x",i).attr("y",u),C&&b.append("title").text(w(s)),y=p.selectAll(".dc-bar-gauge-foreground"),e.transition(y,p.transitionDuration()).attr("width",function(){return a}).attr("height",function(){return o})):(g=p.height()-p.margins().top-p.margins().bottom-2*v,n=m?k+"%":p.effectiveWidth()*(k/100),r=g,a=m?x+"%":p.effectiveWidth()*(x/100),o=r,f=m?"100%":p.effectiveWidth(),h=g,i=0,u=v,p.root().select("svg").attr("height",p.height()),b=d.append("g").classed("rectangle-container",!0),b.append("rect").classed("dc-bar-gauge-background",!0).attr("width",function(){return f}).attr("height",function(){return h}).attr("x",0).attr("y",u),C&&b.append("title").text(w(s)),b.append("rect").classed("dc-bar-gauge-foreground",!0).attr("width",function(){return n}).attr("height",function(){return r}).attr("x",i).attr("y",u),C&&b.append("title").text(w(s)),y=p.selectAll(".dc-bar-gauge-foreground"),e.transition(y,p.transitionDuration()).attr("width",function(){return a}).attr("height",function(){return o}))};return p._doRender=function(){l=void 0===s?0:s,s=p.value()>=0?p.value():0,p.root().classed("dc-bar-gauge",!0),p.root().classed("dc-chart",!1),p.root().html(""),p.resetSvg(),p.svg().data([{totalCapacity:p.totalCapacity(),filledValue:p.value()}]).enter(),d=p.svg().append("g").attr("transform","translate("+p.margins().left+","+p.margins().top+")"),b===!0&&(o(),i(),d.append("g").classed("marker-labels-top",!0),u()),E(g)},p._doRedraw=function(){return p._doRender()},p.anchor(n,r)},e.geoBubbleOverlayChart=function(n,r){function a(t){return void 0===d.bubbleLabel()?d.label()(t):d.bubbleLabel()(t)}function o(){h&&d.r().domain([d.rMin(),d.rMax()]),d.r().range([d.MIN_RADIUS/2,d.width()/10*d.maxBubbleRelativeSize()]),y=d.svg().selectAll("g."+d.BUBBLE_NODE_CLASS).data(d.data(),function(t){return t.key}),i(y),u(y),s(y),d.fadeDeselectedArea()}function i(t){var n=t.enter().append("g");n.attr("class",function(t){return d.BUBBLE_NODE_CLASS+" "+e.utils.nameToId(t.key)}).attr("transform",x).append("circle").attr("class",function(t,e){return d.BUBBLE_CLASS+" _"+e}).on("click",d.onClick).attr("fill",d.getColor).attr("r",0),e.transition(t,d.transitionDuration()).selectAll("circle."+d.BUBBLE_CLASS).attr("r",function(t){return d.bubbleR(t)}).attr("opacity",function(t){return d.bubbleR(t)>0?1:0}),d._doRenderLabel(n),d._doRenderTitles(n)}function u(t){e.transition(t,d.transitionDuration()).attr("transform",x).selectAll("circle."+d.BUBBLE_CLASS).attr("fill",d.getColor).attr("r",function(t){return d.bubbleR(t)}).attr("opacity",function(t){return d.bubbleR(t)>0?1:0}),d.doUpdateLabels(t),d.doUpdateTitles(t)}function s(t){t.exit().remove()}function l(){d.resetSvg();var t=d.svg().append("g").attr("class",d.GEO_LAYER_CLASS),e=t.selectAll("g."+f().name).data(f().data).enter().append("g").attr("class",f().name);e.append("path").attr("fill",b).attr("d",g),c()}function c(){d.svg().selectAll("g."+d.GEO_LAYER_CLASS+" g."+f().name).attr("class",function(t){var n=f().name,r=e.utils.nameToId(f().keyAccessor(t)),a=n+" "+r;return a})}function f(){return v}var d=e.bubbleMixin(e.baseMixin({})),h=!1;d.transitionDuration(750);var p,g=t.geo.path();d.GEO_LAYER_CLASS="geoLayer";var m,v,y,b="#ccc";d.geoPath=function(){return g};var x=function(t){var n;if(""===t.key||void 0===t.key||null===t.key||0===t.key||"0"===t.key)n=[-500,-500];else{var r="g."+d.GEO_LAYER_CLASS+" g."+e.utils.nameToId(t.key),a=d.svg().select(r);try{n=g.centroid(a.datum())}catch(o){n=[-500,-500]}}return"translate("+n[0]+","+n[1]+")"};d.bubbleLabel=function(t){return arguments.length?(m=t,d):m};var w=function(t){return d.bubbleR(t)>d.minRadiusWithLabel()?1:0};return d._doRenderLabel=function(t){if(d.renderLabel()){var n=t.select("text");n.empty()&&(n=t.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",d.onClick)),n.attr("opacity",0).text(a),e.transition(n,d.transitionDuration()).attr("opacity",w)}},d.doUpdateLabels=function(t){if(d.renderLabel()){var n=t.selectAll("text").text(a);e.transition(n,d.transitionDuration()).attr("opacity",w)}},d.bubbleLocator=function(t){return arguments.length?(x=t,d):x},d.elasticRadius=function(t){return arguments.length?(h=t,d):h},d._doRender=function(){l(),p=!1,o()},d._doRedraw=function(){y=d.svg().selectAll("g."+d.BUBBLE_NODE_CLASS).data(d.data(),function(t){return t.key}),u(y),p&&d.svg().selectAll("g."+f().name+" path").attr("d",g),p=!1,d.fadeDeselectedArea()},d.renderBrush=function(t){},d.redrawBrush=function(t){d.fadeDeselectedArea()},d.onClick=function(t){var n=t.key;e.events.trigger(function(){d.filter(n),e.redrawAll(d.chartGroup())})},d.setGeoJson=function(t,e,n){return v={name:e,data:t,keyAccessor:n},d},d.projection=function(t){return g.projection(t),p=!0,d},d.geoJson=function(){return v},d.anchor(n,r)},e.arcGauge=function(n,r){var a,o,i,u,s,l,c,f,d,h,p=e.baseMixin({}),g=2/3;p._mandatoryAttributes(["group"]),p.transitionDuration(450),p.value=function(){return p.data()},p.data(function(t){var e=t.value?t.value():t.top(1)[0];return p.valueAccessor()(e)}),p.width=function(t){return arguments.length?(h=t,p):h},p.height=function(t){return arguments.length?(d=t,p):d},p.innerRadius=function(t){return arguments.length?(c=t,p):c},p.outerRadius=function(t){return arguments.length?(f=t,p):f},p.innerRadiusRatio=function(t){return arguments.length?(g=t,p):g},p.startAngle=function(t){return arguments.length?(u=t,p):u},p.endAngle=function(t){return arguments.length?(s=t,p):s},p.arc=function(t){return arguments.length?(l=t,p):l},p.totalCapacity=function(e){return arguments.length?(i=t.functor(e),p.expireCache(),p):i.call(p)},p.filledValue=function(t){return arguments.length?(a=t,p):a};var m=function(t){return t*(Math.PI/180)},v=function(e,n){e.attrTween("d",function(e){var r=t.interpolate(e.endAngle,n);return function(t){return e.endAngle=r(t),l(e)}})},y=function(t){var e=o/i(),n=a/i(),r=Math.abs(u)+Math.abs(s),c=e*r-Math.abs(u),f=n*r-Math.abs(u);t.append("path").classed("dc-arc-gauge-background",!0);var d=p.selectAll(".dc-arc-gauge-background");d.datum({endAngle:m(s)}).attr("d",l),t.append("path").classed("dc-arc-gauge-foreground",!0);var h=p.selectAll(".dc-arc-gauge-foreground");h.datum({endAngle:m(c)}).attr("d",l),h.transition().duration(p.transitionDuration()).call(v,m(f))};return p._doRender=function(){u=void 0===u?-115:p.startAngle(),s=void 0===s?115:p.endAngle(),f=f||t.min([p.width(),p.height()])/2,c=c||g*f,l=t.svg.arc().innerRadius(c).outerRadius(f).startAngle(m(u)),o=void 0===a?0:a,a=p.value(),p.root().classed("dc-arc-gauge",!0),p.root().classed("dc-chart",!1),p.root().html("");var e=p.root().append("svg").attr("width",h).attr("height",d).append("g");y(e),p.select("g").attr("transform","translate("+p.outerRadius()+","+p.outerRadius()+")")},p._doRedraw=function(){return p._doRender()},p.anchor(n,r)},e.treeMap=function(n,r){function a(t,e){h.onClick(t,e)}function o(t){return h.hasFilter(t.columnName,t.name)}function i(t,e){function n(e,n,i){r(e,n,i)?i===t.length-1&&o(e,n,i):a(e,n,i)}function r(t,e,n){var r=i(t,e,n).children;return r.some(function(n){return n.name===t[e]})}function a(n,r,a){var o=i(n,r,a).children,u={};if(u.name=n[r],u.columnName=r,a===t.length-1){var s=Number(n[e]);u.value=s}else u.children=[];o.push(u)}function o(t,n,r){var a,o=i(t,n,r).children;o.forEach(function(e){e.name===t[n]&&(a=e)}),a.value=Number(a.value)+Number(t[e])}function i(e,n,r){for(var a=s,o=0;r>o;o++)a.children.some(function(n){var r=e[t[o].columnName];n.name===r&&(a=n)});return a}function u(e){var n=t[e].dimension,r=t[e].columnName;return n.top(1/0)[0][r]}var s={name:p,columnName:"root",children:[],_children:[]};d=0;var l=t[0].dimension.top(1/0),c=!1,f=!0;return l.length?l.forEach(function(r){t.forEach(function(t,a){var o=t.columnName;r[e]>0?(f=!1,n(r,o,a)):d+=Number(r[e])})}):(s={name:"No Data",columnName:"root",value:"No Data",children:[]},c=!0),s.zoomLevelDrill=function(t){for(var e=s,n=0;t>n;n++)e.children.some(function(t){var r=u(n);t.name===r&&(e=t)});return e},c===!0?null:f===!0?-1:s}var u,s,l,c,f,d,h=e.colorMixin(e.hierarchyMixin(e.baseMixin({}))),p="root",g=0,m=t.scale.category20c(),v=!1,y=function(t){return t},b='<span class="error">No data for the selected filters</span>',x='<span class="error">All data found was negative values.</span>',w={top:0,right:0,bottom:0,left:0},k=960,A=500-w.top-w.bottom,F=6,M=6,C=".75em",E=!1,S=[function(t){return t.name}],D=function(t){return t.parent?D(t.parent)+"."+t.name:t.name},T=function(t){return t.name},N=function(){};return h.transitionDuration(500),e.override(h,"filterAll",function(){h._filterAll(),g=0,l=s}),h.crumbTrailX=function(t){return arguments.length?(F=t,h):F},h.crumbTrailY=function(t){return arguments.length?(M=t,h):M},h.crumbTrailHeight=function(t){return arguments.length?(C=t,h):C},h.topBarHeight=function(t){return arguments.length?(w.top=t,h):w.top},h.width=function(t){return arguments.length?(k=t,h):k},h.height=function(t){return arguments.length?(A=t,h):A},h.currentRoot=function(t){return arguments.length?(l=t,h):l},h.currentXscale=function(t){return arguments.length?(c=t,h):c},h.currentYscale=function(t){return arguments.length?(f=t,h):f},h.colors=function(t){return arguments.length?(m=t,h):m},h.rootName=function(t){return arguments.length?(p=t,h):p},h.noDataMessage=function(t){return arguments.length?(b=t,h):b},h.negativeDataMessage=function(t){return arguments.length?(x=t,h):x},h.showNegativeTotal=function(t){return arguments.length?(v=t,h):v},h.totalNegFormatter=function(t){return arguments.length?(y=t,h):y},h.labelFunctions=function(t){return arguments.length?(S=t,h):S},h.toolTip=function(t){return arguments.length?(T=t,h):T},h.titleBarCaption=function(t){return arguments.length?(D=t,h):D},h.onLevelChange=function(t){return arguments.length?(N=t,h):N},h.initData=function(){if(!h.levels()||!h.measureColumn())throw"Must provide dimension column array and measureColumn";return s=i(h.levels(),h.measureColumn()),null===s?null:-1===s?-1:h},h.data(function(){return[s]}),h.onClick=function(t,n){var r=t.name;h.lookupDimension(t.columnName);h.filter(t.columnName,r),n||h.filterAllForLevel(t._children[0].columnName);for(var a=e.chartRegistry.list(h.chartGroup()),o=0;o<a.length;++o)a[o]!==h&&a[o].redraw();null!==e._renderlet&&e._renderlet(group)},h.zoomLevel=function(t){return arguments.length?(g=_,h):g},h._doRender=function(){function r(t){t.x=t.y=0,t.dx=k,t.dy=A,t.depth=0}function i(t){return(t._children=t.children)?t.value=t.children.reduce(function(t,e){return t+i(e)},0):t.value}function p(t){t._children&&(u.nodes({_children:t._children}),t._children.forEach(function(e){e.x=t.x+e.x*t.dx,e.y=t.y+e.y*t.dy,e.dx*=t.dx,e.dy*=t.dy,e.parent=t,p(e)}))}function _(n){function r(t){if(!E&&t){E=!0;var e=_(t),n=i.transition().duration(h.transitionDuration()),r=e.transition().duration(h.transitionDuration());O.domain([t.x,t.x+t.dx]),P.domain([t.y,t.y+t.dy]),c=O,f=P,j.style("shape-rendering",null),j.selectAll(".depth").sort(function(t,e){return t.depth-e.depth}),e.selectAll("text").style("fill-opacity",0),S.forEach(function(t,e){t(n.selectAll("text.label_"+e),{x:c,y:f},0),t(r.selectAll("text.label_"+e),{x:c,y:f},1)}),n.selectAll("rect").call(R),r.selectAll("rect").call(R),n.remove().each("end",function(){j.style("shape-rendering","crispEdges"),E=!1}),N()}}l=n,z.datum(n.parent).on("click",function(t){E||g>0&&(g--,t&&a(n,!1),r(t),h.redraw())}).select("text").text(D(n));var i=j.insert("g",".crumbTrail").datum(n).attr("class","depth"),u=i.selectAll("g").data(n._children).enter().append("g").attr("clip-path",function(t){return"url(#"+e.utils.nameToId(t.name)+"-clip-path)"});return u.filter(function(t){return t._children||t}).classed("children",!0).classed("deselected",function(t){return t._children?void 0:h.hasFilter()?!o(t):!1}).classed("selected",function(t){return t._children?void 0:h.hasFilter()?o(t):!1}).on("click",function(e){var n=this;E||(e._children?(g++,r(e),a(e,!0)):(a(e,!0),h.hasFilter()&&o(e)?(t.select(n).classed("selected",!0),t.select(n).classed("deselected",!1)):h.hasFilter()&&o(e)||(t.select(n).classed("deselected",!0),t.select(n).classed("selected",!1))))}),u.selectAll(".child").data(function(t){return t._children||[t]}).enter().append("rect").attr("class","child").classed("deselected",function(t){return t._children?!1:h.hasFilter()?!o(t):!1}).classed("selected",function(t){var e=g===h.levels().length-1;return t._children||e?!1:h.hasFilter()?o(t):!1}).call(R),u.append("defs").append("clipPath").attr("id",function(t){return e.utils.nameToId(t.name)+"-clip-path"}).append("rect").attr("class","clip-path-parent").call(R),u.append("rect").attr("class",function(t){return"parent color_"+m(t.name.replace(/ .*/,""))}).call(R).append("title").text(T),S.forEach(function(e,n){u[0].forEach(function(r){e(t.select(r).append("text").classed("label_"+n+" parent-label",!0),{x:c,y:f})})}),u}function R(t){t.attr("x",function(t){return O(t.x)}).attr("y",function(t){return P(t.y)}).attr("width",function(t){var e=O(t.x+t.dx)-O(t.x);return 10>e&&(e=10),e}).attr("height",function(t){var e=P(t.y+t.dy)-P(t.y);return 12>e&&(e=12),e})}var L=h.initData();if(h.root().classed("dc-tree-map",!0),h.root().classed("dc-chart",!1),h.root().select(".treemap-no-data").html(""),h.root().select(".treemap-negative-data").html(""),h.select("svg").remove(),h.root().attr("style",""),null===L)return h.root().select(".treemap-no-data").html(b),L;if(-1==L)return h.root().select(".treemap-negative-data").html(x),L;h.root().select(".treemap-negative-totalValue").html(y(d));var q=h.root().select(".treemap-negative-totalValue-message").remove();h.root().style("width",k+"px").style("height",A+w.top+w.bottom+"px");var O=t.scale.linear().domain([0,k]).range([0,k]),P=t.scale.linear().domain([0,A]).range([0,A]);c=O,f=P,u=t.layout.treemap().children(function(t,e){return e?null:t._children}).sort(function(t,e){return t.value-e.value}).ratio(A/k*.5*(1+Math.sqrt(5))).round(!1);var j=t.select(n).append("svg").attr("width",k+w.left+w.right).attr("height",A+w.bottom+w.top).style("margin-left",-w.left+"px").style("margin.right",-w.right+"px").append("g").attr("transform","translate("+w.left+","+w.top+")").style("shape-rendering","crispEdges");v&&0>d?(q.attr("style",""),t.select(n).append(function(){return q.node()})):v&&(q.style("display","none"),t.select(n).append(function(){return q.node()}));var z=j.append("g").attr("class","crumbTrail");z.append("rect").attr("y",-w.top).attr("width",k).attr("height",w.top),z.append("text").attr("x",F).attr("y",M-w.top).attr("dy",C),l=s.zoomLevelDrill(g),r(s),i(s),p(s),_(l)},h._doRedraw=function(){return h._doRender()},h.anchor(n,r)},t.sankey=function(){function e(){p.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),g.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=p[t.source]),"number"==typeof n&&(n=t.target=p[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function n(){p.forEach(function(e){e.value=Math.max(t.sum(e.sourceLinks,l),t.sum(e.targetLinks,l))})}function r(){for(var t,e=p,n=0;e.length;)t=[],e.forEach(function(e){e.x=n,e.dx=f,e.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),e=t,++n;a(n),o((h[0]-f)/(n-1))}function a(t){p.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}function o(t){p.forEach(function(e){e.x*=t})}function i(e){function n(){var e=t.min(u,function(e){return(h[1]-(e.length-1)*d)/t.sum(e,l)});u.forEach(function(t){t.forEach(function(t,n){t.y=n,t.dy=t.value*e})}),g.forEach(function(t){t.dy=t.value*e})}function r(e){function n(t){return s(t.source)*t.value}u.forEach(function(r,a){r.forEach(function(r){if(r.targetLinks.length){var a=t.sum(r.targetLinks,n)/t.sum(r.targetLinks,l);r.y+=(a-s(r))*e}})})}function a(e){function n(t){return s(t.target)*t.value}u.slice().reverse().forEach(function(r){r.forEach(function(r){if(r.sourceLinks.length){var a=t.sum(r.sourceLinks,n)/t.sum(r.sourceLinks,l);r.y+=(a-s(r))*e}})})}function o(){u.forEach(function(t){var e,n,r,a=0,o=t.length;for(t.sort(i),r=0;o>r;++r)e=t[r],n=a-e.y,n>0&&(e.y+=n),a=e.y+e.dy+d;if(n=a-d-h[1],n>0)for(a=e.y-=n,
r=o-2;r>=0;--r)e=t[r],n=e.y+e.dy+d-a,n>0&&(e.y-=n),a=e.y})}function i(t,e){return t.y-e.y}var u=t.nest().key(function(t){return t.x}).sortKeys(t.ascending).entries(p).map(function(t){return t.values});n(),o();for(var c=1;e>0;--e)a(c*=.99),o(),r(c),o()}function u(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}p.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),p.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function s(t){return t.y+t.dy/2}function l(t){return t.value}var c={},f=24,d=8,h=[1,1],p=[],g=[];return c.nodeWidth=function(t){return arguments.length?(f=+t,c):f},c.nodePadding=function(t){return arguments.length?(d=+t,c):d},c.nodes=function(t){return arguments.length?(p=t,c):p},c.links=function(t){return arguments.length?(g=t,c):g},c.size=function(t){return arguments.length?(h=t,c):h},c.layout=function(t){return e(),n(),r(),i(t),u(),c},c.relayout=function(){return u(),c},c.link=function(){function e(e){var r=e.source.x+e.source.dx,a=e.target.x,o=t.interpolateNumber(r,a),i=o(n),u=o(1-n),s=e.source.y+e.sy+e.dy/2,l=e.target.y+e.ty+e.dy/2;return"M"+r+","+s+"C"+i+","+s+" "+u+","+l+" "+a+","+l}var n=.5;return e.curvature=function(t){return arguments.length?(n=+t,e):n},e},c},e.sankey=function(n,r){function a(t){return c.hasFilter(t.columnName,t.name)}function o(e){t.event.defaultPrevented||c.onClick(e)}function i(t,e){function n(t,e){var n=e;s(t,n)||c.nodes.push({name:t[n],columnName:n})}function r(n,r,o){var i=r;if(o<t.length-1){var u=t[o+1].columnName;a({name:n[i],column:i},{name:n[u],column:u},n[e])}}function a(t,e,n){var r=o(t,e),a=Number(n);r?r.value=r.value+a:c.links.push(i(t,e,a))}function o(t,e){for(var n=u(t),r=u(e),a=c.links.length,o=0;a>o;o++){var i=c.links[o];if(i.source===n&&i.target===r)return i}return!1}function i(t,e,n){return{source:u(t),target:u(e),value:n}}function u(t){for(var e=c.nodes.length,n=0;e>n;n++){var r=c.nodes[n];if(r.name===t.name&&r.columnName===t.column)return n}return-1}function s(t,e){return c.nodes.some(function(n){return n.name===t[e]&&n.columnName===e})}l=0;var c={nodes:[],links:[]},f=!1;if(t.forEach(function(t){var r=t.columnName,a=t.dimension.top(1/0);return a.length?void a.forEach(function(t){t[e]>0&&n(t,r)}):void(f=!0)}),f)return null;var d=!0;return t.forEach(function(t,n){var a=t.columnName,o=t.dimension.top(1/0);o.forEach(function(t){t[e]>0?(d=!1,r(t,a,n)):l+=Number(t[e])})}),d===!0?-1:c}var u,s,l,c=e.hierarchyMixin(e.baseMixin({})),f=15,d={top:1,right:1,bottom:6,left:1},h=960-d.left-d.right,p=500-d.top-d.bottom,g=!1,m=function(t){return t},v='<span class="error">No data for the selected filters</span>',y='<span class="error">All data found was negative values.</span>',b=t.format(",.0f"),x=function(t){return b(t)},w=t.scale.category20(),k=function(t){return t.source.name+" → "+t.target.name+"\n"+x(t.value)},A=function(t){return t.name+"\n"+x(t.value)},F=function(t){return t.name};return c.label=function(t){return arguments.length?(F=t,c):F},c.noDataMessage=function(t){return arguments.length?(v=t,c):v},c.negativeDataMessage=function(t){return arguments.length?(y=t,c):y},c.showNegativeTotal=function(t){return arguments.length?(g=t,c):g},c.totalNegFormatter=function(t){return arguments.length?(m=t,c):m},c.colorRange=function(t){return arguments.length?(w.range(t),c):w.range()},c.nodeToolTip=function(t){return arguments.length?(A=t,c):A},c.nodeWidth=function(t){return arguments.length?(f=t,c):f},c.linkToolTip=function(t){return arguments.length?(k=t,c):k},c.transitionDuration(450),c.width=function(t){return arguments.length?(h=t,c):h},c.height=function(t){return arguments.length?(p=t,c):p},c.data(function(){return[s]}),c.initData=function(){if(!c.levels()||!c.measureColumn())throw"Must provide dimension column array levels and the measureColumn";return s=i(c.levels(),c.measureColumn()),null===s?null:-1===s?-1:c},c._doRender=function(){function r(t){}function i(e){t.select(this).attr("transform","translate("+e.x+","+(e.y=Math.max(0,Math.min(p-e.dy,t.event.y)))+")"),u.relayout(),_.attr("d",E)}function b(t){}var x=c.initData();if(c.root().classed("dc-sankey",!0),c.root().classed("dc-chart",!1),c.root().select(".sankey-no-data").html(""),c.root().select(".sankey-negative-data").html(""),c.resetSvg(),null===x)return c.root().select(".sankey-no-data").html(v),c.root().select("svg").attr("width","0").attr("height","0"),x;if(-1==x)return c.root().select(".sankey-negative-data").html(y),c.root().select("svg").attr("width","0").attr("height","0"),x;c.root().select(".sankey-negative-totalValue").html(m(l));var M=c.root().select(".sankey-negative-totalValue-message").remove(),C=c.svg().attr("width",h+d.left+d.right).attr("height",p+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");g&&0>l?(M.attr("style",""),t.select(n).append(function(){return M.node()})):g&&(M.style("display","none"),t.select(n).append(function(){return M.node()})),u=t.sankey().nodeWidth(f).nodePadding(10).size([h,p]);var E=u.link();u.nodes(s.nodes).links(s.links).layout(32);var _=C.append("g").selectAll(".link").data(s.links).enter().append("path").attr("class","link").attr("d",E).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});_.append("title").text(k);var S=C.append("g").selectAll(".node").data(s.nodes).enter().append("g").attr("class",function(t){return"node "+e.utils.nameToId(t.name)}).attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).on("click",o).call(t.behavior.drag().origin(function(t){return t}).on("dragstart",r).on("drag",i).on("dragend",b)).classed("deselected",function(t){return c.hasFilter()?!a(t):!1}).classed("selected",function(t){return c.hasFilter()?a(t):!1});S.append("rect").attr("height",function(t){return t.dy}).attr("width",u.nodeWidth()).attr("class",function(t){return"node-"+t.columnName}).attr("fill",function(t){return w(t.name)}).append("title").text(A),S.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(F).filter(function(t){return t.x<h/2}).attr("x",6+u.nodeWidth()).attr("text-anchor","start"),c.levels().forEach(function(e){t.select(".filter.column_"+e.columnName).html(""),c.hasFilter(e.columnName)&&c.select(".filter.column_"+e.columnName).append("span").classed("reset",!0).text(c.filters(e.columnName)[0]).on("click",function(t){c.filterAll(e.columnName),c.redrawGroup()})})},c.onClick=function(t){var n=t.name;e.events.trigger(function(){c.filter(t.columnName,n),c.redrawGroup()})},c._doRedraw=function(){return c._doRender()},c.anchor(n,r)},e.abstractBubbleChart=e.bubbleMixin,e.baseChart=e.baseMixin,e.capped=e.capMixin,e.colorChart=e.colorMixin,e.coordinateGridChart=e.coordinateGridMixin,e.marginable=e.marginMixin,e.stackableChart=e.stackMixin,e}a=[n(4)],r=i,o="function"==typeof r?r.apply(e,a):r,!(void 0!==o&&(t.exports=o))}()},function(t,e){!function(t){function e(t){return t}function n(t,e){for(var n=0,r=e.length,a=new Array(r);r>n;++n)a[n]=t[e[n]];return a}function r(t){function e(e,n,r,a){for(;a>r;){var o=r+a>>>1;t(e[o])<n?r=o+1:a=o}return r}function n(e,n,r,a){for(;a>r;){var o=r+a>>>1;n<t(e[o])?a=o:r=o+1}return r}return n.right=n,n.left=e,n}function a(t){function e(t,e,n){for(var a=n-e,o=(a>>>1)+1;--o>0;)r(t,o,a,e);return t}function n(t,e,n){for(var a,o=n-e;--o>0;)a=t[e],t[e]=t[e+o],t[e+o]=a,r(t,1,o,e);return t}function r(e,n,r,a){for(var o,i=e[--a+n],u=t(i);(o=n<<1)<=r&&(r>o&&t(e[a+o])>t(e[a+o+1])&&o++,!(u<=t(e[a+o])));)e[a+n]=e[a+o],n=o;e[a+n]=i}return e.sort=n,e}function o(t){function e(e,r,a,o){var i,u,s,l,c=new Array(o=Math.min(a-r,o));for(u=0;o>u;++u)c[u]=e[r++];if(n(c,0,o),a>r){i=t(c[0]);do(s=t(l=e[r])>i)&&(c[0]=l,i=t(n(c,0,o)[0]));while(++r<a)}return c}var n=a(t);return e}function i(t){function e(e,n,r){for(var a=n+1;r>a;++a){for(var o=a,i=e[a],u=t(i);o>n&&t(e[o-1])>u;--o)e[o]=e[o-1];e[o]=i}return e}return e}function u(t){function e(t,e,a){return(S>a-e?r:n)(t,e,a)}function n(n,r,a){var o,i=(a-r)/6|0,u=r+i,s=a-1-i,l=r+a-1>>1,c=l-i,f=l+i,d=n[u],h=t(d),p=n[c],g=t(p),m=n[l],v=t(m),y=n[f],b=t(y),x=n[s],w=t(x);h>g&&(o=d,d=p,p=o,o=h,h=g,g=o),b>w&&(o=y,y=x,x=o,o=b,b=w,w=o),h>v&&(o=d,d=m,m=o,o=h,h=v,v=o),g>v&&(o=p,p=m,m=o,o=g,g=v,v=o),h>b&&(o=d,d=y,y=o,o=h,h=b,b=o),v>b&&(o=m,m=y,y=o,o=v,v=b,b=o),g>w&&(o=p,p=x,x=o,o=g,g=w,w=o),g>v&&(o=p,p=m,m=o,o=g,g=v,v=o),b>w&&(o=y,y=x,x=o,o=b,b=w,w=o);var k=p,A=g,F=y,M=b;n[u]=d,n[c]=n[r],n[l]=m,n[f]=n[a-1],n[s]=x;var C=r+1,E=a-2,_=M>=A&&A>=M;if(_)for(var S=C;E>=S;++S){var D=n[S],T=t(D);if(A>T)S!==C&&(n[S]=n[C],n[C]=D),++C;else if(T>A)for(;;){var N=t(n[E]);{if(!(N>A)){if(A>N){n[S]=n[C],n[C++]=n[E],n[E--]=D;break}n[S]=n[E],n[E--]=D;break}E--}}}else for(var S=C;E>=S;S++){var D=n[S],T=t(D);if(A>T)S!==C&&(n[S]=n[C],n[C]=D),++C;else if(T>M)for(;;){var N=t(n[E]);{if(!(N>M)){A>N?(n[S]=n[C],n[C++]=n[E],n[E--]=D):(n[S]=n[E],n[E--]=D);break}if(E--,S>E)break}}}if(n[r]=n[C-1],n[C-1]=k,n[a-1]=n[E+1],n[E+1]=F,e(n,r,C-1),e(n,E+2,a),_)return n;if(u>C&&E>s){for(var R,N;(R=t(n[C]))<=A&&R>=A;)++C;for(;(N=t(n[E]))<=M&&N>=M;)--E;for(var S=C;E>=S;S++){var D=n[S],T=t(D);if(A>=T&&T>=A)S!==C&&(n[S]=n[C],n[C]=D),C++;else if(M>=T&&T>=M)for(;;){var N=t(n[E]);{if(!(M>=N&&N>=M)){A>N?(n[S]=n[C],n[C++]=n[E],n[E--]=D):(n[S]=n[E],n[E--]=D);break}if(E--,S>E)break}}}}return e(n,C,E+1)}var r=i(t);return e}function s(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function l(t,e){for(var n=t.length;e>n;)t[n++]=0;return t}function c(t,e){if(e>32)throw new Error("invalid array width!");return t}function f(t,e){return function(n){var r=n.length;return[t.left(n,e,0,r),t.right(n,e,0,r)]}}function d(t,e){var n=e[0],r=e[1];return function(e){var a=e.length;return[t.left(e,n,0,a),t.left(e,r,0,a)]}}function h(t){return[0,t.length]}function p(){return null}function g(){return 0}function m(t){return t+1}function v(t){return t-1}function y(t){return function(e,n){return e+ +t(n)}}function b(t){return function(e,n){return e-t(n)}}function x(){function t(t){var e=M,n=t.length;return n&&(x=x.concat(t),_=R(_,M+=n),T.forEach(function(r){r(t,e,n)})),c}function r(){for(var t=w(M,M),e=[],n=0,r=0;M>n;++n)_[n]?t[n]=r++:e.push(n);S.forEach(function(t){t(0,[],e)}),N.forEach(function(e){e(t)});for(var a,n=0,r=0;M>n;++n)(a=_[n])&&(n!==r&&(_[r]=a,x[r]=x[n]),++r);for(x.length=r;M>r;)_[--M]=0}function i(t){function r(e,r,a){G=e.map(t),Y=J(k(a),0,a),G=n(G,Y);var o,i=Q(G),u=i[0],s=i[1];if(V)for(o=0;a>o;++o)V(G[o],o)||(_[Y[o]+r]|=Z);else{for(o=0;u>o;++o)_[Y[o]+r]|=Z;for(o=s;a>o;++o)_[Y[o]+r]|=Z}if(!r)return I=G,W=Y,nt=u,void(rt=s);var l=I,c=W,f=0,d=0;for(I=new Array(M),W=w(M,M),o=0;r>f&&a>d;++o)l[f]<G[d]?(I[o]=l[f],W[o]=c[f++]):(I[o]=G[d],W[o]=Y[d++]+r);for(;r>f;++f,++o)I[o]=l[f],W[o]=c[f];for(;a>d;++d,++o)I[o]=G[d],W[o]=Y[d]+r;i=Q(I),nt=i[0],rt=i[1]}function i(t,e,n){tt.forEach(function(t){t(G,Y,e,n)}),G=Y=null}function s(t){for(var e,n=0,r=0;M>n;++n)_[e=W[n]]&&(n!==r&&(I[r]=I[n]),W[r]=t[e],++r);for(I.length=r;M>r;)W[r++]=0;var a=Q(I);nt=a[0],rt=a[1]}function l(t){var e=t[0],n=t[1];if(V)return V=null,j(function(t,r){return r>=e&&n>r}),nt=e,rt=n,X;var r,a,o,i=[],u=[];if(nt>e)for(r=e,a=Math.min(nt,n);a>r;++r)_[o=W[r]]^=Z,i.push(o);else if(e>nt)for(r=nt,a=Math.min(e,rt);a>r;++r)_[o=W[r]]^=Z,u.push(o);if(n>rt)for(r=Math.max(e,rt),a=n;a>r;++r)_[o=W[r]]^=Z,i.push(o);else if(rt>n)for(r=Math.max(nt,n),a=rt;a>r;++r)_[o=W[r]]^=Z,u.push(o);return nt=e,rt=n,S.forEach(function(t){t(Z,i,u)}),X}function c(t){return null==t?O():Array.isArray(t)?q(t):"function"==typeof t?P(t):D(t)}function D(t){return l((Q=f(F,t))(I))}function q(t){return l((Q=d(F,t))(I))}function O(){return l((Q=h)(I))}function P(t){return Q=h,j(V=t),nt=0,rt=M,X}function j(t){var e,n,r,a=[],o=[];for(e=0;M>e;++e)!(_[n=W[e]]&Z)^!!(r=t(I[e],e))&&(r?(_[n]&=K,a.push(n)):(_[n]|=Z,o.push(n)));S.forEach(function(t){t(Z,a,o)})}function z(t){for(var e,n=[],r=rt;--r>=nt&&t>0;)_[e=W[r]]||(n.push(x[e]),--t);return n}function B(t){for(var e,n=[],r=nt;rt>r&&t>0;)_[e=W[r]]||(n.push(x[e]),--t),r++;return n}function $(t){function n(e,n,r,a){function o(){++G===U&&(y=L(y,H<<=1),O=L(O,H),U=A(H))}var c,f,d,h,g,m,v=q,y=w(G,U),b=z,k=$,F=G,C=0,E=0;for(X&&(b=k=p),q=new Array(G),G=0,O=F>1?R(O,M):w(M,U),F&&(d=(f=v[0]).key);a>E&&!((h=t(e[E]))>=h);)++E;for(;a>E;){for(f&&h>=d?(g=f,m=d,y[C]=G,(f=v[++C])&&(d=f.key)):(g={key:h,value:k()},m=h),q[G]=g;!(h>m||(O[c=n[E]+r]=G,_[c]&K||(g.value=b(g.value,x[c])),++E>=a));)h=t(e[E]);o()}for(;F>C;)q[y[C]=G]=v[C++],o();if(G>C)for(C=0;r>C;++C)O[C]=y[O[C]];c=S.indexOf(Y),G>1?(Y=i,V=s):(!G&&J&&(G=1,q=[{key:null,value:k()}]),1===G?(Y=u,V=l):(Y=p,V=p),O=null),S[c]=Y}function r(){if(G>1){for(var t=G,e=q,n=w(t,t),r=0,a=0;M>r;++r)_[r]&&(n[O[a]=O[r]]=1,++a);for(q=[],G=0,r=0;t>r;++r)n[r]&&(n[r]=G++,q.push(e[r]));if(G>1)for(var r=0;a>r;++r)O[r]=n[O[r]];else O=null;S[S.indexOf(Y)]=G>1?(V=s,Y=i):1===G?(V=l,Y=u):V=Y=p}else if(1===G){if(J)return;for(var r=0;M>r;++r)if(_[r])return;q=[],G=0,S[S.indexOf(Y)]=Y=V=p}}function i(t,e,n){if(t!==Z&&!X){var r,a,o,i;for(r=0,o=e.length;o>r;++r)_[a=e[r]]&K||(i=q[O[a]],i.value=z(i.value,x[a]));for(r=0,o=n.length;o>r;++r)(_[a=n[r]]&K)===t&&(i=q[O[a]],i.value=B(i.value,x[a]))}}function u(t,e,n){if(t!==Z&&!X){var r,a,o,i=q[0];for(r=0,o=e.length;o>r;++r)_[a=e[r]]&K||(i.value=z(i.value,x[a]));for(r=0,o=n.length;o>r;++r)(_[a=n[r]]&K)===t&&(i.value=B(i.value,x[a]))}}function s(){var t,e;for(t=0;G>t;++t)q[t].value=$();for(t=0;M>t;++t)_[t]&K||(e=q[O[t]],e.value=z(e.value,x[t]))}function l(){var t,e=q[0];for(e.value=$(),t=0;M>t;++t)_[t]&K||(e.value=z(e.value,x[t]))}function c(){return X&&(V(),X=!1),q}function f(t){var e=P(c(),0,q.length,t);return j.sort(e,0,e.length)}function d(t,e,n){return z=t,B=e,$=n,X=!0,T}function h(){return d(m,v,g)}function k(t){return d(y(t),b(t),g)}function F(t){function e(e){return t(e.value)}return P=o(e),j=a(e),T}function C(){return F(e)}function E(){return G}function D(){var t=S.indexOf(Y);return t>=0&&S.splice(t,1),t=tt.indexOf(n),t>=0&&tt.splice(t,1),t=N.indexOf(r),t>=0&&N.splice(t,1),T}var T={top:f,all:c,reduce:d,reduceCount:h,reduceSum:k,order:F,orderNatural:C,size:E,dispose:D,remove:D};et.push(T);var q,O,P,j,z,B,$,H=8,U=A(H),G=0,Y=p,V=p,X=!0,J=t===p;return arguments.length<1&&(t=e),S.push(Y),tt.push(n),N.push(r),n(I,W,0,M),h().orderNatural()}function H(){var t=$(p),e=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return e()[0].value},t}function U(){et.forEach(function(t){t.dispose()});var t=T.indexOf(r);return t>=0&&T.splice(t,1),t=T.indexOf(i),t>=0&&T.splice(t,1),t=N.indexOf(s),t>=0&&N.splice(t,1),C&=K,O()}var I,W,G,Y,V,X={filter:c,filterExact:D,filterRange:q,filterFunction:P,filterAll:O,top:z,bottom:B,group:$,groupAll:H,dispose:U,remove:U},Z=~C&-~C,K=~Z,J=u(function(t){return G[t]}),Q=h,tt=[],et=[],nt=0,rt=0;return T.unshift(r),T.push(i),N.push(s),C|=Z,(E>=32?!Z:C&-(1<<E))&&(_=L(_,E<<=1)),r(x,0,M),i(x,0,M),X}function s(){function t(t,e){var n;if(!h)for(n=e;M>n;++n)_[n]||(s=l(s,x[n]))}function e(t,e,n){var r,a,o;if(!h){for(r=0,o=e.length;o>r;++r)_[a=e[r]]||(s=l(s,x[a]));for(r=0,o=n.length;o>r;++r)_[a=n[r]]===t&&(s=c(s,x[a]))}}function n(){var t;for(s=f(),t=0;M>t;++t)_[t]||(s=l(s,x[t]))}function r(t,e,n){return l=t,c=e,f=n,h=!0,d}function a(){return r(m,v,g)}function o(t){return r(y(t),b(t),g)}function i(){return h&&(n(),h=!1),s}function u(){var n=S.indexOf(e);return n>=0&&S.splice(n),n=T.indexOf(t),n>=0&&T.splice(n),d}var s,l,c,f,d={reduce:r,reduceCount:a,reduceSum:o,value:i,dispose:u,remove:u},h=!0;return S.push(e),T.push(t),t(x,0,M),a()}function l(){return M}var c={add:t,remove:r,dimension:i,groupAll:s,size:l},x=[],M=0,C=0,E=8,_=D(0),S=[],T=[],N=[];return arguments.length?t(arguments[0]):c}function w(t,e){return(257>e?D:65537>e?T:N)(t)}function k(t){for(var e=w(t,t),n=-1;++n<t;)e[n]=n;return e}function A(t){return 8===t?256:16===t?65536:4294967296}x.version="1.3.12",x.permute=n;var F=x.bisect=r(e);F.by=r;var M=x.heap=a(e);M.by=a;var C=x.heapselect=o(e);C.by=o;var E=x.insertionsort=i(e);E.by=i;var _=x.quicksort=u(e);_.by=u;var S=32,D=s,T=s,N=s,R=l,L=c;"undefined"!=typeof Uint8Array&&(D=function(t){return new Uint8Array(t)},T=function(t){return new Uint16Array(t)},N=function(t){return new Uint32Array(t)},R=function(t,e){if(t.length>=e)return t;var n=new t.constructor(e);return n.set(t),n},L=function(t,e){var n;switch(e){case 16:n=T(t.length);break;case 32:n=N(t.length);break;default:throw new Error("invalid array width!")}return n.set(t),n}),t.crossfilter=x}("undefined"!=typeof e&&e||this)},function(t,e,n){t.exports=n(15).crossfilter},function(t,e){!function(t){function e(t,e,n,r){for(var a="",o=0,i=n.length;i>o;o++)a+=r(n[o],e);return"<tr>"+a+"</tr>"}function n(t,e){var n=t.attributeWriter(e),r="<td";return(t.hidden||t.textAlign)&&(r+=' style="',t.hidden&&(r+="display: none;"),t.textAlign&&(r+="text-align: "+t.textAlign+";"),r+='"'),t.cssClass&&(r+=' class="'+t.cssClass+'"'),r+">"+n+"</td>"}function r(t){return t[this.id]}function a(e,n){return t(e).html()}function o(e,n){this.update=function(){var r="",a=n.table.columns,o=n.writers._rowWriter,i=n.writers._cellWriter;e.$element.trigger("dynatable:beforeUpdate",r);for(var u=0,s=n.dataset.records.length;s>u;u++){var l=n.dataset.records[u],c=o(u,l,a,i);r+=c}if(n.features.recordCount&&t("#dynatable-record-count-"+e.element.id).replaceWith(e.recordsCount.create()),n.features.paginate&&(t("#dynatable-pagination-links-"+e.element.id).replaceWith(e.paginationLinks.create()),n.features.perPageSelect&&t("#dynatable-per-page-"+e.element.id).val(parseInt(n.dataset.perPage))),n.features.sort&&a){e.sortsHeaders.removeAllArrows();for(var u=0,s=a.length;s>u;u++){var f=a[u],d=k.allMatch(n.dataset.sorts,f.sorts,function(t,e){return e in t}),h=n.dataset.sorts[f.sorts[0]];d&&e.$element.find('[data-dynatable-column="'+f.id+'"]').find(".dynatable-sort-header").each(function(){1==h?e.sortsHeaders.appendArrowUp(t(this)):e.sortsHeaders.appendArrowDown(t(this))})}}if(n.inputs.queries||n.features.search){var p=n.inputs.queries||t();n.features.search&&(p=p.add("#dynatable-query-search-"+e.element.id)),p.each(function(){var e=t(this),r=n.dataset.queries[e.data("dynatable-query")];e.val(r||"")})}e.$element.find(n.table.bodyRowSelector).remove(),e.$element.append(r),e.$element.trigger("dynatable:afterUpdate",r)}}function i(e,n){var r=this;this.initOnLoad=function(){return e.$element.is("table")},this.init=function(){n.table.columns=[],this.getFromTable()},this.getFromTable=function(){var a=e.$element.find(n.table.headRowSelector).children("th,td");return a.length?void a.each(function(e){r.add(t(this),e,!0)}):t.error("Couldn't find any columns headers in '"+n.table.headRowSelector+" th,td'. If your header row is different, specify the selector in the table: headRowSelector option.")},this.add=function(r,a,o,i){var u=n.table.columns,s=r.text(),l=r.data("dynatable-column")||k.normalizeText(s,n.table.defaultColumnIdStyle),c=r.data("dynatable-sorts"),f=c?t.map(c.split(","),function(e){return t.trim(e)}):[l];if(l||(this.generate(r),l=r.data("dynatable-column")),u.splice(a,0,{index:a,label:s,id:l,attributeWriter:n.writers[l]||n.writers._attributeWriter,attributeReader:n.readers[l]||n.readers._attributeReader,sorts:f,hidden:"none"===r.css("display"),textAlign:n.table.copyHeaderAlignment&&r.css("text-align"),cssClass:n.table.copyHeaderClass&&r.attr("class")}),r.attr("data-dynatable-column",l).addClass("dynatable-head"),n.table.headRowClass&&r.addClass(n.table.headRowClass),!o){var d=a+1,h=e.$element.find(n.table.headRowSelector).children("th:nth-child("+d+"),td:nth-child("+d+")").first(),p=u.slice(a+1,u.length);if(h.length?h.before(r):e.$element.find(n.table.headRowSelector).append(r),e.sortsHeaders.attachOne(r.get()),p.length)for(var g=0,m=p.length;m>g;g++)p[g].index+=1;i||e.dom.update()}return x},this.remove=function(t){var r=n.table.columns;r.length;if("number"==typeof t){var a=r[t];this.removeFromTable(a.id),this.removeFromArray(t)}else for(var o=r.length-1;o>=0;o--){var a=r[o];a.id===t&&(this.removeFromTable(t),this.removeFromArray(o))}e.dom.update()},this.removeFromTable=function(t){e.$element.find(n.table.headRowSelector).children('[data-dynatable-column="'+t+'"]').first().remove()},this.removeFromArray=function(t){var e,r=n.table.columns;r.splice(t,1),e=r.slice(t,r.length);for(var a=0,o=e.length;o>a;a++)e[a].index-=1},this.generate=function(e){var n=void 0===e?t("<th></th>"):e;return this.attachGeneratedAttributes(n)},this.attachGeneratedAttributes=function(t){var r=e.$element.find(n.table.headRowSelector).children("th[data-dynatable-generated]").length;return t.attr("data-dynatable-column","dynatable-generated-"+r).attr("data-dynatable-no-sort","true").attr("data-dynatable-generated",r)}}function u(e,n){this.initOnLoad=function(){return!n.dataset.ajax},this.init=function(){null===n.dataset.records&&(n.dataset.records=this.getFromTable(),n.dataset.queryRecordCount||(n.dataset.queryRecordCount=this.count()),n.dataset.totalRecordCount||(n.dataset.totalRecordCount=n.dataset.queryRecordCount)),n.dataset.originalRecords=t.extend(!0,[],n.dataset.records)},this.updateFromJson=function(t){var e;if("_root"===n.params.records?e=t:n.params.records in t&&(e=t[n.params.records]),n.params.record)for(var r=e.length-1,a=0;r>a;a++)e[a]=e[a][n.params.record];n.params.queryRecordCount in t&&(n.dataset.queryRecordCount=t[n.params.queryRecordCount]),n.params.totalRecordCount in t&&(n.dataset.totalRecordCount=t[n.params.totalRecordCount]),n.dataset.records=e},this.sort=function(){var r=[].sort,a=n.dataset.sorts,o=n.dataset.sortsKeys,i=n.dataset.sortTypes,u=function(n,r){var u;if(t.isEmptyObject(a))u=e.sorts.functions.originalPlacement(n,r);else for(var s=0,l=o.length;l>s;s++){var c=o[s],f=a[c],d=i[c]||e.sorts.guessType(n,r,c);if(u=e.sorts.functions[d](n,r,c,f),0!==u)break}return u};return r.call(n.dataset.records,u)},this.paginate=function(){var t=this.pageBounds(),e=t[0],r=t[1];n.dataset.records=n.dataset.records.slice(e,r)},this.resetOriginal=function(){n.dataset.records=n.dataset.originalRecords||[]},this.pageBounds=function(){var t=n.dataset.page||1,e=(t-1)*n.dataset.perPage,r=Math.min(e+n.dataset.perPage,n.dataset.queryRecordCount);return[e,r]},this.getFromTable=function(){var r=[],a=n.table.columns,o=e.$element.find(n.table.bodyRowSelector);return o.each(function(o){var i={};i["dynatable-original-index"]=o,t(this).find("th,td").each(function(n){void 0===a[n]&&e.domColumns.add(e.domColumns.generate(),a.length,!1,!0);var r=a[n].attributeReader(this,i),o=a[n].id;"string"==typeof r&&r.match(/\s*\<.+\>/)&&(i["dynatable-sortable-text"]||(i["dynatable-sortable-text"]={}),i["dynatable-sortable-text"][o]=t.trim(t("<div></div>").html(r).text())),i[o]=r}),"function"==typeof n.readers._rowReader&&n.readers._rowReader(o,this,i),r.push(i)}),r},this.count=function(){return n.dataset.records.length}}function s(e,n){this.initOnLoad=function(){return n.features.recordCount},this.init=function(){this.attach()},this.create=function(){var t="",r="",a={elementId:e.element.id,recordsShown:e.records.count(),recordsQueryCount:n.dataset.queryRecordCount,recordsTotal:n.dataset.totalRecordCount,collectionName:"_root"===n.params.records?"records":n.params.records,text:n.inputs.recordCountText};if(n.features.paginate)if(a.recordsShown<a.recordsQueryCount){var o=e.records.pageBounds();a.pageLowerBound=o[0]+1,a.pageUpperBound=o[1],t=n.inputs.recordCountPageBoundTemplate}else a.recordsShown===a.recordsQueryCount&&(t=n.inputs.recordCountPageUnboundedTemplate);return a.recordsQueryCount<a.recordsTotal&&(r=n.inputs.recordCountFilteredTemplate),a.pageTemplate=k.template(t,a),a.filteredTemplate=k.template(r,a),a.totalTemplate=k.template(n.inputs.recordCountTotalTemplate,a),a.textTemplate=k.template(n.inputs.recordCountTextTemplate,a),k.template(n.inputs.recordCountTemplate,a)},this.attach=function(){var r=n.inputs.recordCountTarget?t(n.inputs.recordCountTarget):e.$element;r[n.inputs.recordCountPlacement](this.create())}}function l(e,n){this.init=function(){this.attach()},this.create=function(){var r=t("<div></div>",{html:"<span>"+n.inputs.processingText+"</span>",id:"dynatable-processing-"+e.element.id,"class":"dynatable-processing",style:"position: absolute; display: none;"});return r},this.position=function(){var n=t("#dynatable-processing-"+e.element.id),r=n.children("span"),a=r.outerHeight(),o=r.outerWidth(),i=e.$element,u=i.offset(),s=i.outerHeight(),l=i.outerWidth();return n.offset({left:u.left,top:u.top}).width(l).height(s),r.offset({left:u.left+(l-o)/2,top:u.top+(s-a)/2}),n},this.attach=function(){e.$element.before(this.create())},this.show=function(){t("#dynatable-processing-"+e.element.id).show(),this.position()},this.hide=function(){t("#dynatable-processing-"+e.element.id).hide()}}function c(e,n){this.initOnLoad=function(){return n.features.pushState&&history.pushState},this.init=function(){window.onpopstate=function(t){t.state&&t.state.dynatable&&e.state.pop(t)}},this.push=function(r){var a,o,i,u,s,l,c=window.location.search,f=!(window.history.state&&window.history.state.dynatable),d=f?"replaceState":"pushState";c&&/^\?/.test(c)&&(c=c.substring(1)),t.extend(a,r),i=k.refreshQueryString(c,r,n),i&&(i="?"+i),u=window.location.hash,o=window.location.pathname,e.$element.trigger("dynatable:push",r),l={dynatable:{dataset:n.dataset}},f||(l.dynatable.scrollTop=t(window).scrollTop()),s=JSON.stringify(l),l.dynatable.dataset.perPageOptions=t.makeArray(l.dynatable.dataset.perPageOptions);try{window.history[d](l,"Dynatable state",o+i+u)}catch(h){l.dynatable.dataset.records=null,window.history[d](l,"Dynatable state",o+i+u)}},this.pop=function(r){var a=r.state.dynatable;n.dataset=a.dataset,a.scrollTop&&t(window).scrollTop(a.scrollTop),a.dataset.records?e.dom.update():e.process(!0)}}function f(e,n){this.initOnLoad=function(){return n.features.sort},this.init=function(){var t=window.location.search.match(new RegExp(n.params.sorts+"[^&=]*=[^&]*","g"));t&&(n.dataset.sorts=k.deserialize(t)[n.params.sorts]),n.dataset.sortsKeys.length||(n.dataset.sortsKeys=k.keysFromObject(n.dataset.sorts))},this.add=function(r,a){var o=n.dataset.sortsKeys,i=t.inArray(r,o);return n.dataset.sorts[r]=a,e.$element.trigger("dynatable:sorts:added",[r,a]),-1===i&&o.push(r),x},this.remove=function(r){var a=n.dataset.sortsKeys,o=t.inArray(r,a);return delete n.dataset.sorts[r],e.$element.trigger("dynatable:sorts:removed",r),-1!==o&&a.splice(o,1),x},this.clear=function(){n.dataset.sorts={},n.dataset.sortsKeys.length=0,e.$element.trigger("dynatable:sorts:cleared")},this.guessType=function(t,e,n){var r={string:"string",number:"number","boolean":"number",object:"number"},a=t[n]?typeof t[n]:typeof e[n],o=r[a]||"number";return o},this.functions={number:function(t,e,n,r){return t[n]===e[n]?0:r>0?t[n]-e[n]:e[n]-t[n]},string:function(t,e,n,r){var a,o=t["dynatable-sortable-text"]&&t["dynatable-sortable-text"][n]?t["dynatable-sortable-text"][n]:t[n],i=e["dynatable-sortable-text"]&&e["dynatable-sortable-text"][n]?e["dynatable-sortable-text"][n]:e[n];return o=o.toLowerCase(),i=i.toLowerCase(),a=o===i?0:r>0?o>i:i>o,a===!1?-1:a-0},originalPlacement:function(t,e){return t["dynatable-original-index"]-e["dynatable-original-index"]}}}function d(e,n){var r=this;this.initOnLoad=function(){return n.features.sort},this.init=function(){this.attach()},this.create=function(a){var o=t(a),i=t("<a></a>",{"class":"dynatable-sort-header",href:"#",html:o.html()}),u=o.data("dynatable-column"),s=k.findObjectInArray(n.table.columns,{id:u});return i.bind("click",function(t){r.toggleSort(t,i,s),e.process(),t.preventDefault()}),this.sortedByColumn(i,s)&&(1==this.sortedByColumnValue(s)?this.appendArrowUp(i):this.appendArrowDown(i)),i},this.removeAll=function(){e.$element.find(n.table.headRowSelector).children("th,td").each(function(){r.removeAllArrows(),r.removeOne(this)})},this.removeOne=function(e){var n=t(e),r=n.find(".dynatable-sort-header");if(r.length){var a=r.html();r.remove(),n.html(n.html()+a)}},this.attach=function(){e.$element.find(n.table.headRowSelector).children("th,td").each(function(){r.attachOne(this)})},this.attachOne=function(e){var n=t(e);n.data("dynatable-no-sort")||n.html(this.create(e))},this.appendArrowUp=function(t){this.removeArrow(t),t.append("<span class='dynatable-arrow'> &#9650;</span>")},this.appendArrowDown=function(t){this.removeArrow(t),t.append("<span class='dynatable-arrow'> &#9660;</span>")},this.removeArrow=function(t){t.find(".dynatable-arrow").remove()},this.removeAllArrows=function(){e.$element.find(".dynatable-arrow").remove()},this.toggleSort=function(t,r,a){var o=this.sortedByColumn(r,a),i=this.sortedByColumnValue(a);if(n.inputs.multisort&&k.anyMatch(t,n.inputs.multisort,function(e,n){return t[n]})||(this.removeAllArrows(),e.sorts.clear()),o)if(1==i){for(var u=0,s=a.sorts.length;s>u;u++)e.sorts.add(a.sorts[u],-1);this.appendArrowDown(r)}else{for(var u=0,s=a.sorts.length;s>u;u++)e.sorts.remove(a.sorts[u]);this.removeArrow(r)}else{for(var u=0,s=a.sorts.length;s>u;u++)e.sorts.add(a.sorts[u],1);this.appendArrowUp(r)}},this.sortedByColumn=function(t,e){return k.allMatch(n.dataset.sorts,e.sorts,function(t,e){return e in t})},this.sortedByColumnValue=function(t){return n.dataset.sorts[t.sorts[0]]}}function h(e,n){var r=this;this.initOnLoad=function(){return n.inputs.queries||n.features.search},this.init=function(){var t=window.location.search.match(new RegExp(n.params.queries+"[^&=]*=[^&]*","g"));n.dataset.queries=t?k.deserialize(t)[n.params.queries]:{},""===n.dataset.queries&&(n.dataset.queries={}),n.inputs.queries&&this.setupInputs()},this.add=function(t,r){return n.features.paginate&&(n.dataset.page=1),n.dataset.queries[t]=r,e.$element.trigger("dynatable:queries:added",[t,r]),x},this.remove=function(t){return delete n.dataset.queries[t],e.$element.trigger("dynatable:queries:removed",t),x},this.run=function(){for(query in n.dataset.queries)if(n.dataset.queries.hasOwnProperty(query)){var a=n.dataset.queries[query];if(void 0===r.functions[query]){var o=k.findObjectInArray(n.table.columns,{id:query});if(!o){t.error("Query named '"+query+"' called, but not defined in queries.functions");continue}r.functions[query]=function(t,e){return t[query]==e}}n.dataset.records=t.map(n.dataset.records,function(t){return r.functions[query](t,a)?t:null})}n.dataset.queryRecordCount=e.records.count()},this.runSearch=function(r){var a=t.extend({},n.dataset.queries);r?this.add("search",r):this.remove("search"),k.objectsEqual(n.dataset.queries,a)||e.process()},this.setupInputs=function(){n.inputs.queries.each(function(){var a=t(this),o=a.data("dynatable-query-event")||n.inputs.queryEvent,i=a.data("dynatable-query")||a.attr("name")||this.id,u=function(a){var o=t(this).val();return""===o&&(o=void 0),o===n.dataset.queries[i]?!1:(o?r.add(i,o):r.remove(i),e.process(),void a.preventDefault())};a.attr("data-dynatable-query",i).bind(o,u).bind("keypress",function(t){13==t.which&&u.call(this,t)}),n.dataset.queries[i]&&a.val(decodeURIComponent(n.dataset.queries[i]))})},this.functions={search:function(t,e){var n=!1;for(attr in t)if(t.hasOwnProperty(attr)){var r=t[attr];if("string"==typeof r&&-1!==r.toLowerCase().indexOf(e.toLowerCase())){n=!0;break}}else;return n}}}function p(e,n){this.initOnLoad=function(){return n.features.search},this.init=function(){this.attach()},this.create=function(){var r=t("<input />",{type:"search",id:"dynatable-query-search-"+e.element.id,"data-dynatable-query":"search",value:n.dataset.queries.search}),a=t("<span></span>",{id:"dynatable-search-"+e.element.id,"class":"dynatable-search",text:n.inputs.searchText}).append(r);return r.bind(n.inputs.queryEvent,function(){e.queries.runSearch(t(this).val())}).bind("keypress",function(n){13==n.which&&(e.queries.runSearch(t(this).val()),n.preventDefault())}),a},this.attach=function(){var r=n.inputs.searchTarget?t(n.inputs.searchTarget):e.$element;r[n.inputs.searchPlacement](this.create())}}function g(t,e){this.initOnLoad=function(){
return e.features.paginate},this.init=function(){var t=window.location.search.match(new RegExp(e.params.page+"=([^&]*)"));t&&e.features.pushState?this.set(t[1]):this.set(1)},this.set=function(n){var r=parseInt(n,10);e.dataset.page=r,t.$element.trigger("dynatable:page:set",r)}}function m(e,n){var r=this;this.initOnLoad=function(){return n.features.paginate},this.init=function(){var t=window.location.search.match(new RegExp(n.params.perPage+"=([^&]*)"));t&&n.features.pushState?this.set(t[1],!0):this.set(n.dataset.perPageDefault,!0),n.features.perPageSelect&&this.attach()},this.create=function(){for(var a=t("<select>",{id:"dynatable-per-page-"+e.element.id,"class":"dynatable-per-page-select"}),o=0,i=n.dataset.perPageOptions.length;i>o;o++){var u=n.dataset.perPageOptions[o],s=n.dataset.perPage==u?'selected="selected"':"";a.append('<option value="'+u+'" '+s+">"+u+"</option>")}return a.bind("change",function(n){r.set(t(this).val()),e.process()}),t("<span />",{"class":"dynatable-per-page"}).append("<span class='dynatable-per-page-label'>"+n.inputs.perPageText+"</span>").append(a)},this.attach=function(){var r=n.inputs.perPageTarget?t(n.inputs.perPageTarget):e.$element;r[n.inputs.perPagePlacement](this.create())},this.set=function(t,r){var a=parseInt(t);r||e.paginationPage.set(1),n.dataset.perPage=a,e.$element.trigger("dynatable:perPage:set",a)}}function v(e,n){this.initOnLoad=function(){return n.features.paginate},this.init=function(){this.attach()},this.create=function(){var r='<ul id="dynatable-pagination-links-'+e.element.id+'" class="'+n.inputs.paginationClass+'">',a=n.inputs.paginationLinkClass,o=n.inputs.paginationActiveClass,i=n.inputs.paginationDisabledClass,u=Math.ceil(n.dataset.queryRecordCount/n.dataset.perPage),s=n.dataset.page,l=[n.inputs.paginationGap[0],n.dataset.page-n.inputs.paginationGap[1],n.dataset.page+n.inputs.paginationGap[2],u+1-n.inputs.paginationGap[3]];r+="<li><span>"+n.inputs.pageText+"</span></li>";for(var c=1;u>=c;c++)if(!(c>l[0]&&c<l[1]||c>l[2]&&c<l[3])){var f,d,h=e.paginationLinks.buildLink(c,c,a,s==c,o);if(f=t.inArray(c,l),d=l[f+1],f>0&&1!==c&&d&&d>c+1){var p='<li><span class="dynatable-page-break">&hellip;</span></li>';h=2>f?p+h:h+p}if(n.inputs.paginationPrev&&1===c){var g=e.paginationLinks.buildLink(s-1,n.inputs.paginationPrev,a+" "+n.inputs.paginationPrevClass,1===s,i);h=g+h}if(n.inputs.paginationNext&&c===u){var m=e.paginationLinks.buildLink(s+1,n.inputs.paginationNext,a+" "+n.inputs.paginationNextClass,s===u,i);h+=m}r+=h}r+="</ul>";var v="#dynatable-pagination-links-"+e.element.id+" a."+a+":not(."+o+",."+i+")";return t(document).undelegate(v,"click.dynatable"),t(document).delegate(v,"click.dynatable",function(r){$this=t(this),$this.closest(n.inputs.paginationClass).find("."+o).removeClass(o),$this.addClass(o),e.paginationPage.set($this.data("dynatable-page")),e.process(),r.preventDefault()}),r},this.buildLink=function(t,e,n,r,a){var o="<a data-dynatable-page="+t+' class="'+n,i="<li";return r&&(o+=" "+a,i+=' class="'+a+'"'),o+='">'+e+"</a>",i+=">"+o+"</li>"},this.attach=function(){var r=n.inputs.paginationLinkTarget?t(n.inputs.paginationLinkTarget):e.$element;r[n.inputs.paginationLinkPlacement](e.paginationLinks.create())}}var y,b,x,w,k,A,F,e,n,r,a,M={dom:o,domColumns:i,records:u,recordsCount:s,processingIndicator:l,state:c,sorts:f,sortsHeaders:d,queries:h,inputsSearch:p,paginationPage:g,paginationPerPage:m,paginationLinks:v};y={features:{paginate:!0,sort:!0,pushState:!0,search:!0,recordCount:!0,perPageSelect:!0},table:{defaultColumnIdStyle:"camelCase",columns:null,headRowSelector:"thead tr",bodyRowSelector:"tbody tr",headRowClass:null,copyHeaderAlignment:!0,copyHeaderClass:!1},inputs:{queries:null,sorts:null,multisort:["ctrlKey","shiftKey","metaKey"],page:null,queryEvent:"blur change",recordCountTarget:null,recordCountPlacement:"after",paginationLinkTarget:null,paginationLinkPlacement:"after",paginationClass:"dynatable-pagination-links",paginationLinkClass:"dynatable-page-link",paginationPrevClass:"dynatable-page-prev",paginationNextClass:"dynatable-page-next",paginationActiveClass:"dynatable-active-page",paginationDisabledClass:"dynatable-disabled-page",paginationPrev:"Previous",paginationNext:"Next",paginationGap:[1,2,2,1],searchTarget:null,searchPlacement:"before",searchText:"Search: ",perPageTarget:null,perPagePlacement:"before",perPageText:"Show: ",pageText:"Pages: ",recordCountPageBoundTemplate:"{pageLowerBound} to {pageUpperBound} of",recordCountPageUnboundedTemplate:"{recordsShown} of",recordCountTotalTemplate:"{recordsQueryCount} {collectionName}",recordCountFilteredTemplate:" (filtered from {recordsTotal} total records)",recordCountText:"Showing",recordCountTextTemplate:"{text} {pageTemplate} {totalTemplate} {filteredTemplate}",recordCountTemplate:'<span id="dynatable-record-count-{elementId}" class="dynatable-record-count">{textTemplate}</span>',processingText:"Processing..."},dataset:{ajax:!1,ajaxUrl:null,ajaxCache:null,ajaxOnLoad:!1,ajaxMethod:"GET",ajaxDataType:"json",totalRecordCount:null,queries:{},queryRecordCount:null,page:null,perPageDefault:10,perPageOptions:[10,20,50,100],sorts:{},sortsKeys:[],sortTypes:{},records:null},writers:{_rowWriter:e,_cellWriter:n,_attributeWriter:r},readers:{_rowReader:null,_attributeReader:a},params:{dynatable:"dynatable",queries:"queries",sorts:"sorts",page:"page",perPage:"perPage",offset:"offset",records:"records",record:null,queryRecordCount:"queryRecordCount",totalRecordCount:"totalRecordCount"}},x={init:function(e,n){return this.settings=b(n),this.element=e,this.$element=t(e),A.call(this),this},process:function(t){F.call(this,t)}},b=function(e){var n=t.extend(!0,{},y,e);return e&&(e.inputs&&(e.inputs.multisort&&(n.inputs.multisort=e.inputs.multisort),e.inputs.paginationGap&&(n.inputs.paginationGap=e.inputs.paginationGap)),e.dataset&&e.dataset.perPageOptions&&(n.dataset.perPageOptions=e.dataset.perPageOptions)),n},A=function(){this.$element.trigger("dynatable:preinit",this);for(model in M)if(M.hasOwnProperty(model)){var e=this[model]=new M[model](this,this.settings);e.initOnLoad()&&e.init()}this.$element.trigger("dynatable:init",this),(!this.settings.dataset.ajax||this.settings.dataset.ajax&&this.settings.dataset.ajaxOnLoad||this.settings.features.paginate||this.settings.features.sort&&!t.isEmptyObject(this.settings.dataset.sorts))&&this.process()},F=function(e){var n={};if(this.$element.trigger("dynatable:beforeProcess",n),t.isEmptyObject(this.settings.dataset.queries)||(n[this.settings.params.queries]=this.settings.dataset.queries),this.processingIndicator.show(),this.settings.features.sort&&!t.isEmptyObject(this.settings.dataset.sorts)&&(n[this.settings.params.sorts]=this.settings.dataset.sorts),this.settings.features.paginate&&this.settings.dataset.page){var r=this.settings.dataset.page,a=this.settings.dataset.perPage;n[this.settings.params.page]=r,n[this.settings.params.perPage]=a,n[this.settings.params.offset]=(r-1)*a}if(this.settings.dataset.ajaxData&&t.extend(n,this.settings.dataset.ajaxData),this.settings.dataset.ajax){var o=this,i={type:o.settings.dataset.ajaxMethod,dataType:o.settings.dataset.ajaxDataType,data:n,error:function(t,e){o.$element.trigger("dynatable:ajax:error",{xhr:t,error:e})},success:function(t){o.$element.trigger("dynatable:ajax:success",t),o.records.updateFromJson(t),o.dom.update(),!e&&o.state.initOnLoad()&&o.state.push(n)},complete:function(){o.processingIndicator.hide()}};this.settings.dataset.ajaxUrl?i.url=this.settings.dataset.ajaxUrl:i.url=k.refreshQueryString(window.location.href,{},this.settings),null!==this.settings.dataset.ajaxCache&&(i.cache=this.settings.dataset.ajaxCache),t.ajax(i)}else this.records.resetOriginal(),this.queries.run(),this.settings.features.sort&&this.records.sort(),this.settings.features.paginate&&this.records.paginate(),this.dom.update(),this.processingIndicator.hide(),!e&&this.state.initOnLoad()&&this.state.push(n);this.$element.addClass("dynatable-loaded"),this.$element.trigger("dynatable:afterProcess",n)},w={initOnLoad:function(){return!0},init:function(){}};for(model in M)if(M.hasOwnProperty(model)){var C=M[model];C.prototype=w}k=x.utility={normalizeText:function(t,e){return t=this.textTransform[e](t)},textTransform:{trimDash:function(t){return t.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"-")},camelCase:function(t){return t=this.trimDash(t),t.replace(/(\-[a-zA-Z])/g,function(t){return t.toUpperCase().replace("-","")}).replace(/([A-Z])([A-Z]+)/g,function(t,e,n){return e+n.toLowerCase()}).replace(/^[A-Z]/,function(t){return t.toLowerCase()})},dashed:function(t){return t=this.trimDash(t),this.lowercase(t)},underscore:function(t){return t=this.trimDash(t),this.lowercase(t.replace(/(-)/g,"_"))},lowercase:function(t){return t.replace(/([A-Z])/g,function(t){return t.toLowerCase()})}},deserialize:function(e){if(!e)return{};"object"==typeof e&&(e=e.join("&"));for(var n={},r=e.split("&"),a=0;a<r.length;a++){var o,i,u=r[a].split("="),s=decodeURIComponent(u[0]);if(u[1]){for(o=decodeURIComponent(u[1].replace(/\+/g," "));i=s.match(/([^&=]+)\[([^&=]+)\]$/);){var l=o;s=i[1],o={},"]["==i[2].substr(i[2].length-2)?o[i[2].substr(0,i[2].length-2)]=[l]:o[i[2]]=l}"undefined"==typeof n[s]?"[]"!=s.substr(s.length-2)?n[s]=o:n[s]=[o]:"string"==typeof n[s]?n[s]=o:"object"==typeof n[s]?n[s]=t.extend({},n[s],o):n[s].push(o)}}return n},refreshQueryString:function(e,n,r){var a,o=this,i=e.split("?");i.shift();a=this.deserialize(e);for(d in r.params)if(r.params.hasOwnProperty(d)){var u=r.params[d];if(!r.features.sort&&"sorts"==d||!r.features.paginate&&o.anyMatch(d,["page","perPage","offset"],function(t,e){return t==e}))continue;if(("page"===d||"offset"===d)&&1===n.page){a[u]&&delete a[u];continue}if("perPage"===d&&n[u]==r.dataset.perPageDefault){a[u]&&delete a[u];continue}if("queries"==d&&n[u]){var s=r.inputs.queries||[],l=t.makeArray(s.map(function(){return t(this).attr("name")}));r.features.search&&l.push("search");for(var c=0,f=l.length;f>c;c++){var d=l[c];n[u][d]?("undefined"==typeof a[u]&&(a[u]={}),a[u][d]=n[u][d]):a&&a[u]&&a[u][d]&&delete a[u][d]}continue}n[u]?a[u]=n[u]:delete a[u]}return t.param(a)},keysFromObject:function(t){var e=[];for(var n in t)e.push(n);return e},findObjectInArray:function(t,e){for(var n,r=this,a=0,o=t.length;o>a;a++){var i=t[a];if(r.allMatch(i,e,function(t,e,n){return t[e]==n})){n=i;break}}return n},allMatch:function(e,n,r){var a=!0,o=t.isArray(n);return t.each(n,function(t,n){var i=o?r(e,n):r(e,t,n);return i?void 0:a=!1}),a},anyMatch:function(e,n,r){var a=!1,o=t.isArray(n);return t.each(n,function(t,n){var i=o?r(e,n):r(e,t,n);return i?(a=!0,!1):void 0}),a},objectsEqual:function(t,e){for(attr in t)if(t.hasOwnProperty(attr)&&(!e.hasOwnProperty(attr)||t[attr]!==e[attr]))return!1;for(attr in e)if(e.hasOwnProperty(attr)&&!t.hasOwnProperty(attr))return!1;return!0},randomHash:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},template:function(t,e){return t.replace(/{(\w*)}/g,function(t,n){return e.hasOwnProperty(n)?e[n]:""})}},"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),t.dynatableSetup=function(t){y=b(t)},t.dynatable=function(e){t.fn.dynatable=function(n){return this.each(function(){t.data(this,"dynatable")||t.data(this,"dynatable",Object.create(e).init(this,n))})}},t.dynatable(x)}(jQuery)},function(t,e,n){t.exports=n.p+"45c73723862c6fc5eb3d6961db2d71fb.eot"},function(t,e,n){t.exports=n.p+"45c73723862c6fc5eb3d6961db2d71fb.eot"},function(t,e,n){var r,a,o;/*!
	 * inflection
	 * Copyright(c) 2011 Ben Lin <ben@dreamerslab.com>
	 * MIT Licensed
	 *
	 * @fileoverview
	 * A port of inflection-js to node.js module.
	 */
!function(n,i){a=[],r=i,o="function"==typeof r?r.apply(e,a):r,!(void 0!==o&&(t.exports=o))}(this,function(){var t=["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],e=[[new RegExp("(m)en$","gi")],[new RegExp("(pe)ople$","gi")],[new RegExp("(child)ren$","gi")],[new RegExp("([ti])a$","gi")],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi")],[new RegExp("(hive)s$","gi")],[new RegExp("(tive)s$","gi")],[new RegExp("(curve)s$","gi")],[new RegExp("([lr])ves$","gi")],[new RegExp("([^fo])ves$","gi")],[new RegExp("([^aeiouy]|qu)ies$","gi")],[new RegExp("(s)eries$","gi")],[new RegExp("(m)ovies$","gi")],[new RegExp("(x|ch|ss|sh)es$","gi")],[new RegExp("([m|l])ice$","gi")],[new RegExp("(bus)es$","gi")],[new RegExp("(o)es$","gi")],[new RegExp("(shoe)s$","gi")],[new RegExp("(cris|ax|test)es$","gi")],[new RegExp("(octop|vir)i$","gi")],[new RegExp("(alias|status)es$","gi")],[new RegExp("^(ox)en","gi")],[new RegExp("(vert|ind)ices$","gi")],[new RegExp("(matr)ices$","gi")],[new RegExp("(quiz)zes$","gi")],[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]],n=[[new RegExp("(m)an$","gi")],[new RegExp("(pe)rson$","gi")],[new RegExp("(child)$","gi")],[new RegExp("^(ox)$","gi")],[new RegExp("(ax|test)is$","gi")],[new RegExp("(octop|vir)us$","gi")],[new RegExp("(alias|status)$","gi")],[new RegExp("(bu)s$","gi")],[new RegExp("(buffal|tomat|potat)o$","gi")],[new RegExp("([ti])um$","gi")],[new RegExp("sis$","gi")],[new RegExp("(?:([^f])fe|([lr])f)$","gi")],[new RegExp("(hive)$","gi")],[new RegExp("([^aeiouy]|qu)y$","gi")],[new RegExp("(x|ch|ss|sh)$","gi")],[new RegExp("(matr|vert|ind)ix|ex$","gi")],[new RegExp("([m|l])ouse$","gi")],[new RegExp("(quiz)$","gi")],[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("ss$","gi"),"ss"],[new RegExp("s$","gi"),""]],r=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],a=new RegExp("(_ids|_id)$","g"),o=new RegExp("_","g"),i=new RegExp("[ _]","g"),u=new RegExp("([A-Z])","g"),s=new RegExp("^_"),l={_apply_rules:function(t,e,n,r){if(r)t=r;else{var a=l.indexOf(n,t.toLowerCase())>-1;if(!a)for(var o=0,i=e.length;i>o;o++)if(t.match(e[o][0])){void 0!==e[o][1]&&(t=t.replace(e[o][0],e[o][1]));break}}return t},indexOf:function(t,e,n,r){n||(n=-1);for(var a=-1,o=n,i=t.length;i>o;o++)if(t[o]===e||r&&r(t[o],e)){a=o;break}return a},pluralize:function(n,r){return l._apply_rules(n,e,t,r)},singularize:function(e,r){return l._apply_rules(e,n,t,r)},camelize:function(t,e){for(var n,r,a,o,i=t.split("/"),u=0,s=i.length;s>u;u++){for(n=i[u].split("_"),r=0,a=n.length;a>r;r++)0!==r&&(n[r]=n[r].toLowerCase()),o=n[r].charAt(0),o=e&&0===u&&0===r?o.toLowerCase():o.toUpperCase(),n[r]=o+n[r].substring(1);i[u]=n.join("")}return i.join("::")},underscore:function(t,e){if(e&&t===t.toUpperCase())return t;for(var n=t.split("::"),r=0,a=n.length;a>r;r++)n[r]=n[r].replace(u,"_$1"),n[r]=n[r].replace(s,"");return n.join("/").toLowerCase()},humanize:function(t,e){return t=t.toLowerCase(),t=t.replace(a,""),t=t.replace(o," "),e||(t=l.capitalize(t)),t},capitalize:function(t){return t=t.toLowerCase(),t.substring(0,1).toUpperCase()+t.substring(1)},dasherize:function(t){return t.replace(i,"-")},titleize:function(t){t=t.toLowerCase().replace(o," ");for(var e,n,a,i=t.split(" "),u=0,s=i.length;s>u;u++){for(e=i[u].split("-"),n=0,a=e.length;a>n;n++)l.indexOf(r,e[n].toLowerCase())<0&&(e[n]=l.capitalize(e[n]));i[u]=e.join("-")}return t=i.join(" "),t=t.substring(0,1).toUpperCase()+t.substring(1)},demodulize:function(t){var e=t.split("::");return e[e.length-1]},tableize:function(t){return t=l.underscore(t),t=l.pluralize(t)},classify:function(t){return t=l.camelize(t),t=l.singularize(t)},foreign_key:function(t,e){return t=l.demodulize(t),t=l.underscore(t)+(e?"":"_")+"id"},ordinalize:function(t){for(var e=t.split(" "),n=0,r=e.length;r>n;n++){var a=parseInt(e[n],10);if(!isNaN(a)){var o=e[n].substring(e[n].length-2),i=e[n].substring(e[n].length-1),u="th";"11"!=o&&"12"!=o&&"13"!=o&&("1"===i?u="st":"2"===i?u="nd":"3"===i&&(u="rd")),e[n]+=u}}return e.join(" ")},transform:function(t,e){for(var n=0,r=e.length;r>n;n++){var a=e[n];this.hasOwnProperty(a)&&(t=this[a](t))}return t}};return l.version="1.3.8",l})},function(t,e,n){var r=n(10);"string"==typeof r&&(r=[[t.id,r,""]]);n(3)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(11);"string"==typeof r&&(r=[[t.id,r,""]]);n(3)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.id,r,""]]);n(3)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(13);"string"==typeof r&&(r=[[t.id,r,""]]);n(3)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){t.exports=n.p+"4b5a84aaf1c9485e060c503a0ff8cadb.woff2"},function(t,e,n){t.exports=n.p+"dfb02f8f6d0cedc009ee5887cc68f1f3.woff"},function(t,e,n){t.exports=n.p+"7c87870ab40d63cfb8870c1f183f9939.ttf"},function(t,e,n){t.exports=n.p+"76a4f23c6be74fd309e0d0fd2c27a5de.svg"},function(t,e){function n(){var t=JSON.parse('[{"value":"44","nvalue":"-4","countrycode":"US","state":"California","status":"T","id":1,"region":"South","date":"2012-05-25T16:10:09Z"}, {"value":"22","nvalue":"-2","countrycode":"US","state":"Colorado","status":"F","id":2,"region":"West","date":"2012-06-10T16:10:19Z"}, {"value":"33","nvalue":"1","countrycode":"US","state":"Delaware","status":"T","id":3,"region":"West","date":"2012-08-10T16:20:29Z"}, {"value":"44","nvalue":"-3","countrycode":"US","state":"California","status":"F","id":4,"region":"South","date":"2012-07-01T16:10:39Z"}, {"value":"55","nvalue":"-5","countrycode":"CA","state":"Ontario","status":"T","id":5,"region":"Central","date":"2012-06-10T16:10:49Z"}, {"value":"66","nvalue":"-4","countrycode":"US","state":"California","status":"F","id":6,"region":"West","date":"2012-06-08T16:10:59Z"}, {"value":"22","nvalue":"10","countrycode":"CA","state":"Ontario","status":"T","id":7,"region":"East","date":"2012-07-10T16:10:09Z"}, {"value":"33","nvalue":"1","countrycode":"US","state":"Mississippi","status":"F","id":8,"region":"Central","date":"2012-07-10T16:10:19Z"}, {"value":"44","nvalue":"2","countrycode":"US","state":"Mississippi","status":"T","id":9,"region":"Central","date":"2012-08-10T16:30:29Z"}, {"value":"55","nvalue":"-3","countrycode":"US","state":"Oklahoma","status":"F","id":10,"region":"","date":"2012-06-10T16:10:39Z"}]');return t.forEach(u),t}function r(){var t=JSON.parse('[{"value":"11","nvalue":"-4","countrycode":"UK","state":"Liverpool","status":"T","id":11,"region":"South","date":"2012-05-25T16:20:09Z"}, {"value":"76","nvalue":"-1","countrycode":"UK","state":"London","status":"F","id":12,"region":"","date":"2012-06-10T16:20:39Z"}]');return t.forEach(u),t}function a(){return JSON.parse('[{"value":"44","nvalue":"-4","countrycode":"US","state":"California","status":"T","id":1,"region":"South","date":"2012-05-25T16:10:09Z"}, {"value":"22","nvalue":"-2","countrycode":"US","state":"Colorado","status":"F","id":2,"region":"West","date":"2012-06-10T16:10:19Z"}, {"value":"33","nvalue":"1","countrycode":"US","state":"Delaware","status":"T","id":3,"region":"West","date":"2012-08-10T16:20:29Z"}, {"value":"44","nvalue":"-3","countrycode":"US","state":"California","status":"F","id":4,"region":"South","date":"2012-07-01T16:10:39Z"}, {"value":"55","nvalue":"-5","countrycode":"US","state":"Ontario","status":"T","id":5,"region":"Central","date":"2012-06-10T16:10:49Z"}, {"value":"66","nvalue":"-4","countrycode":"US","state":"California","status":"F","id":6,"region":"West","date":"2012-06-08T16:10:59Z"}, {"value":"33","nvalue":"10","countrycode":"US","state":"Ontario","status":"T","id":7,"region":"East","date":"2012-07-10T16:10:09Z"}, {"value":"33","nvalue":"1","countrycode":"US","state":"Mississippi","status":"F","id":8,"region":"Central","date":"2012-07-10T16:10:19Z"}, {"value":"44","nvalue":"2","countrycode":"US","state":"Mississippi","status":"T","id":9,"region":"Central","date":"2012-08-10T16:30:29Z"}, {"value":"1","nvalue":"-12","countrycode":"US","state":"Washington","status":"F","id":12,"region":"","date":"2012-06-10T16:10:39Z"}, {"value":"144","nvalue":"-3","countrycode":"US","state":"Massachusetts","status":"T","id":15,"region":"","date":"2012-06-10T16:10:39Z"}, {"value":"1","nvalue":"-4","countrycode":"CA","state":"California","statCA":"T","id":1,"region":"South","date":"2012-05-25T16:10:09Z"}, {"value":"2","nvalue":"-2","countrycode":"CA","state":"Colorado","statCA":"F","id":2,"region":"West","date":"2012-06-10T16:10:19Z"}, {"value":"3","nvalue":"1","countrycode":"CA","state":"Delaware","statCA":"T","id":3,"region":"West","date":"2012-08-10T16:20:29Z"}]')}function o(){return JSON.parse('[{"colData":"1", "rowData": "1", "colorData": "1"},{"colData":"1", "rowData": "1", "colorData": "1"},{"colData":"1", "rowData": "2", "colorData": "2"},{"colData":"1", "rowData": "2", "colorData": "2"},{"colData":"2", "rowData": "1", "colorData": "3"},{"colData":"2", "rowData": "1", "colorData": "3"},{"colData":"2", "rowData": "2", "colorData": "4"},{"colData":"2", "rowData": "2", "colorData": "4"}]')}function i(){return JSON.parse('[{"colData":"3", "rowData": "3", "colorData": "5"},{"colData":"3", "rowData": "4", "colorData": "5"},{"colData":"4", "rowData": "5", "colorData": "6"},{"colData":"4", "rowData": "6", "colorData": "6"},{"colData":"5", "rowData": "3", "colorData": "7"},{"colData":"5", "rowData": "4", "colorData": "7"},{"colData":"6", "rowData": "5", "colorData": "8"},{"colData":"6", "rowData": "6", "colorData": "8"}]')}function u(t){t.dd=d3.time.format.iso.parse(t.date)}t.exports={loadDateFixture:n,loadDateFixture2:r,loadColorFixture:o,loadColorFixture2:i,loadBoxPlotFixture:a,dateCleaner:u}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n,a=r.baseMixin({}),o="hide-visually";return a._mandatoryAttributes(void 0),a.hiddenClassName=function(t){return arguments.length?(o=t,a):o},a.charts=function(t){return arguments.length?(n=t,a):n},a.refreshList=function(){a.root().html(""),Object.keys(n).forEach(function(t){function e(t,n){t._children&&t._children.forEach(function(t){var r=t.name,a=t.value,o=n.append("li");if(o.append("h2").text("Level: "+t.columnName),o.append("h3").text(s(r,a)),t._children){var i=o.append("ul").style("list-style-type","none");e(t,i)}})}function o(t,e){t.sourceLinks.forEach(function(t){var n=t.target,r=n.name,a=n.value,i=e.append("li");if(i.append("h2").text("Column: "+n.columnName),i.append("h3").text(s(r,a)),n.sourceLinks.length>0){var u=i.append("ul").style("list-style-type","none");o(n,u)}})}a.root().append("h2").attr("tabindex","0").text(t);var i=a.root().append("ul").style("list-style-type","none"),u=n[t].chart,s=n[t].formatter||function(t,e){return t+" "+e};u.root().attr("aria-hidden","true"),u.data().forEach(function(t){if(t){if(void 0!==t.key&&void 0!=t.value){var n=u.label()(t),a=u.valueAccessor()(t);i.append("li").append("button").on("click",function(){u.filter(t.key),r.redrawAll()}).text(s(n,a))}else if(void 0!==t.values)t.values.forEach(function(t){var e,n=t.data,a=u.label()(n);e=u.valueAccessor()(n),i.append("li").append("button").on("click",function(){u.filter(n.key),r.redrawAll()}).text(s(a,e))});else if(void 0!==t.depth){var l=t,n=l.name,a=l.value,c=i.append("li");c.append("h2").text("Top Level: "+l.columnName),c.append("h3").text(s(n,a));var f=c.append("ul").style("list-style-type","none");e(l,f)}else if(void 0!==t.links){var l=t,d=l.nodes[0].columnName;l.nodes.forEach(function(t){if(t.columnName===d){var e=t.name,n=t.value,r=i.append("li");r.append("h2").text("Column: "+t.columnName),r.append("h3").text(s(e,n));var a=r.append("ul").style("list-style-type","none");o(t,a)}})}}else i.append("li").append("button").text(s("No Data",""))})})},a._doRender=function(){a.root().classed("audio-dash",!0),a.root().classed(o,!0),a.refreshList()},a._doRedraw=function(){a.refreshList()},a.anchor(t,e)}},function(t,e,n){var r=n(5);window.jQuery=r;var a=n(2);n(17);t.exports=function(t,e){function n(t){var e=t||1/0;a.events.trigger(function(){i.settings.dataset.originalRecords=s.dimension().top(e),i.paginationPage.set(1),i.process()})}var o,i,u,s=a.baseMixin({});return s.columns=function(t){return arguments.length?(o=t,s):o},s.settings=function(t){return arguments.length?(u=t,s):u},s.dataTable=function(){return i},s._doRender=function(){if(!i){s.root().html("");var e=s.root().append("table");e.attr("class","dc-datatable"),e.attr("id",t.replace("#","")+"-id");var a=e.append("thead").append("tr");a.selectAll("th").data(o).enter().append("th").attr("data-dynatable-column",function(t){return t.csvColumnName}).style({"text-align":function(t){return t.alignment}}).text(function(t){return t.label});var l={features:{pushState:!1,search:!0},inputs:{paginationPrev:'<i class="fa fa-caret-square-o-left"></i>&#160;Previous',paginationNext:'Next&#160;<i class="fa fa-caret-square-o-right"></i>',perPageText:"records per page"},dataset:{records:s.dimension().top(10),perPageDefault:10,perPageOptions:[10,50,100,200,500]}};r.extend(l,u),i=r(t+" table").dynatable(l).data("dynatable")}n(10)},s._doRedraw=function(){n()},s.anchor(t,e)}},function(t,e,n){var r=n(2);n(20);n(24),n(21),n(22),n(23),t.exports=function(t,e){function n(t){return t.chart.label&&void 0!==t.chart.label()?t.chart.label()({key:t.filterValue})||"N/A":t.filterValue||"N/A"}function a(t,e){var r=n(t),a=n(e);return r>a?1:a>r?-1:0}function o(t,e){var n;n=void 0===t.on?d3.select(t):t;var r=n.append("div").classed({"picker-choices":!0,"dimension-list-container":!0}).style("display","none");r.append("div").classed("header",!0).text("Add a Filter on").append("i").classed({fa:!0,"fa-times":!0}).on("click",function(){r.style("display","none"),a.selectAll("div.picker-choices").style("display","none"),a.selectAll("li.selected").classed("selected",!1),d3.event.stopPropagation()});var a=r.append("ul").classed({"dimension-list":!0}),o=a.selectAll("li.dimension-option").data(e).enter().append("li").attr("class",function(t){return t.options&&t.options["class"]}).classed("dimension-option",!0).text(function(t){return t.label}).on("click",function(t){u(this,n),d3.event.stopPropagation()});i(o),n.on("click",function(){s(),d3.select(".dimension-list-container").style("display","block");try{d3.event.stopPropagation()}catch(t){}})}function i(t){var e=t.selectAll("div.value-list-container").data(function(t){return[t]}).enter().append("div").classed({"picker-choices":!0,"value-list-container":!0}).style("display","none");e.selectAll("div.header").data(function(t){return[t]}).enter().append("div").classed("header",!0).text(function(t){return'Choose a value for "'+t.label+'"'}).append("i").classed({fa:!0,"fa-times":!0}).on("click",function(){e.style("display","none"),i.selectAll("div.picker-choices").style("display","none"),i.selectAll("li.selected").classed("selected",!1),d3.event.stopPropagation()});var o=e.append("div").classed("listFilterContainer",!0);o.append("i").classed("fa fa-2x fa-search",!0),o.data(function(t){return[t]}).append("input").attr("placeholder","Filter the list below...").on("click",function(t){d3.event.stopPropagation()}).on("input",function(e){that=this,r.events.trigger(function(){t.select("ul."+r.utils.nameToId(e.label)).selectAll("li.value-option").classed("hidden",function(t){var e=new RegExp(that.value,"i");return this.textContent.search(e)<0})},200)});var i=e.selectAll("ul.value-list").data(function(t){return[t]}).enter().append("ul").attr("class",function(t){return r.utils.nameToId(t.label)}).classed({"value-list":!0});i.selectAll("li.value-option").data(function(t){return t.chart.group().top(1/0).map(function(e){return{chart:t.chart,filterValue:e.key}}).filter(function(t){return t.chart.filters().indexOf(t.filterValue)<0}).sort(a)}).enter().append("li").text(function(t){return n(t)}).classed("value-option",!0).on("click",function(t){t.chart.filter(t.filterValue),r.redrawAll(),d3.event.stopPropagation()})}function u(t,e){var n;n=void 0===t.on?d3.select(t):t,e?(e.selectAll("ul.dimension-list .value-list-container").style("display","none"),e.selectAll("ul.dimension-list li").classed("selected",!1)):s(),n.select(".value-list-container").style("display","block"),n.classed("selected",!0)}function s(){d3.selectAll(".value-list-container")[0].forEach(function(t){d3.select(t).style("display","none")}),d3.select(".dimension-list-container").style("display","none")}var l=r.baseMixin({}),c=[];return l._mandatoryAttributes([]),l.filterSources=function(t){return arguments.length?(c=t,l):c},l._doRender=function(){var t=!1,e=c.filter(function(t){return t.chart.filters().length>0}),a=c.filter(function(t){return 0===t.chart.filters().length});e.length>0&&(t=!0),l.root().classed("filter-builder",!0),l.root().html(""),l.root().append("h2").html('<i class="fa fa-2x fa-filter"></i><span class="hide-visually">Filter</span>');var s=l.root().append("ul"),f=s.append("li").classed("add-filter",!0);if(f.append("i").classed({fa:!0,"fa-plus":!0}),o(f,a),t){var d=s.selectAll("li.filtered-field").data(e).enter().append("li").classed("filtered-field",!0),h=(d.selectAll("span.field-label").data(function(t){return[t]}).enter().append("span").classed("field-label",!0).text(function(t){return t.label}),d.selectAll("ul").data(function(t){return[t]}).enter().append("ul").classed("filter-value-list",!0)),p=(h.selectAll("li.filter-value").data(function(t){return t.chart.filters().map(function(e){return{chart:t.chart,filterValue:e}})}).enter().append("li").classed("filter-value",!0).text(function(t){return n(t)}).on("click",function(t){t.chart.filter(t.filterValue),r.redrawAll(),d3.event.stopPropagation()}),h.selectAll("li.add-value").data(function(t){return[t]}).enter().append("li").classed({"add-value":!0,"filter-value":!0}).append("i").classed({fa:!0,"fa-plus":!0}).on("click",function(){u(this),d3.event.stopPropagation()}));i(p);d.selectAll("span.close").data(function(t){return[t.chart]}).enter().append("span").classed({close:!0}).on("click",function(t){t.filterAll(),r.redrawAll(),d3.event.stopPropagation()}).append("i").classed({fa:!0,"fa-times":!0})}return l},l._doRedraw=function(){return l._doRender()},d3.select("html").on("click",function(){d3.selectAll(".picker-choices").style("display","none")}),l.anchor(t,e)}}]);
//# sourceMappingURL=filter-builder-bundle.js.map